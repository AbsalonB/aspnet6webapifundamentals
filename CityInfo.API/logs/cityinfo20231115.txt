2023-11-15 10:54:31.147 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 10:54:31.644 -06:00 [DBG] Hosting starting
2023-11-15 10:54:31.918 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 10:54:31.999 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 10:54:32.001 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 10:54:32.002 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 10:54:32.003 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 10:54:32.005 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 10:54:32.006 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 10:54:32.008 -06:00 [INF] Hosting environment: Development
2023-11-15 10:54:32.009 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 10:54:32.010 -06:00 [DBG] Hosting started
2023-11-15 10:55:00.578 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 10:55:00.733 -06:00 [DBG] Hosting starting
2023-11-15 10:55:00.918 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 10:55:00.992 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 10:55:00.994 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 10:55:00.996 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 10:55:00.998 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 10:55:00.999 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 10:55:01.000 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 10:55:01.002 -06:00 [INF] Hosting environment: Development
2023-11-15 10:55:01.003 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 10:55:01.004 -06:00 [DBG] Hosting started
2023-11-15 10:59:05.601 -06:00 [DBG] Config reload token fired. Checking for changes...
2023-11-15 10:59:05.866 -06:00 [DBG] Config reload token fired. Checking for changes...
2023-11-15 10:59:16.156 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 10:59:16.308 -06:00 [DBG] Hosting starting
2023-11-15 10:59:16.507 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 10:59:16.573 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 10:59:16.575 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 10:59:16.577 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 10:59:16.578 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 10:59:16.580 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 10:59:16.582 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 10:59:16.584 -06:00 [INF] Hosting environment: Development
2023-11-15 10:59:16.586 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 10:59:16.588 -06:00 [DBG] Hosting started
2023-11-15 10:59:42.695 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 10:59:42.837 -06:00 [DBG] Hosting starting
2023-11-15 10:59:43.019 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 10:59:43.100 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 10:59:43.102 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 10:59:43.104 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 10:59:43.107 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 10:59:43.108 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 10:59:43.110 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 10:59:43.112 -06:00 [INF] Hosting environment: Development
2023-11-15 10:59:43.113 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 10:59:43.114 -06:00 [DBG] Hosting started
2023-11-15 11:05:04.302 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 11:05:04.504 -06:00 [DBG] Hosting starting
2023-11-15 11:05:04.740 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 11:05:04.859 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 11:05:04.861 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 11:05:04.862 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 11:05:04.863 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 11:05:04.865 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 11:05:04.868 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 11:05:04.870 -06:00 [INF] Hosting environment: Development
2023-11-15 11:05:04.871 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 11:05:04.873 -06:00 [DBG] Hosting started
2023-11-15 11:42:10.002 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 11:42:10.264 -06:00 [DBG] Hosting starting
2023-11-15 11:42:10.522 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 11:42:10.625 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 11:42:10.628 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 11:42:10.631 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 11:42:10.633 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 11:42:10.635 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 11:42:10.637 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 11:42:10.639 -06:00 [INF] Hosting environment: Development
2023-11-15 11:42:10.641 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 11:42:10.643 -06:00 [DBG] Hosting started
2023-11-15 11:42:56.640 -06:00 [DBG] Connection id "0HMV6096MQSJU" received FIN.
2023-11-15 11:42:56.674 -06:00 [DBG] Connection id "0HMV6096MQSJU" accepted.
2023-11-15 11:42:56.684 -06:00 [DBG] Connection id "0HMV6096MQSJU" started.
2023-11-15 11:42:56.686 -06:00 [DBG] Connection id "0HMV6096MQSJV" accepted.
2023-11-15 11:42:56.689 -06:00 [DBG] Connection id "0HMV6096MQSJV" started.
2023-11-15 11:42:56.725 -06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-15 11:42:56.825 -06:00 [DBG] Connection id "0HMV6096MQSJU" stopped.
2023-11-15 11:42:56.832 -06:00 [DBG] Connection id "0HMV6096MQSJU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 11:42:56.846 -06:00 [DBG] Connection 0HMV6096MQSJV established using the following protocol: "Tls13"
2023-11-15 11:42:56.936 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities/1/pointsofinterest/1 - -
2023-11-15 11:42:56.969 -06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-15 11:42:57.051 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 11:42:57.103 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-11-15 11:42:57.112 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-11-15 11:42:57.116 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 11:42:57.122 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 11:42:57.175 -06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestsDto]] GetPointsOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-15 11:42:57.180 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 11:42:57.182 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 11:42:57.185 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 11:42:57.188 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 11:42:57.191 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 11:42:57.196 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 11:42:57.201 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 11:42:57.213 -06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-15 11:42:57.219 -06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-15 11:42:57.226 -06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 11:42:57.229 -06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 11:42:57.232 -06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-15 11:42:57.238 -06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-15 11:42:57.244 -06:00 [DBG] Attempting to bind parameter 'pointofInterestId' of type 'System.Int32' ...
2023-11-15 11:42:57.247 -06:00 [DBG] Attempting to bind parameter 'pointofInterestId' of type 'System.Int32' using the name 'pointofInterestId' in request data ...
2023-11-15 11:42:57.252 -06:00 [DBG] Done attempting to bind parameter 'pointofInterestId' of type 'System.Int32'.
2023-11-15 11:42:57.256 -06:00 [DBG] Done attempting to bind parameter 'pointofInterestId' of type 'System.Int32'.
2023-11-15 11:42:57.260 -06:00 [DBG] Attempting to validate the bound parameter 'pointofInterestId' of type 'System.Int32' ...
2023-11-15 11:42:57.263 -06:00 [DBG] Done attempting to validate the bound parameter 'pointofInterestId' of type 'System.Int32'.
2023-11-15 11:42:57.276 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 11:42:57.285 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 11:42:57.286 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 11:42:57.293 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 11:42:57.296 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-15 11:42:57.301 -06:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestsDto'.
2023-11-15 11:42:57.593 -06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 388.2915ms
2023-11-15 11:42:57.599 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 11:42:57.601 -06:00 [DBG] Connection id "0HMV6096MQSJV" completed keep alive response.
2023-11-15 11:42:57.607 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities/1/pointsofinterest/1 - - - 200 147 application/json;+charset=utf-8 677.1713ms
2023-11-15 11:43:05.934 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities/1/pointsofinterest/1 - -
2023-11-15 11:43:05.936 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 11:43:05.946 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-11-15 11:43:05.950 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-11-15 11:43:05.967 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 11:43:05.986 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 11:43:06.001 -06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestsDto]] GetPointsOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-15 11:43:06.016 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 11:43:06.030 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 11:43:06.049 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 11:43:06.062 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 11:43:06.067 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 11:43:06.071 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 11:43:06.077 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 11:43:06.080 -06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-15 11:43:06.084 -06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-15 11:43:06.090 -06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 11:43:06.094 -06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 11:43:06.098 -06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-15 11:43:06.101 -06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-15 11:43:06.105 -06:00 [DBG] Attempting to bind parameter 'pointofInterestId' of type 'System.Int32' ...
2023-11-15 11:43:06.111 -06:00 [DBG] Attempting to bind parameter 'pointofInterestId' of type 'System.Int32' using the name 'pointofInterestId' in request data ...
2023-11-15 11:43:06.115 -06:00 [DBG] Done attempting to bind parameter 'pointofInterestId' of type 'System.Int32'.
2023-11-15 11:43:06.118 -06:00 [DBG] Done attempting to bind parameter 'pointofInterestId' of type 'System.Int32'.
2023-11-15 11:43:06.125 -06:00 [DBG] Attempting to validate the bound parameter 'pointofInterestId' of type 'System.Int32' ...
2023-11-15 11:43:06.127 -06:00 [DBG] Done attempting to validate the bound parameter 'pointofInterestId' of type 'System.Int32'.
2023-11-15 11:43:06.133 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 11:43:06.139 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 11:43:06.142 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 11:43:06.143 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 11:43:06.145 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-15 11:43:06.149 -06:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestsDto'.
2023-11-15 11:43:06.156 -06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 85.6426ms
2023-11-15 11:43:06.163 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 11:43:06.166 -06:00 [DBG] Connection id "0HMV6096MQSJV" completed keep alive response.
2023-11-15 11:43:06.168 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities/1/pointsofinterest/1 - - - 200 147 application/json;+charset=utf-8 234.2198ms
2023-11-15 11:43:19.814 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities/1/pointsofinterest/1 - -
2023-11-15 11:43:19.816 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 11:43:19.817 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-11-15 11:43:19.823 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-11-15 11:43:19.830 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 11:43:19.833 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 11:43:19.837 -06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestsDto]] GetPointsOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-15 11:43:19.840 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 11:43:19.846 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 11:43:19.849 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 11:43:19.854 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 11:43:19.858 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 11:43:19.862 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 11:43:19.865 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 11:43:19.866 -06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-15 11:43:19.869 -06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-15 11:43:19.874 -06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 11:43:19.876 -06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 11:43:19.881 -06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-15 11:43:19.883 -06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-15 11:43:19.885 -06:00 [DBG] Attempting to bind parameter 'pointofInterestId' of type 'System.Int32' ...
2023-11-15 11:43:19.888 -06:00 [DBG] Attempting to bind parameter 'pointofInterestId' of type 'System.Int32' using the name 'pointofInterestId' in request data ...
2023-11-15 11:43:19.891 -06:00 [DBG] Done attempting to bind parameter 'pointofInterestId' of type 'System.Int32'.
2023-11-15 11:43:19.894 -06:00 [DBG] Done attempting to bind parameter 'pointofInterestId' of type 'System.Int32'.
2023-11-15 11:43:19.896 -06:00 [DBG] Attempting to validate the bound parameter 'pointofInterestId' of type 'System.Int32' ...
2023-11-15 11:43:19.898 -06:00 [DBG] Done attempting to validate the bound parameter 'pointofInterestId' of type 'System.Int32'.
2023-11-15 11:43:19.900 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 11:43:19.906 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 11:43:19.907 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 11:43:19.909 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 11:43:19.913 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-15 11:43:19.916 -06:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestsDto'.
2023-11-15 11:43:19.920 -06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 58.5557ms
2023-11-15 11:43:19.924 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 11:43:19.928 -06:00 [DBG] Connection id "0HMV6096MQSJV" completed keep alive response.
2023-11-15 11:43:19.930 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities/1/pointsofinterest/1 - - - 200 147 application/json;+charset=utf-8 115.8456ms
2023-11-15 11:44:07.745 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities - -
2023-11-15 11:44:07.748 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 11:44:07.750 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-11-15 11:44:07.752 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/Cities' is valid for the request path '/api/cities'
2023-11-15 11:44:07.756 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 11:44:07.757 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 11:44:07.777 -06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-11-15 11:44:07.784 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 11:44:07.789 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 11:44:07.793 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 11:44:07.795 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 11:44:07.796 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 11:44:07.801 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 11:44:08.424 -06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-15 11:44:08.692 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 11:44:14.600 -06:00 [INF] Entity Framework Core 6.0.24 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.24' with options: None
2023-11-15 11:44:14.682 -06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(x => x.Name)'
2023-11-15 11:44:15.211 -06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-11-15 11:44:15.314 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 11:44:15.786 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (467ms).
2023-11-15 11:44:15.807 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 11:44:15.853 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 11:44:15.881 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-11-15 11:44:15.939 -06:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-11-15 11:44:15.987 -06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 11:44:16.038 -06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 11:44:16.056 -06:00 [DBG] A data reader was disposed.
2023-11-15 11:44:16.075 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 11:44:16.087 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 11:44:19.986 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 11:44:19.992 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 11:44:19.993 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 11:44:19.994 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 11:44:19.996 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-15 11:44:19.998 -06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-15 11:44:20.007 -06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 12206.6187ms
2023-11-15 11:44:20.011 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 11:44:20.014 -06:00 [DBG] Connection id "0HMV6096MQSJV" completed keep alive response.
2023-11-15 11:44:20.025 -06:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 11:44:20.039 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities - - - 200 103 application/json;+charset=utf-8 12294.7100ms
2023-11-15 11:57:28.868 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 11:57:29.011 -06:00 [DBG] Hosting starting
2023-11-15 11:57:29.227 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 11:57:29.328 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 11:57:29.330 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 11:57:29.331 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 11:57:29.333 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 11:57:29.334 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 11:57:29.337 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 11:57:29.339 -06:00 [INF] Hosting environment: Development
2023-11-15 11:57:29.340 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 11:57:29.342 -06:00 [DBG] Hosting started
2023-11-15 11:57:37.097 -06:00 [DBG] Connection id "0HMV60HD3H4FT" received FIN.
2023-11-15 11:57:37.113 -06:00 [DBG] Connection id "0HMV60HD3H4FT" accepted.
2023-11-15 11:57:37.117 -06:00 [DBG] Connection id "0HMV60HD3H4FT" started.
2023-11-15 11:57:37.120 -06:00 [DBG] Connection id "0HMV60HD3H4FU" accepted.
2023-11-15 11:57:37.122 -06:00 [DBG] Connection id "0HMV60HD3H4FU" started.
2023-11-15 11:57:37.153 -06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-15 11:57:37.232 -06:00 [DBG] Connection id "0HMV60HD3H4FT" stopped.
2023-11-15 11:57:37.236 -06:00 [DBG] Connection id "0HMV60HD3H4FT" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 11:57:37.254 -06:00 [DBG] Connection 0HMV60HD3H4FU established using the following protocol: "Tls13"
2023-11-15 11:57:37.346 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities/1 - -
2023-11-15 11:57:37.369 -06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-15 11:57:37.448 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 11:57:37.502 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-11-15 11:57:37.512 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/Cities/{id}' is valid for the request path '/api/cities/1'
2023-11-15 11:57:37.515 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-15 11:57:37.522 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-15 11:57:37.587 -06:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-11-15 11:57:37.592 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 11:57:37.596 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 11:57:37.598 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 11:57:37.601 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 11:57:37.603 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 11:57:37.607 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 11:57:37.889 -06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-15 11:57:38.220 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 11:57:38.229 -06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-11-15 11:57:38.235 -06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-11-15 11:57:38.240 -06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-11-15 11:57:38.243 -06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-11-15 11:57:38.245 -06:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-11-15 11:57:38.249 -06:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-11-15 11:57:38.256 -06:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-11-15 11:57:38.258 -06:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-11-15 11:57:38.262 -06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-11-15 11:57:38.266 -06:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-11-15 11:57:38.270 -06:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-11-15 11:57:38.272 -06:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-11-15 11:57:38.274 -06:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-11-15 11:57:39.681 -06:00 [INF] Entity Framework Core 6.0.24 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.24' with options: None
2023-11-15 11:57:39.781 -06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .FirstOrDefault(x => x.Id == __cityId_0)'
2023-11-15 11:57:40.257 -06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-15 11:57:40.353 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 11:57:40.467 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (109ms).
2023-11-15 11:57:40.497 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 11:57:40.530 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 11:57:40.560 -06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-11-15 11:57:40.610 -06:00 [INF] Executed DbCommand (60ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-11-15 11:57:40.661 -06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 11:57:40.726 -06:00 [DBG] A data reader was disposed.
2023-11-15 11:57:40.738 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 11:57:40.754 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 11:57:40.780 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 11:57:40.788 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 11:57:40.790 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 11:57:40.793 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 11:57:40.797 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-15 11:57:40.803 -06:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointsOfInterestDto'.
2023-11-15 11:57:41.099 -06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 3485.7205ms
2023-11-15 11:57:41.103 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-15 11:57:41.106 -06:00 [DBG] Connection id "0HMV60HD3H4FU" completed keep alive response.
2023-11-15 11:57:41.115 -06:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 11:57:41.127 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities/1 - - - 200 49 application/json;+charset=utf-8 3788.9287ms
2023-11-15 11:59:55.051 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities/1?includePointsOfInterest=true - -
2023-11-15 11:59:55.054 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 11:59:55.056 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-11-15 11:59:55.058 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/Cities/{id}' is valid for the request path '/api/cities/1'
2023-11-15 11:59:55.062 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-15 11:59:55.063 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-15 11:59:55.065 -06:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-11-15 11:59:55.067 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 11:59:55.069 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 11:59:55.072 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 11:59:55.077 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 11:59:55.079 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 11:59:55.081 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 11:59:55.083 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 11:59:55.109 -06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-11-15 11:59:55.111 -06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-11-15 11:59:55.113 -06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-11-15 11:59:55.115 -06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-11-15 11:59:55.116 -06:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-11-15 11:59:55.118 -06:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-11-15 11:59:55.121 -06:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-11-15 11:59:55.124 -06:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-11-15 11:59:55.129 -06:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-11-15 11:59:55.131 -06:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-11-15 11:59:55.132 -06:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-11-15 11:59:55.134 -06:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-11-15 11:59:55.161 -06:00 [INF] Entity Framework Core 6.0.24 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.24' with options: None
2023-11-15 11:59:55.184 -06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(x => x.PointsOfInterest)
    .FirstOrDefault(x => x.Id == __cityId_0)'
2023-11-15 11:59:55.232 -06:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-11-15 11:59:55.605 -06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterst.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterst.CityId (int) Required FK Index, 4], [Property: PointOfInterst.Description (string) Required MaxLength(200), 5], [Property: PointOfInterst.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-15 11:59:55.616 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 11:59:55.622 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2023-11-15 11:59:55.625 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 11:59:55.627 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 11:59:55.629 -06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-11-15 11:59:55.634 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-11-15 11:59:55.638 -06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 11:59:55.660 -06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterst' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 11:59:55.709 -06:00 [DBG] A data reader was disposed.
2023-11-15 11:59:55.711 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 11:59:55.713 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 11:59:55.904 -06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 823.0926ms
2023-11-15 11:59:55.912 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-15 11:59:55.915 -06:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
City -> CityDto
CityInfo.API.Entities.City -> CityInfo.API.Models.CityDto
   at lambda_method98(Closure , Object , CityDto , ResolutionContext )
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointsOfInterest) in C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\Controllers\CitiesController.cs:line 44
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-11-15 11:59:55.982 -06:00 [DBG] Connection id "0HMV60HD3H4FU" completed keep alive response.
2023-11-15 11:59:55.985 -06:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 11:59:55.989 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities/1?includePointsOfInterest=true - - - 500 - text/plain;+charset=utf-8 937.5299ms
2023-11-15 12:03:21.846 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 12:03:21.991 -06:00 [DBG] Hosting starting
2023-11-15 12:03:22.300 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 12:03:22.476 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 12:03:22.477 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 12:03:22.479 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 12:03:22.480 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 12:03:22.481 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 12:03:22.483 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 12:03:22.485 -06:00 [INF] Hosting environment: Development
2023-11-15 12:03:22.486 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 12:03:22.488 -06:00 [DBG] Hosting started
2023-11-15 12:03:22.598 -06:00 [DBG] Connection id "0HMV60KK2FO5M" received FIN.
2023-11-15 12:03:22.611 -06:00 [DBG] Connection id "0HMV60KK2FO5M" accepted.
2023-11-15 12:03:22.615 -06:00 [DBG] Connection id "0HMV60KK2FO5M" started.
2023-11-15 12:03:22.617 -06:00 [DBG] Connection id "0HMV60KK2FO5N" accepted.
2023-11-15 12:03:22.619 -06:00 [DBG] Connection id "0HMV60KK2FO5N" started.
2023-11-15 12:03:22.636 -06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-15 12:03:22.703 -06:00 [DBG] Connection id "0HMV60KK2FO5M" stopped.
2023-11-15 12:03:22.711 -06:00 [DBG] Connection id "0HMV60KK2FO5M" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 12:03:22.724 -06:00 [DBG] Connection 0HMV60KK2FO5N established using the following protocol: "Tls13"
2023-11-15 12:03:22.813 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities/1?includePointsOfInterest=true - -
2023-11-15 12:03:22.836 -06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-15 12:03:22.912 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 12:03:22.967 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-11-15 12:03:22.977 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/Cities/{id}' is valid for the request path '/api/cities/1'
2023-11-15 12:03:22.983 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-15 12:03:22.991 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-15 12:03:23.058 -06:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-11-15 12:03:23.064 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 12:03:23.067 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 12:03:23.069 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 12:03:23.072 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 12:03:23.076 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 12:03:23.080 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 12:03:23.306 -06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-15 12:03:23.536 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 12:03:23.550 -06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-11-15 12:03:23.556 -06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-11-15 12:03:23.559 -06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-11-15 12:03:23.560 -06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-11-15 12:03:23.562 -06:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-11-15 12:03:23.569 -06:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-11-15 12:03:23.575 -06:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-11-15 12:03:23.578 -06:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-11-15 12:03:23.581 -06:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-11-15 12:03:23.583 -06:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-11-15 12:03:23.586 -06:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-11-15 12:03:23.588 -06:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-11-15 12:03:25.004 -06:00 [INF] Entity Framework Core 6.0.24 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.24' with options: None
2023-11-15 12:03:25.157 -06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(x => x.PointsOfInterest)
    .FirstOrDefault(x => x.Id == __cityId_0)'
2023-11-15 12:03:25.336 -06:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-11-15 12:03:25.863 -06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterst.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterst.CityId (int) Required FK Index, 4], [Property: PointOfInterst.Description (string) Required MaxLength(200), 5], [Property: PointOfInterst.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-15 12:03:25.981 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 12:03:26.096 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (108ms).
2023-11-15 12:03:26.126 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:03:26.163 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:03:26.192 -06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-11-15 12:03:26.257 -06:00 [INF] Executed DbCommand (75ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-11-15 12:03:26.295 -06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 12:03:26.347 -06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterst' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 12:03:26.402 -06:00 [DBG] A data reader was disposed.
2023-11-15 12:03:26.416 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:03:26.433 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:03:26.622 -06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 3536.1523ms
2023-11-15 12:03:26.627 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-15 12:03:26.629 -06:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
City -> CityDto
CityInfo.API.Entities.City -> CityInfo.API.Models.CityDto
   at lambda_method90(Closure , Object , CityDto , ResolutionContext )
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointsOfInterest) in C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\Controllers\CitiesController.cs:line 44
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-11-15 12:03:26.684 -06:00 [DBG] Connection id "0HMV60KK2FO5N" completed keep alive response.
2023-11-15 12:03:26.697 -06:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 12:03:26.708 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities/1?includePointsOfInterest=true - - - 500 - text/plain;+charset=utf-8 3904.0885ms
2023-11-15 12:03:37.027 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities/1?includePointsOfInterest=true - -
2023-11-15 12:03:37.029 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 12:03:37.034 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-11-15 12:03:37.036 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/Cities/{id}' is valid for the request path '/api/cities/1'
2023-11-15 12:03:37.042 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-15 12:03:37.046 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-15 12:03:37.052 -06:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-11-15 12:03:37.059 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 12:03:37.064 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 12:03:37.070 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 12:03:37.077 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 12:03:37.084 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 12:03:37.087 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 12:03:37.090 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 12:03:37.095 -06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-11-15 12:03:37.099 -06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-11-15 12:03:37.105 -06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-11-15 12:03:37.107 -06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-11-15 12:03:37.110 -06:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-11-15 12:03:37.112 -06:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-11-15 12:03:37.114 -06:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-11-15 12:03:37.116 -06:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-11-15 12:03:37.119 -06:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-11-15 12:03:37.121 -06:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-11-15 12:03:37.124 -06:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-11-15 12:03:37.126 -06:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-11-15 12:03:37.129 -06:00 [INF] Entity Framework Core 6.0.24 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.24' with options: None
2023-11-15 12:03:37.144 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 12:03:37.147 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-11-15 12:03:37.153 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:03:37.155 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:03:37.157 -06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-11-15 12:03:37.171 -06:00 [INF] Executed DbCommand (13ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-11-15 12:03:37.176 -06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 12:03:37.183 -06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterst' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 12:03:37.192 -06:00 [DBG] A data reader was disposed.
2023-11-15 12:03:37.195 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:03:37.199 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:03:37.309 -06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 221.5695ms
2023-11-15 12:03:37.311 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-15 12:03:37.313 -06:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
City -> CityDto
CityInfo.API.Entities.City -> CityInfo.API.Models.CityDto
   at lambda_method90(Closure , Object , CityDto , ResolutionContext )
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointsOfInterest) in C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\Controllers\CitiesController.cs:line 44
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-11-15 12:03:37.327 -06:00 [DBG] Connection id "0HMV60KK2FO5N" completed keep alive response.
2023-11-15 12:03:37.328 -06:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 12:03:37.330 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities/1?includePointsOfInterest=true - - - 500 - text/plain;+charset=utf-8 302.5917ms
2023-11-15 12:04:04.940 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities/1?includePointsOfInterest=true - -
2023-11-15 12:04:04.945 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 12:04:04.949 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-11-15 12:04:04.951 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/Cities/{id}' is valid for the request path '/api/cities/1'
2023-11-15 12:04:04.955 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-15 12:04:04.956 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-15 12:04:04.958 -06:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-11-15 12:04:04.960 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 12:04:04.963 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 12:04:04.967 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 12:04:04.972 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 12:04:04.976 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 12:04:04.982 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 12:04:04.990 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 12:04:05.002 -06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-11-15 12:04:05.005 -06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-11-15 12:04:05.012 -06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-11-15 12:04:05.015 -06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-11-15 12:04:05.019 -06:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-11-15 12:04:05.023 -06:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-11-15 12:04:05.026 -06:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-11-15 12:04:05.031 -06:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-11-15 12:04:05.034 -06:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-11-15 12:04:05.036 -06:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-11-15 12:04:05.039 -06:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-11-15 12:04:05.042 -06:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-11-15 12:04:15.380 -06:00 [INF] Entity Framework Core 6.0.24 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.24' with options: None
2023-11-15 12:04:15.386 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 12:04:15.389 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-11-15 12:04:15.391 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:04:15.394 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:04:15.397 -06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-11-15 12:04:15.401 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-11-15 12:04:15.406 -06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 12:04:15.408 -06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterst' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 12:04:15.412 -06:00 [DBG] A data reader was disposed.
2023-11-15 12:04:15.414 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:04:15.416 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:04:26.396 -06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 21413.7538ms
2023-11-15 12:04:26.406 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-15 12:04:26.417 -06:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
City -> CityDto
CityInfo.API.Entities.City -> CityInfo.API.Models.CityDto
   at lambda_method90(Closure , Object , CityDto , ResolutionContext )
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointsOfInterest) in C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\Controllers\CitiesController.cs:line 44
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-11-15 12:04:26.430 -06:00 [DBG] Connection id "0HMV60KK2FO5N" completed keep alive response.
2023-11-15 12:04:26.449 -06:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 12:04:26.450 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities/1?includePointsOfInterest=true - - - 500 - text/plain;+charset=utf-8 21510.8095ms
2023-11-15 12:04:53.006 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 12:04:53.175 -06:00 [DBG] Hosting starting
2023-11-15 12:04:53.341 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 12:04:53.407 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 12:04:53.408 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 12:04:53.410 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 12:04:53.412 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 12:04:53.414 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 12:04:53.418 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 12:04:53.421 -06:00 [INF] Hosting environment: Development
2023-11-15 12:04:53.423 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 12:04:53.424 -06:00 [DBG] Hosting started
2023-11-15 12:09:06.910 -06:00 [DBG] Connection id "0HMV60NQM3ARU" received FIN.
2023-11-15 12:09:06.955 -06:00 [DBG] Connection id "0HMV60NQM3ARU" accepted.
2023-11-15 12:09:06.974 -06:00 [DBG] Connection id "0HMV60NQM3ARU" started.
2023-11-15 12:09:06.980 -06:00 [DBG] Connection id "0HMV60NQM3ARV" accepted.
2023-11-15 12:09:06.987 -06:00 [DBG] Connection id "0HMV60NQM3ARV" started.
2023-11-15 12:09:07.043 -06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-15 12:09:07.148 -06:00 [DBG] Connection id "0HMV60NQM3ARU" stopped.
2023-11-15 12:09:07.154 -06:00 [DBG] Connection id "0HMV60NQM3ARU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 12:09:07.180 -06:00 [DBG] Connection 0HMV60NQM3ARV established using the following protocol: "Tls13"
2023-11-15 12:09:07.320 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities/1?includePointsOfInterest=true - -
2023-11-15 12:09:07.369 -06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-15 12:09:07.477 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 12:09:07.565 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-11-15 12:09:07.574 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/Cities/{id}' is valid for the request path '/api/cities/1'
2023-11-15 12:09:07.577 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-15 12:09:07.585 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-15 12:09:07.671 -06:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-11-15 12:09:07.678 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 12:09:07.680 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 12:09:07.684 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 12:09:07.690 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 12:09:07.694 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 12:09:07.697 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 12:09:07.977 -06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-15 12:09:08.393 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 12:09:08.420 -06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-11-15 12:09:08.425 -06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-11-15 12:09:08.437 -06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-11-15 12:09:08.440 -06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-11-15 12:09:08.444 -06:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-11-15 12:09:08.450 -06:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-11-15 12:09:08.458 -06:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-11-15 12:09:08.463 -06:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-11-15 12:09:08.472 -06:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-11-15 12:09:08.474 -06:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-11-15 12:09:08.479 -06:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-11-15 12:09:08.483 -06:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-11-15 12:09:14.159 -06:00 [INF] Entity Framework Core 6.0.24 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.24' with options: None
2023-11-15 12:09:14.362 -06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(x => x.PointsOfInterest)
    .FirstOrDefault(x => x.Id == __cityId_0)'
2023-11-15 12:09:14.634 -06:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-11-15 12:09:15.246 -06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterst.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterst.CityId (int) Required FK Index, 4], [Property: PointOfInterst.Description (string) Required MaxLength(200), 5], [Property: PointOfInterst.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-15 12:09:15.381 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 12:09:15.502 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (116ms).
2023-11-15 12:09:15.528 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:09:15.560 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:09:15.594 -06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-11-15 12:09:15.655 -06:00 [INF] Executed DbCommand (74ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-11-15 12:09:15.726 -06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 12:09:15.794 -06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterst' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 12:09:15.839 -06:00 [DBG] A data reader was disposed.
2023-11-15 12:09:15.854 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:09:15.869 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:09:15.900 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 12:09:15.909 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 12:09:15.912 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 12:09:15.914 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 12:09:15.917 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-15 12:09:15.921 -06:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2023-11-15 12:09:16.159 -06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 8452.0567ms
2023-11-15 12:09:16.164 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-15 12:09:16.167 -06:00 [DBG] Connection id "0HMV60NQM3ARV" completed keep alive response.
2023-11-15 12:09:16.179 -06:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 12:09:16.193 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities/1?includePointsOfInterest=true - - - 200 102 application/json;+charset=utf-8 8896.0940ms
2023-11-15 12:25:43.153 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 12:25:43.335 -06:00 [DBG] Hosting starting
2023-11-15 12:25:43.510 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 12:25:43.586 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 12:25:43.589 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 12:25:43.591 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 12:25:43.593 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 12:25:43.594 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 12:25:43.596 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 12:25:43.597 -06:00 [INF] Hosting environment: Development
2023-11-15 12:25:43.598 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 12:25:43.600 -06:00 [DBG] Hosting started
2023-11-15 12:26:03.208 -06:00 [DBG] Connection id "0HMV6119I8R2I" received FIN.
2023-11-15 12:26:03.228 -06:00 [DBG] Connection id "0HMV6119I8R2I" accepted.
2023-11-15 12:26:03.238 -06:00 [DBG] Connection id "0HMV6119I8R2I" started.
2023-11-15 12:26:03.242 -06:00 [DBG] Connection id "0HMV6119I8R2J" accepted.
2023-11-15 12:26:03.243 -06:00 [DBG] Connection id "0HMV6119I8R2J" started.
2023-11-15 12:26:03.267 -06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-15 12:26:03.349 -06:00 [DBG] Connection id "0HMV6119I8R2I" stopped.
2023-11-15 12:26:03.354 -06:00 [DBG] Connection id "0HMV6119I8R2I" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 12:26:03.391 -06:00 [DBG] Connection 0HMV6119I8R2J established using the following protocol: "Tls13"
2023-11-15 12:26:03.495 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities/1/pointsofinterest - -
2023-11-15 12:26:03.528 -06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-15 12:26:03.638 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 12:26:03.720 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-11-15 12:26:03.731 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-11-15 12:26:03.735 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 12:26:03.743 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 12:26:03.835 -06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestsDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-15 12:26:03.842 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 12:26:03.845 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 12:26:03.849 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 12:26:03.853 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 12:26:03.857 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 12:26:03.861 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 12:26:04.312 -06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-15 12:26:04.355 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 12:26:04.363 -06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-15 12:26:04.368 -06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-15 12:26:04.375 -06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 12:26:04.378 -06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 12:26:04.379 -06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-15 12:26:04.383 -06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-15 12:26:05.635 -06:00 [INF] Entity Framework Core 6.0.24 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.24' with options: None
2023-11-15 12:26:05.824 -06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(x => x.PointsOfInterest)
    .FirstOrDefault(x => x.Id == __cityId_0)'
2023-11-15 12:26:06.029 -06:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-11-15 12:26:06.599 -06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterst.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterst.CityId (int) Required FK Index, 4], [Property: PointOfInterst.Description (string) Required MaxLength(200), 5], [Property: PointOfInterst.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-15 12:26:06.698 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 12:26:06.826 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (121ms).
2023-11-15 12:26:06.868 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:26:06.919 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:26:06.966 -06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-11-15 12:26:07.041 -06:00 [INF] Executed DbCommand (94ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-11-15 12:26:07.105 -06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 12:26:07.198 -06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterst' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 12:26:07.274 -06:00 [DBG] A data reader was disposed.
2023-11-15 12:26:07.305 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:26:07.335 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:26:07.452 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 12:26:07.463 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 12:26:07.465 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 12:26:07.467 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 12:26:07.472 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-15 12:26:07.475 -06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestsDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-15 12:26:08.056 -06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 4182.3207ms
2023-11-15 12:26:08.069 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 12:26:08.072 -06:00 [DBG] Connection id "0HMV6119I8R2J" completed keep alive response.
2023-11-15 12:26:08.104 -06:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 12:26:08.127 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities/1/pointsofinterest - - - 200 102 application/json;+charset=utf-8 4639.7974ms
2023-11-15 12:26:21.209 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities/1/pointsofinterest/1 - -
2023-11-15 12:26:21.212 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 12:26:21.215 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-11-15 12:26:21.219 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-11-15 12:26:21.221 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 12:26:21.223 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 12:26:21.230 -06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestsDto]] GetPointsOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-15 12:26:21.234 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 12:26:21.238 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 12:26:21.242 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 12:26:21.245 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 12:26:21.248 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 12:26:21.250 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 12:26:21.257 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 12:26:21.261 -06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-15 12:26:21.264 -06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-15 12:26:21.266 -06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 12:26:21.268 -06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 12:26:21.272 -06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-15 12:26:21.274 -06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-15 12:26:21.277 -06:00 [DBG] Attempting to bind parameter 'pointofInterestId' of type 'System.Int32' ...
2023-11-15 12:26:21.280 -06:00 [DBG] Attempting to bind parameter 'pointofInterestId' of type 'System.Int32' using the name 'pointofInterestId' in request data ...
2023-11-15 12:26:21.283 -06:00 [DBG] Done attempting to bind parameter 'pointofInterestId' of type 'System.Int32'.
2023-11-15 12:26:21.288 -06:00 [DBG] Done attempting to bind parameter 'pointofInterestId' of type 'System.Int32'.
2023-11-15 12:26:21.290 -06:00 [DBG] Attempting to validate the bound parameter 'pointofInterestId' of type 'System.Int32' ...
2023-11-15 12:26:21.292 -06:00 [DBG] Done attempting to validate the bound parameter 'pointofInterestId' of type 'System.Int32'.
2023-11-15 12:26:21.329 -06:00 [INF] Entity Framework Core 6.0.24 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.24' with options: None
2023-11-15 12:26:21.335 -06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(x => x.Id == __cityId_0)'
2023-11-15 12:26:21.353 -06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-15 12:26:21.387 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 12:26:21.390 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-11-15 12:26:21.393 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:26:21.395 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:26:21.398 -06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-15 12:26:21.403 -06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-15 12:26:21.407 -06:00 [DBG] A data reader was disposed.
2023-11-15 12:26:21.409 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:26:21.410 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:26:21.417 -06:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterst>()
    .FirstOrDefault(x => x.Id == __pointOfInterestId_0 && x.CityId == __cityId_1)'
2023-11-15 12:26:21.428 -06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterst>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterst>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterst.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterst.CityId (int) Required FK Index, 1], [Property: PointOfInterst.Description (string) Required MaxLength(200), 2], [Property: PointOfInterst.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.Id == @__pointOfInterestId_0) && (p.CityId == @__cityId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterst>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-15 12:26:21.436 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 12:26:21.437 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-11-15 12:26:21.441 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:26:21.446 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:26:21.450 -06:00 [DBG] Executing DbCommand [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."Id" = @__pointOfInterestId_0) AND ("p"."CityId" = @__cityId_1)
LIMIT 1
2023-11-15 12:26:21.455 -06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."Id" = @__pointOfInterestId_0) AND ("p"."CityId" = @__cityId_1)
LIMIT 1
2023-11-15 12:26:21.458 -06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterst' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 12:26:21.459 -06:00 [DBG] A data reader was disposed.
2023-11-15 12:26:21.460 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:26:21.463 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:26:21.470 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 12:26:21.473 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 12:26:21.474 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 12:26:21.475 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 12:26:21.476 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-15 12:26:21.480 -06:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Entities.PointOfInterst'.
2023-11-15 12:26:21.503 -06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 252.6571ms
2023-11-15 12:26:21.505 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 12:26:21.508 -06:00 [DBG] Connection id "0HMV6119I8R2J" completed keep alive response.
2023-11-15 12:26:21.512 -06:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 12:26:21.517 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities/1/pointsofinterest/1 - - - 200 72 application/json;+charset=utf-8 306.7661ms
2023-11-15 12:26:33.613 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities/1/pointsofinterest/1 - -
2023-11-15 12:26:33.616 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 12:26:33.620 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-11-15 12:26:33.623 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-11-15 12:26:33.624 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 12:26:33.626 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 12:26:33.628 -06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestsDto]] GetPointsOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-15 12:26:33.632 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 12:26:33.637 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 12:26:33.641 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 12:26:33.644 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 12:26:33.649 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 12:26:33.653 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 12:26:33.663 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 12:26:33.667 -06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-15 12:26:33.669 -06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-15 12:26:33.673 -06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 12:26:33.675 -06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 12:26:33.682 -06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-15 12:26:33.685 -06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-15 12:26:33.689 -06:00 [DBG] Attempting to bind parameter 'pointofInterestId' of type 'System.Int32' ...
2023-11-15 12:26:33.692 -06:00 [DBG] Attempting to bind parameter 'pointofInterestId' of type 'System.Int32' using the name 'pointofInterestId' in request data ...
2023-11-15 12:26:33.698 -06:00 [DBG] Done attempting to bind parameter 'pointofInterestId' of type 'System.Int32'.
2023-11-15 12:26:33.702 -06:00 [DBG] Done attempting to bind parameter 'pointofInterestId' of type 'System.Int32'.
2023-11-15 12:26:33.705 -06:00 [DBG] Attempting to validate the bound parameter 'pointofInterestId' of type 'System.Int32' ...
2023-11-15 12:26:33.708 -06:00 [DBG] Done attempting to validate the bound parameter 'pointofInterestId' of type 'System.Int32'.
2023-11-15 12:26:33.808 -06:00 [INF] Entity Framework Core 6.0.24 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.24' with options: None
2023-11-15 12:26:33.816 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 12:26:33.819 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-11-15 12:26:33.821 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:26:33.822 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:26:33.824 -06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-15 12:26:33.827 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-15 12:26:33.831 -06:00 [DBG] A data reader was disposed.
2023-11-15 12:26:33.835 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:26:33.837 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:26:33.839 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 12:26:33.840 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-11-15 12:26:33.842 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:26:33.844 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:26:33.846 -06:00 [DBG] Executing DbCommand [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."Id" = @__pointOfInterestId_0) AND ("p"."CityId" = @__cityId_1)
LIMIT 1
2023-11-15 12:26:33.851 -06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."Id" = @__pointOfInterestId_0) AND ("p"."CityId" = @__cityId_1)
LIMIT 1
2023-11-15 12:26:33.858 -06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterst' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 12:26:33.860 -06:00 [DBG] A data reader was disposed.
2023-11-15 12:26:33.863 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:26:33.865 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:26:33.869 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 12:26:33.875 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 12:26:33.876 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 12:26:33.879 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 12:26:33.880 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-15 12:26:33.883 -06:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Entities.PointOfInterst'.
2023-11-15 12:26:33.886 -06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 233.0054ms
2023-11-15 12:26:33.888 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 12:26:33.890 -06:00 [DBG] Connection id "0HMV6119I8R2J" completed keep alive response.
2023-11-15 12:26:33.891 -06:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 12:26:33.893 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities/1/pointsofinterest/1 - - - 200 72 application/json;+charset=utf-8 279.9735ms
2023-11-15 12:26:41.156 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities/1/pointsofinterest/1 - -
2023-11-15 12:26:41.157 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 12:26:41.162 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-11-15 12:26:41.167 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-11-15 12:26:41.171 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 12:26:41.173 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 12:26:41.174 -06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestsDto]] GetPointsOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-15 12:26:41.179 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 12:26:41.182 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 12:26:41.185 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 12:26:41.198 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 12:26:41.205 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 12:26:41.210 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 12:26:41.213 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 12:26:41.216 -06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-15 12:26:41.219 -06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-15 12:26:41.222 -06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 12:26:41.224 -06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 12:26:41.226 -06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-15 12:26:41.231 -06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-15 12:26:41.233 -06:00 [DBG] Attempting to bind parameter 'pointofInterestId' of type 'System.Int32' ...
2023-11-15 12:26:41.236 -06:00 [DBG] Attempting to bind parameter 'pointofInterestId' of type 'System.Int32' using the name 'pointofInterestId' in request data ...
2023-11-15 12:26:41.239 -06:00 [DBG] Done attempting to bind parameter 'pointofInterestId' of type 'System.Int32'.
2023-11-15 12:26:41.243 -06:00 [DBG] Done attempting to bind parameter 'pointofInterestId' of type 'System.Int32'.
2023-11-15 12:26:41.246 -06:00 [DBG] Attempting to validate the bound parameter 'pointofInterestId' of type 'System.Int32' ...
2023-11-15 12:26:41.248 -06:00 [DBG] Done attempting to validate the bound parameter 'pointofInterestId' of type 'System.Int32'.
2023-11-15 12:26:44.104 -06:00 [INF] Entity Framework Core 6.0.24 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.24' with options: None
2023-11-15 12:26:44.111 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 12:26:44.113 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-11-15 12:26:44.115 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:26:44.117 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:26:44.118 -06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-15 12:26:44.121 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-15 12:26:44.123 -06:00 [DBG] A data reader was disposed.
2023-11-15 12:26:44.124 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:26:44.129 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:26:44.862 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 12:26:44.864 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-11-15 12:26:44.866 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:26:44.869 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:26:44.872 -06:00 [DBG] Executing DbCommand [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."Id" = @__pointOfInterestId_0) AND ("p"."CityId" = @__cityId_1)
LIMIT 1
2023-11-15 12:26:44.875 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."Id" = @__pointOfInterestId_0) AND ("p"."CityId" = @__cityId_1)
LIMIT 1
2023-11-15 12:26:44.879 -06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterst' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 12:26:44.881 -06:00 [DBG] A data reader was disposed.
2023-11-15 12:26:44.883 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:26:44.887 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:26:47.115 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 12:26:47.121 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 12:26:47.122 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 12:26:47.123 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 12:26:47.124 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-15 12:26:47.126 -06:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Entities.PointOfInterst'.
2023-11-15 12:26:47.128 -06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 5918.393ms
2023-11-15 12:26:47.131 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 12:26:47.133 -06:00 [DBG] Connection id "0HMV6119I8R2J" completed keep alive response.
2023-11-15 12:26:47.135 -06:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 12:26:47.136 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities/1/pointsofinterest/1 - - - 200 72 application/json;+charset=utf-8 5980.3171ms
2023-11-15 12:47:15.802 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 12:47:15.944 -06:00 [DBG] Hosting starting
2023-11-15 12:47:16.160 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 12:47:16.257 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 12:47:16.259 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 12:47:16.261 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 12:47:16.263 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 12:47:16.265 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 12:47:16.267 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 12:47:16.268 -06:00 [INF] Hosting environment: Development
2023-11-15 12:47:16.270 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 12:47:16.271 -06:00 [DBG] Hosting started
2023-11-15 12:47:30.594 -06:00 [DBG] Connection id "0HMV61D97NP5T" received FIN.
2023-11-15 12:47:30.611 -06:00 [DBG] Connection id "0HMV61D97NP5T" accepted.
2023-11-15 12:47:30.618 -06:00 [DBG] Connection id "0HMV61D97NP5T" started.
2023-11-15 12:47:30.621 -06:00 [DBG] Connection id "0HMV61D97NP5U" accepted.
2023-11-15 12:47:30.623 -06:00 [DBG] Connection id "0HMV61D97NP5U" started.
2023-11-15 12:47:30.648 -06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-15 12:47:30.712 -06:00 [DBG] Connection id "0HMV61D97NP5T" stopped.
2023-11-15 12:47:30.719 -06:00 [DBG] Connection id "0HMV61D97NP5T" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 12:47:30.740 -06:00 [DBG] Connection 0HMV61D97NP5U established using the following protocol: "Tls13"
2023-11-15 12:47:30.819 -06:00 [INF] Request starting HTTP/1.1 POST https://localhost:7169/api/cities/1/pointsofinterest application/json 117
2023-11-15 12:47:30.839 -06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-15 12:47:30.871 -06:00 [DBG] POST requests are not supported
2023-11-15 12:47:30.927 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-11-15 12:47:30.934 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-11-15 12:47:30.938 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-11-15 12:47:30.945 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-11-15 12:47:30.997 -06:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestsDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-15 12:47:31.002 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 12:47:31.006 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 12:47:31.010 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 12:47:31.013 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 12:47:31.015 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 12:47:31.018 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 12:47:31.472 -06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-15 12:47:31.507 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 12:47:31.520 -06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-15 12:47:31.529 -06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-15 12:47:31.537 -06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 12:47:31.540 -06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 12:47:31.544 -06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-15 12:47:31.551 -06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-15 12:47:31.557 -06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-11-15 12:47:31.564 -06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2023-11-15 12:47:31.572 -06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-15 12:47:31.575 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-15 12:47:31.613 -06:00 [DBG] Connection id "0HMV61D97NP5U", Request id "0HMV61D97NP5U:00000002": started reading request body.
2023-11-15 12:47:31.617 -06:00 [DBG] Connection id "0HMV61D97NP5U", Request id "0HMV61D97NP5U:00000002": done reading request body.
2023-11-15 12:47:31.838 -06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-11-15 12:47:31.842 -06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-11-15 12:47:31.844 -06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-11-15 12:47:31.858 -06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-11-15 12:47:33.533 -06:00 [INF] Entity Framework Core 6.0.24 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.24' with options: None
2023-11-15 12:47:33.616 -06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(x => x.Id == __cityId_0)'
2023-11-15 12:47:34.413 -06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-15 12:47:34.554 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 12:47:34.688 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (131ms).
2023-11-15 12:47:34.722 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:47:34.806 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:47:34.845 -06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-15 12:47:34.905 -06:00 [INF] Executed DbCommand (79ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-15 12:47:34.943 -06:00 [DBG] A data reader was disposed.
2023-11-15 12:47:34.964 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:47:34.985 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:47:35.028 -06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .FirstOrDefault(x => x.Id == __cityId_0)'
2023-11-15 12:47:35.140 -06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-15 12:47:35.180 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 12:47:35.182 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-11-15 12:47:35.188 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:47:35.192 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:47:35.198 -06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-11-15 12:47:35.213 -06:00 [INF] Executed DbCommand (15ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-11-15 12:47:35.282 -06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 12:47:35.374 -06:00 [DBG] A data reader was disposed.
2023-11-15 12:47:35.376 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:47:35.378 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:47:35.400 -06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-11-15 12:47:35.416 -06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-11-15 12:47:35.499 -06:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 12:47:35.607 -06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterst'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 12:47:35.676 -06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterst' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 12:47:35.688 -06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-11-15 12:47:35.740 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:47:35.742 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:47:35.755 -06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-15 12:47:35.767 -06:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-11-15 12:47:35.923 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 12:47:35.926 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-11-15 12:47:35.931 -06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-11-15 12:47:35.944 -06:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-11-15 12:47:36.023 -06:00 [DBG] The foreign key property 'PointOfInterst.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-11-15 12:47:36.039 -06:00 [DBG] A data reader was disposed.
2023-11-15 12:47:36.055 -06:00 [DBG] Committing transaction.
2023-11-15 12:47:36.071 -06:00 [DBG] Committed transaction.
2023-11-15 12:47:36.082 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:47:36.086 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:47:36.097 -06:00 [DBG] Disposing transaction.
2023-11-15 12:47:36.115 -06:00 [DBG] An entity of type 'PointOfInterst' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 12:47:36.126 -06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-11-15 12:47:36.141 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 12:47:36.149 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 12:47:36.151 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 12:47:36.153 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 12:47:36.155 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-15 12:47:36.160 -06:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Entities.PointOfInterst'.
2023-11-15 12:47:36.211 -06:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2023-11-15 12:47:36.238 -06:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) resulting in /api/cities/1/pointsofinterest/3 and 
2023-11-15 12:47:36.243 -06:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)"] with result /api/cities/1/pointsofinterest/3
2023-11-15 12:47:36.392 -06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 5364.9788ms
2023-11-15 12:47:36.397 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-11-15 12:47:36.399 -06:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected with type 'CityInfo.API.Entities.PointOfInterst'. Path 'city.pointsOfInterest'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-11-15 12:47:36.428 -06:00 [DBG] Connection id "0HMV61D97NP5U" completed keep alive response.
2023-11-15 12:47:36.452 -06:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 12:47:36.462 -06:00 [INF] Request finished HTTP/1.1 POST https://localhost:7169/api/cities/1/pointsofinterest application/json 117 - 500 - text/plain;+charset=utf-8 5649.3323ms
2023-11-15 12:50:12.037 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 12:50:12.210 -06:00 [DBG] Hosting starting
2023-11-15 12:50:12.406 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 12:50:12.506 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 12:50:12.508 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 12:50:12.510 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 12:50:12.512 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 12:50:12.514 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 12:50:12.516 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 12:50:12.517 -06:00 [INF] Hosting environment: Development
2023-11-15 12:50:12.518 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 12:50:12.519 -06:00 [DBG] Hosting started
2023-11-15 12:50:41.309 -06:00 [DBG] Connection id "0HMV61F22HDKN" received FIN.
2023-11-15 12:50:41.337 -06:00 [DBG] Connection id "0HMV61F22HDKN" accepted.
2023-11-15 12:50:41.357 -06:00 [DBG] Connection id "0HMV61F22HDKN" started.
2023-11-15 12:50:41.359 -06:00 [DBG] Connection id "0HMV61F22HDKO" accepted.
2023-11-15 12:50:41.361 -06:00 [DBG] Connection id "0HMV61F22HDKO" started.
2023-11-15 12:50:41.388 -06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-15 12:50:41.488 -06:00 [DBG] Connection id "0HMV61F22HDKN" stopped.
2023-11-15 12:50:41.491 -06:00 [DBG] Connection id "0HMV61F22HDKN" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 12:50:41.520 -06:00 [DBG] Connection 0HMV61F22HDKO established using the following protocol: "Tls13"
2023-11-15 12:50:41.587 -06:00 [INF] Request starting HTTP/1.1 POST https://localhost:7169/api/cities/1/pointsofinterest application/json 117
2023-11-15 12:50:41.613 -06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-15 12:50:41.657 -06:00 [DBG] POST requests are not supported
2023-11-15 12:50:41.725 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-11-15 12:50:41.738 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-11-15 12:50:41.745 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-11-15 12:50:41.754 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-11-15 12:50:41.818 -06:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestsDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-15 12:50:41.823 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 12:50:41.825 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 12:50:41.827 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 12:50:41.829 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 12:50:41.831 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 12:50:41.835 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 12:50:42.279 -06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-15 12:50:42.320 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 12:50:42.334 -06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-15 12:50:42.340 -06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-15 12:50:42.344 -06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 12:50:42.347 -06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 12:50:42.354 -06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-15 12:50:42.363 -06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-15 12:50:42.369 -06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-11-15 12:50:42.375 -06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2023-11-15 12:50:42.379 -06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-15 12:50:42.381 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-15 12:50:42.408 -06:00 [DBG] Connection id "0HMV61F22HDKO", Request id "0HMV61F22HDKO:00000002": started reading request body.
2023-11-15 12:50:42.414 -06:00 [DBG] Connection id "0HMV61F22HDKO", Request id "0HMV61F22HDKO:00000002": done reading request body.
2023-11-15 12:50:42.634 -06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-11-15 12:50:42.637 -06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-11-15 12:50:42.639 -06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-11-15 12:50:42.651 -06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-11-15 12:50:43.968 -06:00 [INF] Entity Framework Core 6.0.24 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.24' with options: None
2023-11-15 12:50:44.076 -06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(x => x.Id == __cityId_0)'
2023-11-15 12:50:44.533 -06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-15 12:50:44.669 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 12:50:44.821 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (147ms).
2023-11-15 12:50:44.862 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:50:44.910 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:50:44.961 -06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-15 12:50:45.027 -06:00 [INF] Executed DbCommand (92ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-15 12:50:45.052 -06:00 [DBG] A data reader was disposed.
2023-11-15 12:50:45.072 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:50:45.090 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:50:45.119 -06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .FirstOrDefault(x => x.Id == __cityId_0)'
2023-11-15 12:50:45.210 -06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-15 12:50:45.230 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 12:50:45.234 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-11-15 12:50:45.237 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:50:45.240 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:50:45.243 -06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-11-15 12:50:45.246 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-11-15 12:50:45.297 -06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 12:50:45.351 -06:00 [DBG] A data reader was disposed.
2023-11-15 12:50:45.354 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:50:45.358 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:50:45.371 -06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-11-15 12:50:45.380 -06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-11-15 12:50:45.431 -06:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 12:50:45.488 -06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterst'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 12:50:45.561 -06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterst' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 12:50:45.570 -06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-11-15 12:50:45.612 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:50:45.616 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:50:45.622 -06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-15 12:50:45.637 -06:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-11-15 12:50:45.734 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 12:50:45.736 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-11-15 12:50:45.739 -06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-11-15 12:50:45.749 -06:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-11-15 12:50:45.806 -06:00 [DBG] The foreign key property 'PointOfInterst.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-11-15 12:50:45.820 -06:00 [DBG] A data reader was disposed.
2023-11-15 12:50:45.836 -06:00 [DBG] Committing transaction.
2023-11-15 12:50:45.851 -06:00 [DBG] Committed transaction.
2023-11-15 12:50:45.870 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:50:45.873 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:50:45.884 -06:00 [DBG] Disposing transaction.
2023-11-15 12:50:45.913 -06:00 [DBG] An entity of type 'PointOfInterst' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 12:50:45.928 -06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-11-15 12:50:46.146 -06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 4306.7955ms
2023-11-15 12:50:46.151 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-11-15 12:50:46.154 -06:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterestForCreationDto -> PointOfInterestsDto
CityInfo.API.Models.PointOfInterestForCreationDto -> CityInfo.API.Models.PointOfInterestsDto
   at lambda_method117(Closure , Object , PointOfInterestsDto , ResolutionContext )
   at CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest(Int32 cityId, PointOfInterestForCreationDto pointOfInterest) in C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\Controllers\PointsOfInterestController.cs:line 85
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-11-15 12:50:46.237 -06:00 [DBG] Connection id "0HMV61F22HDKO" completed keep alive response.
2023-11-15 12:50:46.259 -06:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 12:50:46.272 -06:00 [INF] Request finished HTTP/1.1 POST https://localhost:7169/api/cities/1/pointsofinterest application/json 117 - 500 - text/plain;+charset=utf-8 4693.2717ms
2023-11-15 12:51:35.561 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 12:51:36.006 -06:00 [DBG] Hosting starting
2023-11-15 12:51:36.248 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 12:51:36.344 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 12:51:36.350 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 12:51:36.351 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 12:51:36.353 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 12:51:36.354 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 12:51:36.356 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 12:51:36.358 -06:00 [INF] Hosting environment: Development
2023-11-15 12:51:36.359 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 12:51:36.361 -06:00 [DBG] Hosting started
2023-11-15 12:51:45.344 -06:00 [DBG] Connection id "0HMV61FL57GAD" received FIN.
2023-11-15 12:51:45.360 -06:00 [DBG] Connection id "0HMV61FL57GAD" accepted.
2023-11-15 12:51:45.363 -06:00 [DBG] Connection id "0HMV61FL57GAD" started.
2023-11-15 12:51:45.366 -06:00 [DBG] Connection id "0HMV61FL57GAE" accepted.
2023-11-15 12:51:45.369 -06:00 [DBG] Connection id "0HMV61FL57GAE" started.
2023-11-15 12:51:45.388 -06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-15 12:51:45.545 -06:00 [DBG] Connection id "0HMV61FL57GAD" stopped.
2023-11-15 12:51:45.550 -06:00 [DBG] Connection id "0HMV61FL57GAD" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 12:51:45.565 -06:00 [DBG] Connection 0HMV61FL57GAE established using the following protocol: "Tls13"
2023-11-15 12:51:45.651 -06:00 [INF] Request starting HTTP/1.1 POST https://localhost:7169/api/cities/1/pointsofinterest application/json 117
2023-11-15 12:51:45.677 -06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-15 12:51:45.718 -06:00 [DBG] POST requests are not supported
2023-11-15 12:51:45.786 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-11-15 12:51:45.795 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-11-15 12:51:45.798 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-11-15 12:51:45.807 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-11-15 12:51:45.883 -06:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestsDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-15 12:51:45.889 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 12:51:45.897 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 12:51:45.903 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 12:51:45.907 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 12:51:45.908 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 12:51:45.911 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 12:51:46.391 -06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-15 12:51:46.436 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 12:51:46.443 -06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-15 12:51:46.450 -06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-15 12:51:46.458 -06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 12:51:46.461 -06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 12:51:46.464 -06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-15 12:51:46.472 -06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-15 12:51:46.481 -06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-11-15 12:51:46.489 -06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2023-11-15 12:51:46.499 -06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-15 12:51:46.505 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-15 12:51:46.529 -06:00 [DBG] Connection id "0HMV61FL57GAE", Request id "0HMV61FL57GAE:00000002": started reading request body.
2023-11-15 12:51:46.535 -06:00 [DBG] Connection id "0HMV61FL57GAE", Request id "0HMV61FL57GAE:00000002": done reading request body.
2023-11-15 12:51:46.835 -06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-11-15 12:51:46.838 -06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-11-15 12:51:46.842 -06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-11-15 12:51:46.858 -06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-11-15 12:51:48.522 -06:00 [INF] Entity Framework Core 6.0.24 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.24' with options: None
2023-11-15 12:51:48.622 -06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(x => x.Id == __cityId_0)'
2023-11-15 12:51:49.333 -06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-15 12:51:49.438 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 12:51:49.553 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (107ms).
2023-11-15 12:51:49.581 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:51:49.622 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:51:49.647 -06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-15 12:51:49.731 -06:00 [INF] Executed DbCommand (82ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-15 12:51:49.761 -06:00 [DBG] A data reader was disposed.
2023-11-15 12:51:49.782 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:51:49.794 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:51:49.822 -06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .FirstOrDefault(x => x.Id == __cityId_0)'
2023-11-15 12:51:49.914 -06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-15 12:51:49.944 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 12:51:49.946 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-11-15 12:51:49.950 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:51:49.954 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:51:49.958 -06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-11-15 12:51:49.965 -06:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-11-15 12:51:50.041 -06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 12:51:50.106 -06:00 [DBG] A data reader was disposed.
2023-11-15 12:51:50.109 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:51:50.114 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:51:50.137 -06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-11-15 12:51:50.144 -06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-11-15 12:51:50.198 -06:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 12:51:50.278 -06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterst'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 12:51:50.346 -06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterst' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 12:51:50.356 -06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-11-15 12:51:50.402 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:51:50.406 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:51:50.414 -06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-15 12:51:50.432 -06:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-11-15 12:51:50.551 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 12:51:50.554 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-11-15 12:51:50.557 -06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-11-15 12:51:50.564 -06:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-11-15 12:51:50.615 -06:00 [DBG] The foreign key property 'PointOfInterst.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-11-15 12:51:50.631 -06:00 [DBG] A data reader was disposed.
2023-11-15 12:51:50.649 -06:00 [DBG] Committing transaction.
2023-11-15 12:51:50.657 -06:00 [DBG] Committed transaction.
2023-11-15 12:51:50.673 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:51:50.680 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:51:50.691 -06:00 [DBG] Disposing transaction.
2023-11-15 12:51:50.720 -06:00 [DBG] An entity of type 'PointOfInterst' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 12:51:50.731 -06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-11-15 12:51:50.751 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 12:51:50.762 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 12:51:50.763 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 12:51:50.766 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 12:51:50.771 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-15 12:51:50.773 -06:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestsDto'.
2023-11-15 12:51:50.825 -06:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2023-11-15 12:51:50.848 -06:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) resulting in /api/cities/1/pointsofinterest/5 and 
2023-11-15 12:51:50.852 -06:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)"] with result /api/cities/1/pointsofinterest/5
2023-11-15 12:51:50.998 -06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 5079.0128ms
2023-11-15 12:51:51.008 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-11-15 12:51:51.012 -06:00 [DBG] Connection id "0HMV61FL57GAE" completed keep alive response.
2023-11-15 12:51:51.032 -06:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 12:51:51.048 -06:00 [INF] Request finished HTTP/1.1 POST https://localhost:7169/api/cities/1/pointsofinterest application/json 117 - 201 162 application/json;+charset=utf-8 5407.0794ms
2023-11-15 12:53:18.364 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 12:53:18.563 -06:00 [DBG] Hosting starting
2023-11-15 12:53:18.821 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 12:53:19.050 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 12:53:19.092 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 12:53:19.093 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 12:53:19.095 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 12:53:19.098 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 12:53:19.106 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 12:53:19.109 -06:00 [INF] Hosting environment: Development
2023-11-15 12:53:19.110 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 12:53:19.111 -06:00 [DBG] Hosting started
2023-11-15 12:53:41.336 -06:00 [DBG] Connection id "0HMV61GNN9OOK" accepted.
2023-11-15 12:53:41.360 -06:00 [DBG] Connection id "0HMV61GNN9OOK" started.
2023-11-15 12:53:41.538 -06:00 [DBG] Connection 0HMV61GNN9OOK established using the following protocol: "Tls13"
2023-11-15 12:53:41.629 -06:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/cities/1/pointsofinterest/5 - -
2023-11-15 12:53:41.676 -06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-15 12:53:41.738 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 12:53:41.786 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/5'
2023-11-15 12:53:41.792 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/5'
2023-11-15 12:53:41.800 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 12:53:41.807 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 12:53:41.863 -06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestsDto]] GetPointsOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-15 12:53:41.869 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 12:53:41.873 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 12:53:41.875 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 12:53:41.878 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 12:53:41.880 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 12:53:41.883 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 12:53:42.333 -06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-15 12:53:42.395 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 12:53:42.402 -06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-15 12:53:42.409 -06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-15 12:53:42.411 -06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 12:53:42.413 -06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 12:53:42.418 -06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-15 12:53:42.424 -06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-15 12:53:42.428 -06:00 [DBG] Attempting to bind parameter 'pointofInterestId' of type 'System.Int32' ...
2023-11-15 12:53:42.430 -06:00 [DBG] Attempting to bind parameter 'pointofInterestId' of type 'System.Int32' using the name 'pointofInterestId' in request data ...
2023-11-15 12:53:42.435 -06:00 [DBG] Done attempting to bind parameter 'pointofInterestId' of type 'System.Int32'.
2023-11-15 12:53:42.437 -06:00 [DBG] Done attempting to bind parameter 'pointofInterestId' of type 'System.Int32'.
2023-11-15 12:53:42.441 -06:00 [DBG] Attempting to validate the bound parameter 'pointofInterestId' of type 'System.Int32' ...
2023-11-15 12:53:42.445 -06:00 [DBG] Done attempting to validate the bound parameter 'pointofInterestId' of type 'System.Int32'.
2023-11-15 12:53:43.952 -06:00 [INF] Entity Framework Core 6.0.24 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.24' with options: None
2023-11-15 12:53:44.058 -06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(x => x.Id == __cityId_0)'
2023-11-15 12:53:44.569 -06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-15 12:53:44.696 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 12:53:44.815 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (111ms).
2023-11-15 12:53:44.853 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:53:44.895 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:53:44.925 -06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-15 12:53:44.984 -06:00 [INF] Executed DbCommand (59ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-15 12:53:45.006 -06:00 [DBG] A data reader was disposed.
2023-11-15 12:53:45.025 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:53:45.053 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:53:45.063 -06:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterst>()
    .FirstOrDefault(x => x.Id == __pointOfInterestId_0 && x.CityId == __cityId_1)'
2023-11-15 12:53:45.161 -06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterst>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterst>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterst.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterst.CityId (int) Required FK Index, 1], [Property: PointOfInterst.Description (string) Required MaxLength(200), 2], [Property: PointOfInterst.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.Id == @__pointOfInterestId_0) && (p.CityId == @__cityId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterst>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-15 12:53:45.194 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 12:53:45.196 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-11-15 12:53:45.203 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:53:45.207 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:53:45.211 -06:00 [DBG] Executing DbCommand [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."Id" = @__pointOfInterestId_0) AND ("p"."CityId" = @__cityId_1)
LIMIT 1
2023-11-15 12:53:45.218 -06:00 [INF] Executed DbCommand (7ms) [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."Id" = @__pointOfInterestId_0) AND ("p"."CityId" = @__cityId_1)
LIMIT 1
2023-11-15 12:53:45.271 -06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterst' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 12:53:45.341 -06:00 [DBG] A data reader was disposed.
2023-11-15 12:53:45.343 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 12:53:45.345 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 12:53:45.386 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 12:53:45.394 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 12:53:45.396 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 12:53:45.398 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 12:53:45.402 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-15 12:53:45.406 -06:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Entities.PointOfInterst'.
2023-11-15 12:53:45.693 -06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 3802.489ms
2023-11-15 12:53:45.699 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 12:53:45.739 -06:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 12:53:45.747 -06:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/cities/1/pointsofinterest/5 - - - 200 134 application/json;+charset=utf-8 4125.2322ms
2023-11-15 12:53:45.888 -06:00 [INF] Request starting HTTP/2 GET https://localhost:7169/favicon.ico - -
2023-11-15 12:53:45.890 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 12:53:45.892 -06:00 [DBG] No candidates found for the request path '/favicon.ico'
2023-11-15 12:53:45.894 -06:00 [DBG] Request did not match any endpoints
2023-11-15 12:53:45.896 -06:00 [INF] Request finished HTTP/2 GET https://localhost:7169/favicon.ico - - - 404 0 - 8.5127ms
2023-11-15 13:05:32.939 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 13:05:33.088 -06:00 [DBG] Hosting starting
2023-11-15 13:05:33.265 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 13:05:33.336 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 13:05:33.337 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 13:05:33.339 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 13:05:33.340 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 13:05:33.342 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 13:05:33.344 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 13:05:33.347 -06:00 [INF] Hosting environment: Development
2023-11-15 13:05:33.349 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 13:05:33.350 -06:00 [DBG] Hosting started
2023-11-15 13:12:10.916 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 13:12:11.069 -06:00 [DBG] Hosting starting
2023-11-15 13:12:11.256 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 13:12:11.327 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 13:12:11.330 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 13:12:11.331 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 13:12:11.333 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 13:12:11.334 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 13:12:11.336 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 13:12:11.337 -06:00 [INF] Hosting environment: Development
2023-11-15 13:12:11.339 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 13:12:11.342 -06:00 [DBG] Hosting started
2023-11-15 13:17:49.186 -06:00 [DBG] Connection id "0HMV61U775RKB" received FIN.
2023-11-15 13:17:49.212 -06:00 [DBG] Connection id "0HMV61U775RKB" accepted.
2023-11-15 13:17:49.218 -06:00 [DBG] Connection id "0HMV61U775RKB" started.
2023-11-15 13:17:49.223 -06:00 [DBG] Connection id "0HMV61U775RKC" accepted.
2023-11-15 13:17:49.225 -06:00 [DBG] Connection id "0HMV61U775RKC" started.
2023-11-15 13:17:49.252 -06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-15 13:17:49.337 -06:00 [DBG] Connection id "0HMV61U775RKB" stopped.
2023-11-15 13:17:49.339 -06:00 [DBG] Connection 0HMV61U775RKC established using the following protocol: "Tls13"
2023-11-15 13:17:49.342 -06:00 [DBG] Connection id "0HMV61U775RKB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 13:17:49.398 -06:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7169/api/cities/1/pointsofinterest/1 application/json 122
2023-11-15 13:17:49.416 -06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-15 13:17:49.447 -06:00 [DBG] PUT requests are not supported
2023-11-15 13:17:49.498 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-11-15 13:17:49.509 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-11-15 13:17:49.513 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-11-15 13:17:49.518 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-11-15 13:17:49.564 -06:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-15 13:17:49.568 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 13:17:49.572 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 13:17:49.575 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 13:17:49.578 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 13:17:49.580 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 13:17:49.583 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 13:17:49.976 -06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-15 13:17:50.005 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 13:17:50.014 -06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-15 13:17:50.018 -06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-15 13:17:50.023 -06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 13:17:50.025 -06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 13:17:50.028 -06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-15 13:17:50.031 -06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-15 13:17:50.035 -06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-11-15 13:17:50.037 -06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-11-15 13:17:50.039 -06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-11-15 13:17:50.041 -06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-11-15 13:17:50.043 -06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-11-15 13:17:50.046 -06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-11-15 13:17:50.047 -06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2023-11-15 13:17:50.050 -06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2023-11-15 13:17:50.053 -06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-15 13:17:50.056 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-15 13:17:50.068 -06:00 [DBG] Connection id "0HMV61U775RKC", Request id "0HMV61U775RKC:00000002": started reading request body.
2023-11-15 13:17:50.072 -06:00 [DBG] Connection id "0HMV61U775RKC", Request id "0HMV61U775RKC:00000002": done reading request body.
2023-11-15 13:17:50.245 -06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2023-11-15 13:17:50.248 -06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2023-11-15 13:17:50.249 -06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2023-11-15 13:17:50.258 -06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2023-11-15 13:17:51.324 -06:00 [INF] Entity Framework Core 6.0.24 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.24' with options: None
2023-11-15 13:17:51.398 -06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(x => x.Id == __cityId_0)'
2023-11-15 13:17:51.774 -06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-15 13:17:51.859 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 13:17:51.952 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (90ms).
2023-11-15 13:17:51.976 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 13:17:52.021 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 13:17:52.050 -06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-15 13:17:52.099 -06:00 [INF] Executed DbCommand (56ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-15 13:17:52.129 -06:00 [DBG] A data reader was disposed.
2023-11-15 13:17:52.146 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 13:17:52.161 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 13:17:52.166 -06:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterst>()
    .FirstOrDefault(x => x.Id == __pointOfInterestId_0 && x.CityId == __cityId_1)'
2023-11-15 13:17:52.245 -06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterst>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterst>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterst.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterst.CityId (int) Required FK Index, 1], [Property: PointOfInterst.Description (string) Required MaxLength(200), 2], [Property: PointOfInterst.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.Id == @__pointOfInterestId_0) && (p.CityId == @__cityId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterst>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-15 13:17:52.267 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 13:17:52.270 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-11-15 13:17:52.274 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 13:17:52.276 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 13:17:52.279 -06:00 [DBG] Executing DbCommand [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."Id" = @__pointOfInterestId_0) AND ("p"."CityId" = @__cityId_1)
LIMIT 1
2023-11-15 13:17:52.282 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."Id" = @__pointOfInterestId_0) AND ("p"."CityId" = @__cityId_1)
LIMIT 1
2023-11-15 13:17:52.312 -06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterst' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 13:17:52.361 -06:00 [DBG] A data reader was disposed.
2023-11-15 13:17:52.363 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 13:17:52.365 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 13:17:52.394 -06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-11-15 13:17:52.401 -06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-11-15 13:17:52.431 -06:00 [DBG] The unchanged property 'PointOfInterst.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-11-15 13:17:52.457 -06:00 [DBG] An entity of type 'PointOfInterst' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 13:17:52.463 -06:00 [DBG] The unchanged property 'PointOfInterst.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-11-15 13:17:52.472 -06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-11-15 13:17:52.522 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 13:17:52.526 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 13:17:52.531 -06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-15 13:17:52.546 -06:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-11-15 13:17:52.631 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 13:17:52.634 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-11-15 13:17:52.637 -06:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 59), @p1='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointsOfInterest" SET "Description" = @p0, "Name" = @p1
WHERE "Id" = @p2;
SELECT changes();
2023-11-15 13:17:52.643 -06:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 59), @p1='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointsOfInterest" SET "Description" = @p0, "Name" = @p1
WHERE "Id" = @p2;
SELECT changes();
2023-11-15 13:17:52.657 -06:00 [DBG] A data reader was disposed.
2023-11-15 13:17:52.667 -06:00 [DBG] Committing transaction.
2023-11-15 13:17:52.680 -06:00 [DBG] Committed transaction.
2023-11-15 13:17:52.693 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 13:17:52.696 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 13:17:52.704 -06:00 [DBG] Disposing transaction.
2023-11-15 13:17:52.716 -06:00 [DBG] An entity of type 'PointOfInterst' tracked by 'CityInfoContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 13:17:52.727 -06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-11-15 13:17:52.739 -06:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-11-15 13:17:52.749 -06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API) in 3161.3565ms
2023-11-15 13:17:52.759 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-11-15 13:17:52.765 -06:00 [DBG] Connection id "0HMV61U775RKC" completed keep alive response.
2023-11-15 13:17:52.783 -06:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 13:17:52.798 -06:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7169/api/cities/1/pointsofinterest/1 application/json 122 - 204 - - 3403.6526ms
2023-11-15 13:18:03.733 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities/1/pointsofinterest/1 - -
2023-11-15 13:18:03.749 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 13:18:03.753 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-11-15 13:18:03.756 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-11-15 13:18:03.758 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 13:18:03.759 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 13:18:03.764 -06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestsDto]] GetPointsOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-15 13:18:03.768 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 13:18:03.770 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 13:18:03.772 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 13:18:03.774 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 13:18:03.776 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 13:18:03.778 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 13:18:03.781 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 13:18:03.783 -06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-15 13:18:03.787 -06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-15 13:18:03.790 -06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 13:18:03.792 -06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 13:18:03.793 -06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-15 13:18:03.795 -06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-15 13:18:03.797 -06:00 [DBG] Attempting to bind parameter 'pointofInterestId' of type 'System.Int32' ...
2023-11-15 13:18:03.798 -06:00 [DBG] Attempting to bind parameter 'pointofInterestId' of type 'System.Int32' using the name 'pointofInterestId' in request data ...
2023-11-15 13:18:03.800 -06:00 [DBG] Done attempting to bind parameter 'pointofInterestId' of type 'System.Int32'.
2023-11-15 13:18:03.803 -06:00 [DBG] Done attempting to bind parameter 'pointofInterestId' of type 'System.Int32'.
2023-11-15 13:18:03.806 -06:00 [DBG] Attempting to validate the bound parameter 'pointofInterestId' of type 'System.Int32' ...
2023-11-15 13:18:03.808 -06:00 [DBG] Done attempting to validate the bound parameter 'pointofInterestId' of type 'System.Int32'.
2023-11-15 13:18:03.819 -06:00 [INF] Entity Framework Core 6.0.24 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.24' with options: None
2023-11-15 13:18:03.845 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 13:18:03.847 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-11-15 13:18:03.849 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 13:18:03.850 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 13:18:03.853 -06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-15 13:18:03.857 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-15 13:18:03.860 -06:00 [DBG] A data reader was disposed.
2023-11-15 13:18:03.861 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 13:18:03.862 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 13:18:03.864 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 13:18:03.865 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-11-15 13:18:03.867 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 13:18:03.869 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 13:18:03.872 -06:00 [DBG] Executing DbCommand [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."Id" = @__pointOfInterestId_0) AND ("p"."CityId" = @__cityId_1)
LIMIT 1
2023-11-15 13:18:03.875 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."Id" = @__pointOfInterestId_0) AND ("p"."CityId" = @__cityId_1)
LIMIT 1
2023-11-15 13:18:03.877 -06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterst' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 13:18:03.879 -06:00 [DBG] A data reader was disposed.
2023-11-15 13:18:03.880 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 13:18:03.882 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 13:18:03.896 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 13:18:03.905 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 13:18:03.908 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 13:18:03.909 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 13:18:03.911 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-15 13:18:03.913 -06:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Entities.PointOfInterst'.
2023-11-15 13:18:03.987 -06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 209.0762ms
2023-11-15 13:18:03.991 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 13:18:03.992 -06:00 [DBG] Connection id "0HMV61U775RKC" completed keep alive response.
2023-11-15 13:18:03.994 -06:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 13:18:03.995 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities/1/pointsofinterest/1 - - - 200 139 application/json;+charset=utf-8 262.5036ms
2023-11-15 13:18:21.123 -06:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:7169/api/cities/1/pointsofinterest/1 application/json 106
2023-11-15 13:18:21.127 -06:00 [DBG] PATCH requests are not supported
2023-11-15 13:18:21.129 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-11-15 13:18:21.130 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-11-15 13:18:21.133 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2023-11-15 13:18:21.136 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2023-11-15 13:18:21.142 -06:00 [INF] Route matched with {action = "PartiallyUpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] PartiallyUpdatePointOfInterest(Int32, Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-15 13:18:21.146 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 13:18:21.148 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 13:18:21.150 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 13:18:21.154 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 13:18:21.156 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 13:18:21.157 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 13:18:21.162 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 13:18:21.165 -06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-15 13:18:21.167 -06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-15 13:18:21.171 -06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 13:18:21.174 -06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 13:18:21.177 -06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-15 13:18:21.178 -06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-15 13:18:21.180 -06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-11-15 13:18:21.182 -06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-11-15 13:18:21.186 -06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-11-15 13:18:21.190 -06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-11-15 13:18:21.193 -06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-11-15 13:18:21.194 -06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-11-15 13:18:21.196 -06:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2023-11-15 13:18:21.197 -06:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' using the name '' in request data ...
2023-11-15 13:18:21.200 -06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-15 13:18:21.204 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-15 13:18:21.206 -06:00 [DBG] Connection id "0HMV61U775RKC", Request id "0HMV61U775RKC:00000004": started reading request body.
2023-11-15 13:18:21.209 -06:00 [DBG] Connection id "0HMV61U775RKC", Request id "0HMV61U775RKC:00000004": done reading request body.
2023-11-15 13:18:21.273 -06:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2023-11-15 13:18:21.276 -06:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2023-11-15 13:18:21.277 -06:00 [DBG] Attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2023-11-15 13:18:21.279 -06:00 [DBG] Done attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2023-11-15 13:18:21.345 -06:00 [INF] Entity Framework Core 6.0.24 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.24' with options: None
2023-11-15 13:18:21.350 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 13:18:21.354 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-11-15 13:18:21.356 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 13:18:21.358 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 13:18:21.359 -06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-15 13:18:21.363 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-15 13:18:21.366 -06:00 [DBG] A data reader was disposed.
2023-11-15 13:18:21.368 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 13:18:21.371 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 13:18:21.373 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 13:18:21.375 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-11-15 13:18:21.376 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 13:18:21.378 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 13:18:21.380 -06:00 [DBG] Executing DbCommand [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."Id" = @__pointOfInterestId_0) AND ("p"."CityId" = @__cityId_1)
LIMIT 1
2023-11-15 13:18:21.382 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."Id" = @__pointOfInterestId_0) AND ("p"."CityId" = @__cityId_1)
LIMIT 1
2023-11-15 13:18:21.388 -06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterst' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 13:18:21.389 -06:00 [DBG] A data reader was disposed.
2023-11-15 13:18:21.391 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 13:18:21.393 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 13:18:21.550 -06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API) in 392.0804ms
2023-11-15 13:18:21.555 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2023-11-15 13:18:21.558 -06:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Task`1 -> PointOfInterestForUpdateDto
System.Threading.Tasks.Task`1[[CityInfo.API.Entities.PointOfInterst, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> CityInfo.API.Models.PointOfInterestForUpdateDto
   at lambda_method111(Closure , Object , PointOfInterestForUpdateDto , ResolutionContext )
   at CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest(Int32 cityId, Int32 pointOfInterestId, JsonPatchDocument`1 patchDocument) in C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\Controllers\PointsOfInterestController.cs:line 129
   at lambda_method96(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-11-15 13:18:21.628 -06:00 [DBG] Connection id "0HMV61U775RKC" completed keep alive response.
2023-11-15 13:18:21.630 -06:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 13:18:21.633 -06:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:7169/api/cities/1/pointsofinterest/1 application/json 106 - 500 - text/plain;+charset=utf-8 509.0442ms
2023-11-15 13:23:31.579 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 13:23:31.738 -06:00 [DBG] Hosting starting
2023-11-15 13:23:31.926 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 13:23:31.998 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 13:23:32.002 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 13:23:32.004 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 13:23:32.007 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 13:23:32.008 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 13:23:32.009 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 13:23:32.010 -06:00 [INF] Hosting environment: Development
2023-11-15 13:23:32.011 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 13:23:32.012 -06:00 [DBG] Hosting started
2023-11-15 13:35:51.416 -06:00 [DBG] Connection id "0HMV6289O4I56" received FIN.
2023-11-15 13:35:51.455 -06:00 [DBG] Connection id "0HMV6289O4I56" accepted.
2023-11-15 13:35:51.466 -06:00 [DBG] Connection id "0HMV6289O4I56" started.
2023-11-15 13:35:51.470 -06:00 [DBG] Connection id "0HMV6289O4I57" accepted.
2023-11-15 13:35:51.473 -06:00 [DBG] Connection id "0HMV6289O4I57" started.
2023-11-15 13:35:51.515 -06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-15 13:35:51.602 -06:00 [DBG] Connection id "0HMV6289O4I56" stopped.
2023-11-15 13:35:51.605 -06:00 [DBG] Connection id "0HMV6289O4I56" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 13:35:51.638 -06:00 [DBG] Connection 0HMV6289O4I57 established using the following protocol: "Tls13"
2023-11-15 13:35:51.715 -06:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:7169/api/cities/1/pointsofinterest/1 application/json 106
2023-11-15 13:35:51.739 -06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-15 13:35:51.779 -06:00 [DBG] PATCH requests are not supported
2023-11-15 13:35:51.827 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-11-15 13:35:51.838 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-11-15 13:35:51.841 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2023-11-15 13:35:51.848 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2023-11-15 13:35:51.910 -06:00 [INF] Route matched with {action = "PartiallyUpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] PartiallyUpdatePointOfInterest(Int32, Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-15 13:35:51.918 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 13:35:51.920 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 13:35:51.923 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 13:35:51.926 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 13:35:51.931 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 13:35:51.935 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 13:35:52.527 -06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-15 13:35:52.582 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 13:35:52.592 -06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-15 13:35:52.598 -06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-15 13:35:52.603 -06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 13:35:52.605 -06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 13:35:52.607 -06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-15 13:35:52.616 -06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-15 13:35:52.620 -06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-11-15 13:35:52.623 -06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-11-15 13:35:52.626 -06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-11-15 13:35:52.630 -06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-11-15 13:35:52.634 -06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-11-15 13:35:52.636 -06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-11-15 13:35:52.639 -06:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2023-11-15 13:35:52.642 -06:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' using the name '' in request data ...
2023-11-15 13:35:52.650 -06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-15 13:35:52.653 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-15 13:35:52.674 -06:00 [DBG] Connection id "0HMV6289O4I57", Request id "0HMV6289O4I57:00000002": started reading request body.
2023-11-15 13:35:52.682 -06:00 [DBG] Connection id "0HMV6289O4I57", Request id "0HMV6289O4I57:00000002": done reading request body.
2023-11-15 13:35:52.980 -06:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2023-11-15 13:35:52.984 -06:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2023-11-15 13:35:52.985 -06:00 [DBG] Attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2023-11-15 13:35:52.991 -06:00 [DBG] Done attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2023-11-15 13:35:54.152 -06:00 [INF] Entity Framework Core 6.0.24 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.24' with options: None
2023-11-15 13:35:54.241 -06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(x => x.Id == __cityId_0)'
2023-11-15 13:35:54.623 -06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-15 13:35:54.707 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 13:35:54.815 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (99ms).
2023-11-15 13:35:54.840 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 13:35:54.873 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 13:35:54.900 -06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-15 13:35:54.967 -06:00 [INF] Executed DbCommand (69ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-15 13:35:54.997 -06:00 [DBG] A data reader was disposed.
2023-11-15 13:35:55.022 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 13:35:55.038 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 13:35:55.048 -06:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterst>()
    .FirstOrDefault(x => x.Id == __pointOfInterestId_0 && x.CityId == __cityId_1)'
2023-11-15 13:35:55.147 -06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterst>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterst>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterst.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterst.CityId (int) Required FK Index, 1], [Property: PointOfInterst.Description (string) Required MaxLength(200), 2], [Property: PointOfInterst.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.Id == @__pointOfInterestId_0) && (p.CityId == @__cityId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterst>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-15 13:35:55.170 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 13:35:55.173 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-11-15 13:35:55.176 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 13:35:55.181 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 13:35:55.184 -06:00 [DBG] Executing DbCommand [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."Id" = @__pointOfInterestId_0) AND ("p"."CityId" = @__cityId_1)
LIMIT 1
2023-11-15 13:35:55.187 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."Id" = @__pointOfInterestId_0) AND ("p"."CityId" = @__cityId_1)
LIMIT 1
2023-11-15 13:35:55.224 -06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterst' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 13:35:55.281 -06:00 [DBG] A data reader was disposed.
2023-11-15 13:35:55.283 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 13:35:55.286 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 13:35:55.333 -06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-11-15 13:35:55.338 -06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-11-15 13:35:55.369 -06:00 [DBG] The unchanged property 'PointOfInterst.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-11-15 13:35:55.392 -06:00 [DBG] An entity of type 'PointOfInterst' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 13:35:55.404 -06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-11-15 13:35:55.461 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 13:35:55.465 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 13:35:55.470 -06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-15 13:35:55.482 -06:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-11-15 13:35:55.572 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 13:35:55.573 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-11-15 13:35:55.576 -06:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 27)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointsOfInterest" SET "Name" = @p0
WHERE "Id" = @p1;
SELECT changes();
2023-11-15 13:35:55.583 -06:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 27)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointsOfInterest" SET "Name" = @p0
WHERE "Id" = @p1;
SELECT changes();
2023-11-15 13:35:55.591 -06:00 [DBG] A data reader was disposed.
2023-11-15 13:35:55.603 -06:00 [DBG] Committing transaction.
2023-11-15 13:35:55.614 -06:00 [DBG] Committed transaction.
2023-11-15 13:35:55.621 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 13:35:55.623 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 13:35:55.634 -06:00 [DBG] Disposing transaction.
2023-11-15 13:35:55.652 -06:00 [DBG] An entity of type 'PointOfInterst' tracked by 'CityInfoContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 13:35:55.657 -06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-11-15 13:35:55.669 -06:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-11-15 13:35:55.681 -06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API) in 3737.0591ms
2023-11-15 13:35:55.685 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2023-11-15 13:35:55.689 -06:00 [DBG] Connection id "0HMV6289O4I57" completed keep alive response.
2023-11-15 13:35:55.703 -06:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 13:35:55.712 -06:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:7169/api/cities/1/pointsofinterest/1 application/json 106 - 204 - - 4001.6079ms
2023-11-15 13:36:04.088 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities/1/pointsofinterest/1 - -
2023-11-15 13:36:04.113 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 13:36:04.115 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-11-15 13:36:04.117 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-11-15 13:36:04.119 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 13:36:04.121 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 13:36:04.130 -06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestsDto]] GetPointsOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-15 13:36:04.133 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 13:36:04.135 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 13:36:04.138 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 13:36:04.140 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 13:36:04.143 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 13:36:04.146 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 13:36:04.148 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 13:36:04.150 -06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-15 13:36:04.153 -06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-15 13:36:04.155 -06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 13:36:04.157 -06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 13:36:04.159 -06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-15 13:36:04.162 -06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-15 13:36:04.164 -06:00 [DBG] Attempting to bind parameter 'pointofInterestId' of type 'System.Int32' ...
2023-11-15 13:36:04.167 -06:00 [DBG] Attempting to bind parameter 'pointofInterestId' of type 'System.Int32' using the name 'pointofInterestId' in request data ...
2023-11-15 13:36:04.169 -06:00 [DBG] Done attempting to bind parameter 'pointofInterestId' of type 'System.Int32'.
2023-11-15 13:36:04.172 -06:00 [DBG] Done attempting to bind parameter 'pointofInterestId' of type 'System.Int32'.
2023-11-15 13:36:04.173 -06:00 [DBG] Attempting to validate the bound parameter 'pointofInterestId' of type 'System.Int32' ...
2023-11-15 13:36:04.175 -06:00 [DBG] Done attempting to validate the bound parameter 'pointofInterestId' of type 'System.Int32'.
2023-11-15 13:36:04.194 -06:00 [INF] Entity Framework Core 6.0.24 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.24' with options: None
2023-11-15 13:36:04.203 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 13:36:04.204 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-11-15 13:36:04.206 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 13:36:04.207 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 13:36:04.210 -06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-15 13:36:04.214 -06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-15 13:36:04.218 -06:00 [DBG] A data reader was disposed.
2023-11-15 13:36:04.219 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 13:36:04.221 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 13:36:04.223 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 13:36:04.225 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-11-15 13:36:04.227 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 13:36:04.231 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 13:36:04.233 -06:00 [DBG] Executing DbCommand [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."Id" = @__pointOfInterestId_0) AND ("p"."CityId" = @__cityId_1)
LIMIT 1
2023-11-15 13:36:04.237 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."Id" = @__pointOfInterestId_0) AND ("p"."CityId" = @__cityId_1)
LIMIT 1
2023-11-15 13:36:04.240 -06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterst' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 13:36:04.242 -06:00 [DBG] A data reader was disposed.
2023-11-15 13:36:04.243 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 13:36:04.247 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 13:36:04.260 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 13:36:04.270 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 13:36:04.272 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 13:36:04.273 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 13:36:04.277 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-15 13:36:04.286 -06:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Entities.PointOfInterst'.
2023-11-15 13:36:04.385 -06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 238.4391ms
2023-11-15 13:36:04.387 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 13:36:04.388 -06:00 [DBG] Connection id "0HMV6289O4I57" completed keep alive response.
2023-11-15 13:36:04.390 -06:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 13:36:04.391 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities/1/pointsofinterest/1 - - - 200 144 application/json;+charset=utf-8 303.0093ms
2023-11-15 13:46:19.587 -06:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7169/api/cities/1/pointsofinterest/1 - -
2023-11-15 13:46:19.594 -06:00 [DBG] DELETE requests are not supported
2023-11-15 13:46:19.596 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-11-15 13:46:19.597 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-11-15 13:46:19.602 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2023-11-15 13:46:19.604 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2023-11-15 13:46:19.606 -06:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-15 13:46:19.609 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 13:46:19.612 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 13:46:19.614 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 13:46:19.619 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 13:46:19.621 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 13:46:19.623 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 13:46:19.628 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 13:46:19.631 -06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-15 13:46:19.633 -06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-15 13:46:19.638 -06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 13:46:19.640 -06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 13:46:19.643 -06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-15 13:46:19.645 -06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-15 13:46:19.647 -06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-11-15 13:46:19.649 -06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-11-15 13:46:19.653 -06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-11-15 13:46:19.655 -06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-11-15 13:46:19.656 -06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-11-15 13:46:19.659 -06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-11-15 13:46:19.662 -06:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-11-15 13:46:19.664 -06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 41.013ms
2023-11-15 13:46:19.666 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2023-11-15 13:46:19.670 -06:00 [DBG] Connection id "0HMV6289O4I57" completed keep alive response.
2023-11-15 13:46:19.672 -06:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7169/api/cities/1/pointsofinterest/1 - - - 204 - - 84.8764ms
2023-11-15 14:09:51.107 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 14:09:51.210 -06:00 [DBG] Hosting starting
2023-11-15 14:09:51.355 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 14:09:51.405 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 14:09:51.407 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 14:09:51.409 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 14:09:51.410 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 14:09:51.412 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 14:09:51.413 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 14:09:51.414 -06:00 [INF] Hosting environment: Development
2023-11-15 14:09:51.415 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 14:09:51.416 -06:00 [DBG] Hosting started
2023-11-15 14:10:04.886 -06:00 [DBG] Connection id "0HMV62RDNHSDD" received FIN.
2023-11-15 14:10:04.898 -06:00 [DBG] Connection id "0HMV62RDNHSDD" accepted.
2023-11-15 14:10:04.905 -06:00 [DBG] Connection id "0HMV62RDNHSDD" started.
2023-11-15 14:10:04.908 -06:00 [DBG] Connection id "0HMV62RDNHSDE" accepted.
2023-11-15 14:10:04.909 -06:00 [DBG] Connection id "0HMV62RDNHSDE" started.
2023-11-15 14:10:04.925 -06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-15 14:10:04.972 -06:00 [DBG] Connection id "0HMV62RDNHSDD" stopped.
2023-11-15 14:10:04.975 -06:00 [DBG] Connection id "0HMV62RDNHSDD" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 14:10:04.988 -06:00 [DBG] Connection 0HMV62RDNHSDE established using the following protocol: "Tls13"
2023-11-15 14:10:05.059 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities?name=Managua - -
2023-11-15 14:10:05.076 -06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-15 14:10:05.124 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 14:10:05.156 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-11-15 14:10:05.165 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/Cities' is valid for the request path '/api/cities'
2023-11-15 14:10:05.168 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 14:10:05.171 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 14:10:05.202 -06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-11-15 14:10:05.207 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 14:10:05.209 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 14:10:05.211 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 14:10:05.214 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 14:10:05.216 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 14:10:05.218 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 14:10:05.393 -06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-15 14:10:05.587 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 14:10:05.598 -06:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-11-15 14:10:05.602 -06:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-11-15 14:10:05.604 -06:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-11-15 14:10:05.606 -06:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-11-15 14:10:05.607 -06:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-11-15 14:10:05.613 -06:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-11-15 14:10:06.536 -06:00 [INF] Entity Framework Core 6.0.24 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.24' with options: None
2023-11-15 14:10:06.605 -06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(x => x.Name == __name_0)
    .OrderBy(x => x.Name)'
2023-11-15 14:10:07.047 -06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE c.Name == @__name_0
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-11-15 14:10:07.119 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 14:10:07.192 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (70ms).
2023-11-15 14:10:07.212 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 14:10:07.238 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 14:10:07.267 -06:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2023-11-15 14:10:07.307 -06:00 [INF] Executed DbCommand (56ms) [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2023-11-15 14:10:07.334 -06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 14:10:07.373 -06:00 [DBG] A data reader was disposed.
2023-11-15 14:10:07.383 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 14:10:07.392 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 14:10:07.425 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 14:10:07.431 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 14:10:07.433 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 14:10:07.434 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 14:10:07.435 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-15 14:10:07.437 -06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-15 14:10:07.602 -06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 2379.5948ms
2023-11-15 14:10:07.607 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 14:10:07.610 -06:00 [DBG] Connection id "0HMV62RDNHSDE" completed keep alive response.
2023-11-15 14:10:07.618 -06:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 14:10:07.629 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities?name=Managua - - - 200 51 application/json;+charset=utf-8 2572.2613ms
2023-11-15 14:53:23.937 -06:00 [DBG] Config reload token fired. Checking for changes...
2023-11-15 14:53:24.201 -06:00 [DBG] Config reload token fired. Checking for changes...
2023-11-15 14:55:52.402 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities?name=Managua - -
2023-11-15 14:55:52.404 -06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-15 14:55:52.405 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 14:55:52.409 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-11-15 14:55:52.412 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/Cities' is valid for the request path '/api/cities'
2023-11-15 14:55:52.414 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 14:55:52.415 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 14:55:52.417 -06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-11-15 14:55:52.419 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 14:55:52.421 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 14:55:52.424 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 14:55:52.428 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 14:55:52.431 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 14:55:52.434 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 14:55:52.436 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 14:55:52.454 -06:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-11-15 14:55:52.456 -06:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-11-15 14:55:52.462 -06:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-11-15 14:55:52.464 -06:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-11-15 14:55:52.466 -06:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-11-15 14:55:52.467 -06:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-11-15 14:55:52.487 -06:00 [INF] Entity Framework Core 6.0.24 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.24' with options: None
2023-11-15 14:55:52.499 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 14:55:52.501 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-11-15 14:55:52.503 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 14:55:52.513 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 14:55:52.517 -06:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2023-11-15 14:55:52.547 -06:00 [INF] Executed DbCommand (30ms) [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2023-11-15 14:55:52.551 -06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 14:55:52.552 -06:00 [DBG] A data reader was disposed.
2023-11-15 14:55:52.554 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 14:55:52.557 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 14:55:52.561 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 14:55:52.565 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 14:55:52.566 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 14:55:52.567 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 14:55:52.568 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-15 14:55:52.570 -06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-15 14:55:52.573 -06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 139.11ms
2023-11-15 14:55:52.576 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 14:55:52.580 -06:00 [DBG] Connection id "0HMV62RDNHSDE" completed keep alive response.
2023-11-15 14:55:52.582 -06:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 14:55:52.583 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities?name=Managua - - - 200 51 application/json;+charset=utf-8 181.6330ms
2023-11-15 15:11:48.334 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 15:11:48.506 -06:00 [DBG] Hosting starting
2023-11-15 15:11:48.815 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 15:11:48.886 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 15:11:48.888 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 15:11:48.891 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 15:11:48.892 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 15:11:48.894 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 15:11:48.896 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 15:11:48.897 -06:00 [INF] Hosting environment: Development
2023-11-15 15:11:48.898 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 15:11:48.900 -06:00 [DBG] Hosting started
2023-11-15 15:11:51.108 -06:00 [DBG] Connection id "0HMV63TU8QV40" received FIN.
2023-11-15 15:11:51.120 -06:00 [DBG] Connection id "0HMV63TU8QV40" accepted.
2023-11-15 15:11:51.123 -06:00 [DBG] Connection id "0HMV63TU8QV40" started.
2023-11-15 15:11:51.125 -06:00 [DBG] Connection id "0HMV63TU8QV41" accepted.
2023-11-15 15:11:51.127 -06:00 [DBG] Connection id "0HMV63TU8QV41" started.
2023-11-15 15:11:51.142 -06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-15 15:11:51.190 -06:00 [DBG] Connection id "0HMV63TU8QV40" stopped.
2023-11-15 15:11:51.194 -06:00 [DBG] Connection id "0HMV63TU8QV40" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 15:11:51.203 -06:00 [DBG] Connection 0HMV63TU8QV41 established using the following protocol: "Tls13"
2023-11-15 15:11:51.245 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities?name=Managua - -
2023-11-15 15:11:51.261 -06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-15 15:11:51.310 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 15:11:51.341 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-11-15 15:11:51.348 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/Cities' is valid for the request path '/api/cities'
2023-11-15 15:11:51.352 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 15:11:51.356 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 15:11:51.387 -06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-11-15 15:11:51.391 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 15:11:51.393 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 15:11:51.395 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 15:11:51.397 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 15:11:51.400 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 15:11:51.402 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 15:11:51.556 -06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-15 15:11:51.746 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 15:11:51.757 -06:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-11-15 15:11:51.761 -06:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-11-15 15:11:51.765 -06:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-11-15 15:11:51.767 -06:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-11-15 15:11:51.769 -06:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-11-15 15:11:51.772 -06:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-11-15 15:11:51.775 -06:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-11-15 15:11:51.777 -06:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-11-15 15:11:51.779 -06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-11-15 15:11:51.781 -06:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-11-15 15:11:51.784 -06:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-11-15 15:11:51.786 -06:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-11-15 15:11:51.788 -06:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-11-15 15:11:52.871 -06:00 [INF] Entity Framework Core 6.0.24 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.24' with options: None
2023-11-15 15:11:52.942 -06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(x => x.Name == __name_0)
    .OrderBy(c => c.Name)'
2023-11-15 15:11:53.351 -06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE c.Name == @__name_0
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-11-15 15:11:53.422 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 15:11:53.663 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (237ms).
2023-11-15 15:11:53.686 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 15:11:53.708 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 15:11:53.728 -06:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2023-11-15 15:11:53.761 -06:00 [INF] Executed DbCommand (38ms) [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2023-11-15 15:11:53.788 -06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 15:11:53.825 -06:00 [DBG] A data reader was disposed.
2023-11-15 15:11:53.838 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 15:11:53.847 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 15:11:53.884 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 15:11:53.891 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 15:11:53.892 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 15:11:53.895 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 15:11:53.897 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-15 15:11:53.900 -06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-15 15:11:54.063 -06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 2656.3867ms
2023-11-15 15:11:54.068 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 15:11:54.071 -06:00 [DBG] Connection id "0HMV63TU8QV41" completed keep alive response.
2023-11-15 15:11:54.080 -06:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 15:11:54.089 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities?name=Managua - - - 200 51 application/json;+charset=utf-8 2847.0284ms
2023-11-15 15:12:05.855 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities?searchQuery=Ma - -
2023-11-15 15:12:05.857 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 15:12:05.859 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-11-15 15:12:05.861 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/Cities' is valid for the request path '/api/cities'
2023-11-15 15:12:05.862 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 15:12:05.864 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 15:12:05.867 -06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-11-15 15:12:05.870 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 15:12:05.872 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 15:12:05.874 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 15:12:05.876 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 15:12:05.878 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 15:12:05.880 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 15:12:05.883 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 15:12:05.886 -06:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-11-15 15:12:05.888 -06:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-11-15 15:12:05.891 -06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-11-15 15:12:05.893 -06:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-11-15 15:12:05.894 -06:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-11-15 15:12:05.896 -06:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-11-15 15:12:05.898 -06:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-11-15 15:12:05.900 -06:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-11-15 15:12:05.902 -06:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-11-15 15:12:05.904 -06:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-11-15 15:12:05.905 -06:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-11-15 15:12:05.907 -06:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-11-15 15:12:05.909 -06:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-11-15 15:12:05.913 -06:00 [INF] Entity Framework Core 6.0.24 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.24' with options: None
2023-11-15 15:12:05.924 -06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(a => a.Name.Contains(__searchQuery_0) || a.Description != null && a.Description.Contains(__searchQuery_0))
    .OrderBy(c => c.Name)'
2023-11-15 15:12:05.976 -06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE ((@__searchQuery_0 == '') || (instr(c.Name, @__searchQuery_0) > 0)) || ((c.Description != NULL) && ((@__searchQuery_0 == '') || (instr(c.Description, @__searchQuery_0) > 0)))
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-11-15 15:12:05.999 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 15:12:06.002 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-11-15 15:12:06.009 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 15:12:06.012 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 15:12:06.018 -06:00 [DBG] Executing DbCommand [Parameters=[@__searchQuery_0='?' (Size = 2)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchQuery_0 = '') OR (instr("c"."Name", @__searchQuery_0) > 0)) OR ((@__searchQuery_0 = '') OR (instr("c"."Description", @__searchQuery_0) > 0))
ORDER BY "c"."Name"
2023-11-15 15:12:06.025 -06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__searchQuery_0='?' (Size = 2)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchQuery_0 = '') OR (instr("c"."Name", @__searchQuery_0) > 0)) OR ((@__searchQuery_0 = '') OR (instr("c"."Description", @__searchQuery_0) > 0))
ORDER BY "c"."Name"
2023-11-15 15:12:06.029 -06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 15:12:06.031 -06:00 [DBG] A data reader was disposed.
2023-11-15 15:12:06.033 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 15:12:06.035 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 15:12:06.037 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 15:12:06.041 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 15:12:06.042 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 15:12:06.043 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 15:12:06.045 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-15 15:12:06.046 -06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-15 15:12:06.049 -06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 168.9803ms
2023-11-15 15:12:06.051 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 15:12:06.053 -06:00 [DBG] Connection id "0HMV63TU8QV41" completed keep alive response.
2023-11-15 15:12:06.055 -06:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 15:12:06.056 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities?searchQuery=Ma - - - 200 51 application/json;+charset=utf-8 200.9799ms
2023-11-15 15:32:59.364 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 15:32:59.502 -06:00 [DBG] Hosting starting
2023-11-15 15:32:59.651 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 15:32:59.805 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 15:32:59.807 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 15:32:59.808 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 15:32:59.809 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 15:32:59.810 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 15:32:59.811 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 15:32:59.813 -06:00 [INF] Hosting environment: Development
2023-11-15 15:32:59.814 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 15:32:59.815 -06:00 [DBG] Hosting started
2023-11-15 15:33:00.275 -06:00 [DBG] Connection id "0HMV649OGI4QI" received FIN.
2023-11-15 15:33:00.289 -06:00 [DBG] Connection id "0HMV649OGI4QI" accepted.
2023-11-15 15:33:00.293 -06:00 [DBG] Connection id "0HMV649OGI4QI" started.
2023-11-15 15:33:00.296 -06:00 [DBG] Connection id "0HMV649OGI4QJ" accepted.
2023-11-15 15:33:00.298 -06:00 [DBG] Connection id "0HMV649OGI4QJ" started.
2023-11-15 15:33:00.315 -06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-15 15:33:00.367 -06:00 [DBG] Connection id "0HMV649OGI4QI" stopped.
2023-11-15 15:33:00.371 -06:00 [DBG] Connection id "0HMV649OGI4QI" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 15:33:00.378 -06:00 [DBG] Connection 0HMV649OGI4QJ established using the following protocol: "Tls13"
2023-11-15 15:33:00.421 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities?searchQuery=Ma - -
2023-11-15 15:33:00.439 -06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-15 15:33:00.489 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 15:33:00.520 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-11-15 15:33:00.526 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/Cities' is valid for the request path '/api/cities'
2023-11-15 15:33:00.530 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 15:33:00.533 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 15:33:00.564 -06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-11-15 15:33:00.567 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 15:33:00.569 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 15:33:00.571 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 15:33:00.573 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 15:33:00.575 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 15:33:00.578 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 15:33:00.738 -06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-15 15:33:00.919 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 15:33:00.929 -06:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-11-15 15:33:00.933 -06:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-11-15 15:33:00.935 -06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-11-15 15:33:00.937 -06:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-11-15 15:33:00.939 -06:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-11-15 15:33:00.940 -06:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-11-15 15:33:00.943 -06:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-11-15 15:33:00.946 -06:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-11-15 15:33:00.948 -06:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-11-15 15:33:00.951 -06:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-11-15 15:33:00.952 -06:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-11-15 15:33:00.954 -06:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-11-15 15:33:00.956 -06:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-11-15 15:33:00.957 -06:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-11-15 15:33:00.959 -06:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-11-15 15:33:00.961 -06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-11-15 15:33:00.963 -06:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-11-15 15:33:00.964 -06:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-11-15 15:33:00.966 -06:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-11-15 15:33:00.967 -06:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-11-15 15:33:00.969 -06:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-11-15 15:33:00.970 -06:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-11-15 15:33:00.972 -06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-11-15 15:33:00.974 -06:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-11-15 15:33:00.975 -06:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-11-15 15:33:00.976 -06:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-11-15 15:33:00.978 -06:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-11-15 15:33:01.873 -06:00 [INF] Entity Framework Core 6.0.24 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.24' with options: None
2023-11-15 15:33:01.946 -06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(a => a.Name.Contains(__searchQuery_0) || a.Description != null && a.Description.Contains(__searchQuery_0))
    .OrderBy(c => c.Name)
    .Skip(__p_1)
    .Take(__p_2)'
2023-11-15 15:33:02.362 -06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE ((@__searchQuery_0 == '') || (instr(c.Name, @__searchQuery_0) > 0)) || ((c.Description != NULL) && ((@__searchQuery_0 == '') || (instr(c.Description, @__searchQuery_0) > 0)))
        ORDER BY c.Name ASC
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-11-15 15:33:02.429 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 15:33:02.503 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (71ms).
2023-11-15 15:33:02.521 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 15:33:02.543 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 15:33:02.562 -06:00 [DBG] Executing DbCommand [Parameters=[@__searchQuery_0='?' (Size = 2), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchQuery_0 = '') OR (instr("c"."Name", @__searchQuery_0) > 0)) OR ((@__searchQuery_0 = '') OR (instr("c"."Description", @__searchQuery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-11-15 15:33:02.595 -06:00 [INF] Executed DbCommand (38ms) [Parameters=[@__searchQuery_0='?' (Size = 2), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchQuery_0 = '') OR (instr("c"."Name", @__searchQuery_0) > 0)) OR ((@__searchQuery_0 = '') OR (instr("c"."Description", @__searchQuery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-11-15 15:33:02.619 -06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 15:33:02.654 -06:00 [DBG] A data reader was disposed.
2023-11-15 15:33:02.664 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 15:33:02.672 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 15:33:02.702 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 15:33:02.708 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 15:33:02.709 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 15:33:02.710 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 15:33:02.713 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-15 15:33:02.715 -06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-15 15:33:02.870 -06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 2287.6509ms
2023-11-15 15:33:02.874 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 15:33:02.876 -06:00 [DBG] Connection id "0HMV649OGI4QJ" completed keep alive response.
2023-11-15 15:33:02.883 -06:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 15:33:02.891 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities?searchQuery=Ma - - - 200 51 application/json;+charset=utf-8 2472.9619ms
2023-11-15 16:00:10.174 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 16:00:10.304 -06:00 [DBG] Hosting starting
2023-11-15 16:00:10.457 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 16:00:10.537 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 16:00:10.538 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 16:00:10.540 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 16:00:10.541 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 16:00:10.542 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 16:00:10.544 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 16:00:10.546 -06:00 [INF] Hosting environment: Development
2023-11-15 16:00:10.547 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 16:00:10.548 -06:00 [DBG] Hosting started
2023-11-15 16:00:14.696 -06:00 [DBG] Connection id "0HMV64OVJJLLF" received FIN.
2023-11-15 16:00:14.709 -06:00 [DBG] Connection id "0HMV64OVJJLLF" accepted.
2023-11-15 16:00:14.713 -06:00 [DBG] Connection id "0HMV64OVJJLLF" started.
2023-11-15 16:00:14.715 -06:00 [DBG] Connection id "0HMV64OVJJLLG" accepted.
2023-11-15 16:00:14.717 -06:00 [DBG] Connection id "0HMV64OVJJLLG" started.
2023-11-15 16:00:14.738 -06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-15 16:00:14.791 -06:00 [DBG] Connection id "0HMV64OVJJLLF" stopped.
2023-11-15 16:00:14.794 -06:00 [DBG] Connection id "0HMV64OVJJLLF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 16:00:14.802 -06:00 [DBG] Connection 0HMV64OVJJLLG established using the following protocol: "Tls13"
2023-11-15 16:00:14.845 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities?searchQuery=Ma - -
2023-11-15 16:00:14.860 -06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-15 16:00:14.907 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 16:00:14.941 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-11-15 16:00:14.948 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/Cities' is valid for the request path '/api/cities'
2023-11-15 16:00:14.951 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 16:00:14.954 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 16:00:14.987 -06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-11-15 16:00:14.993 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 16:00:14.995 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 16:00:14.996 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 16:00:14.998 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 16:00:15.000 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 16:00:15.002 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 16:00:15.152 -06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-15 16:00:15.333 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 16:00:15.344 -06:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-11-15 16:00:15.349 -06:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-11-15 16:00:15.351 -06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-11-15 16:00:15.354 -06:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-11-15 16:00:15.356 -06:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-11-15 16:00:15.358 -06:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-11-15 16:00:15.362 -06:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-11-15 16:00:15.366 -06:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-11-15 16:00:15.368 -06:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-11-15 16:00:15.370 -06:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-11-15 16:00:15.372 -06:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-11-15 16:00:15.374 -06:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-11-15 16:00:15.377 -06:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-11-15 16:00:15.378 -06:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-11-15 16:00:15.379 -06:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-11-15 16:00:15.382 -06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-11-15 16:00:15.383 -06:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-11-15 16:00:15.385 -06:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-11-15 16:00:15.386 -06:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-11-15 16:00:15.388 -06:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-11-15 16:00:15.391 -06:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-11-15 16:00:15.392 -06:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-11-15 16:00:15.394 -06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-11-15 16:00:15.395 -06:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-11-15 16:00:15.397 -06:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-11-15 16:00:15.399 -06:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-11-15 16:00:15.400 -06:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-11-15 16:00:16.282 -06:00 [INF] Entity Framework Core 6.0.24 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.24' with options: None
2023-11-15 16:00:16.371 -06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(a => a.Name.Contains(__searchQuery_0) || a.Description != null && a.Description.Contains(__searchQuery_0))
    .Count()'
2023-11-15 16:00:16.729 -06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c
            WHERE ((@__searchQuery_0 == '') || (instr(c.Name, @__searchQuery_0) > 0)) || ((c.Description != NULL) && ((@__searchQuery_0 == '') || (instr(c.Description, @__searchQuery_0) > 0)))), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-15 16:00:16.803 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 16:00:16.877 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (69ms).
2023-11-15 16:00:16.895 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 16:00:16.914 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 16:00:16.933 -06:00 [DBG] Executing DbCommand [Parameters=[@__searchQuery_0='?' (Size = 2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE ((@__searchQuery_0 = '') OR (instr("c"."Name", @__searchQuery_0) > 0)) OR ((@__searchQuery_0 = '') OR (instr("c"."Description", @__searchQuery_0) > 0))
2023-11-15 16:00:16.964 -06:00 [INF] Executed DbCommand (38ms) [Parameters=[@__searchQuery_0='?' (Size = 2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE ((@__searchQuery_0 = '') OR (instr("c"."Name", @__searchQuery_0) > 0)) OR ((@__searchQuery_0 = '') OR (instr("c"."Description", @__searchQuery_0) > 0))
2023-11-15 16:00:16.981 -06:00 [DBG] A data reader was disposed.
2023-11-15 16:00:16.991 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 16:00:16.999 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 16:00:17.009 -06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(a => a.Name.Contains(__searchQuery_0) || a.Description != null && a.Description.Contains(__searchQuery_0))
    .OrderBy(c => c.Name)
    .Skip(__p_1)
    .Take(__p_2)'
2023-11-15 16:00:17.058 -06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE ((@__searchQuery_0 == '') || (instr(c.Name, @__searchQuery_0) > 0)) || ((c.Description != NULL) && ((@__searchQuery_0 == '') || (instr(c.Description, @__searchQuery_0) > 0)))
        ORDER BY c.Name ASC
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-11-15 16:00:17.068 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 16:00:17.071 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-11-15 16:00:17.073 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 16:00:17.075 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 16:00:17.076 -06:00 [DBG] Executing DbCommand [Parameters=[@__searchQuery_0='?' (Size = 2), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchQuery_0 = '') OR (instr("c"."Name", @__searchQuery_0) > 0)) OR ((@__searchQuery_0 = '') OR (instr("c"."Description", @__searchQuery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-11-15 16:00:17.080 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__searchQuery_0='?' (Size = 2), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchQuery_0 = '') OR (instr("c"."Name", @__searchQuery_0) > 0)) OR ((@__searchQuery_0 = '') OR (instr("c"."Description", @__searchQuery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-11-15 16:00:17.100 -06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 16:00:17.126 -06:00 [DBG] A data reader was disposed.
2023-11-15 16:00:17.128 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 16:00:17.130 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 16:00:17.173 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 16:00:17.179 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 16:00:17.180 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 16:00:17.181 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 16:00:17.183 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-15 16:00:17.184 -06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-15 16:00:17.341 -06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 2333.9471ms
2023-11-15 16:00:17.345 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 16:00:17.347 -06:00 [DBG] Connection id "0HMV64OVJJLLG" completed keep alive response.
2023-11-15 16:00:17.355 -06:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 16:00:17.362 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities?searchQuery=Ma - - - 200 51 application/json;+charset=utf-8 2520.0236ms
2023-11-15 16:00:30.709 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities - -
2023-11-15 16:00:30.711 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 16:00:30.714 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-11-15 16:00:30.716 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/Cities' is valid for the request path '/api/cities'
2023-11-15 16:00:30.719 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 16:00:30.721 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 16:00:30.723 -06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-11-15 16:00:30.725 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 16:00:30.728 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 16:00:30.730 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 16:00:30.732 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 16:00:30.736 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 16:00:30.738 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 16:00:30.740 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 16:00:30.741 -06:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-11-15 16:00:30.743 -06:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-11-15 16:00:30.745 -06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-11-15 16:00:30.747 -06:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-11-15 16:00:30.748 -06:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-11-15 16:00:30.750 -06:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-11-15 16:00:30.753 -06:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-11-15 16:00:30.754 -06:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-11-15 16:00:30.756 -06:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-11-15 16:00:30.758 -06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-11-15 16:00:30.759 -06:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-11-15 16:00:30.761 -06:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-11-15 16:00:30.763 -06:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-11-15 16:00:30.765 -06:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-11-15 16:00:30.767 -06:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-11-15 16:00:30.769 -06:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-11-15 16:00:30.771 -06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-11-15 16:00:30.773 -06:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-11-15 16:00:30.775 -06:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-11-15 16:00:30.776 -06:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-11-15 16:00:30.778 -06:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-11-15 16:00:30.780 -06:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-11-15 16:00:30.781 -06:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-11-15 16:00:30.784 -06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-11-15 16:00:30.787 -06:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-11-15 16:00:30.788 -06:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-11-15 16:00:30.790 -06:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-11-15 16:00:30.791 -06:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-11-15 16:00:30.794 -06:00 [INF] Entity Framework Core 6.0.24 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.24' with options: None
2023-11-15 16:00:30.798 -06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2023-11-15 16:00:30.801 -06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-15 16:00:30.804 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 16:00:30.805 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-11-15 16:00:30.807 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 16:00:30.808 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 16:00:30.810 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-11-15 16:00:30.813 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-11-15 16:00:30.815 -06:00 [DBG] A data reader was disposed.
2023-11-15 16:00:30.817 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 16:00:30.819 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 16:00:30.821 -06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2023-11-15 16:00:30.826 -06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-11-15 16:00:30.828 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 16:00:30.829 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-11-15 16:00:30.831 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 16:00:30.833 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 16:00:30.835 -06:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-11-15 16:00:30.839 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-11-15 16:00:30.842 -06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 16:00:30.843 -06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 16:00:30.845 -06:00 [DBG] A data reader was disposed.
2023-11-15 16:00:30.846 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 16:00:30.849 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 16:00:30.851 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 16:00:30.855 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 16:00:30.856 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 16:00:30.857 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 16:00:30.858 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-15 16:00:30.859 -06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-15 16:00:30.862 -06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 123.9036ms
2023-11-15 16:00:30.864 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 16:00:30.865 -06:00 [DBG] Connection id "0HMV64OVJJLLG" completed keep alive response.
2023-11-15 16:00:30.867 -06:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 16:00:30.869 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities - - - 200 103 application/json;+charset=utf-8 160.1109ms
2023-11-15 16:30:08.312 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 16:30:08.447 -06:00 [DBG] Hosting starting
2023-11-15 16:30:08.637 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 16:30:08.721 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 16:30:08.723 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 16:30:08.726 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 16:30:08.729 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 16:30:08.731 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 16:30:08.734 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 16:30:08.735 -06:00 [INF] Hosting environment: Development
2023-11-15 16:30:08.736 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 16:30:08.737 -06:00 [DBG] Hosting started
2023-11-15 16:30:21.808 -06:00 [DBG] Connection id "0HMV659Q5IKB6" received FIN.
2023-11-15 16:30:21.821 -06:00 [DBG] Connection id "0HMV659Q5IKB6" accepted.
2023-11-15 16:30:21.829 -06:00 [DBG] Connection id "0HMV659Q5IKB6" started.
2023-11-15 16:30:21.832 -06:00 [DBG] Connection id "0HMV659Q5IKB7" accepted.
2023-11-15 16:30:21.834 -06:00 [DBG] Connection id "0HMV659Q5IKB7" started.
2023-11-15 16:30:21.849 -06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-15 16:30:21.896 -06:00 [DBG] Connection id "0HMV659Q5IKB6" stopped.
2023-11-15 16:30:21.899 -06:00 [DBG] Connection id "0HMV659Q5IKB6" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 16:30:21.907 -06:00 [DBG] Connection 0HMV659Q5IKB7 established using the following protocol: "Tls13"
2023-11-15 16:30:21.946 -06:00 [INF] Request starting HTTP/1.1 POST https://localhost:7169/api/authentication/authenticate application/json 114
2023-11-15 16:30:21.961 -06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-15 16:30:21.984 -06:00 [DBG] POST requests are not supported
2023-11-15 16:30:22.015 -06:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-11-15 16:30:22.022 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/Authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-11-15 16:30:22.026 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 16:30:22.031 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 16:30:22.053 -06:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-11-15 16:30:22.057 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 16:30:22.060 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 16:30:22.062 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 16:30:22.064 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 16:30:22.066 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 16:30:22.068 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 16:30:22.070 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 16:30:22.076 -06:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 16:30:22.080 -06:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-11-15 16:30:22.084 -06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-15 16:30:22.086 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-15 16:30:22.100 -06:00 [DBG] Connection id "0HMV659Q5IKB7", Request id "0HMV659Q5IKB7:00000002": started reading request body.
2023-11-15 16:30:22.103 -06:00 [DBG] Connection id "0HMV659Q5IKB7", Request id "0HMV659Q5IKB7:00000002": done reading request body.
2023-11-15 16:30:22.260 -06:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 16:30:22.263 -06:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 16:30:22.264 -06:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 16:30:22.274 -06:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 16:30:23.286 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 16:30:23.293 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 16:30:23.293 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 16:30:23.294 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 16:30:23.296 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-11-15 16:30:23.298 -06:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-11-15 16:30:23.308 -06:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 1235.2059ms
2023-11-15 16:30:23.312 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 16:30:23.314 -06:00 [DBG] Connection id "0HMV659Q5IKB7" completed keep alive response.
2023-11-15 16:30:23.317 -06:00 [INF] Request finished HTTP/1.1 POST https://localhost:7169/api/authentication/authenticate application/json 114 - 200 - text/plain;+charset=utf-8 1374.5898ms
2023-11-15 17:10:13.839 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 17:10:13.986 -06:00 [DBG] Hosting starting
2023-11-15 17:10:14.042 -06:00 [INF] User profile is available. Using 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-15 17:10:14.050 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-1b69dbee-3805-4a74-a08c-90a9e74fbb0d.xml'.
2023-11-15 17:10:14.090 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-2bfce52a-9b47-457a-9795-8a3304f5b5da.xml'.
2023-11-15 17:10:14.106 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-3993c40a-16c0-4071-8e7e-5978b8943164.xml'.
2023-11-15 17:10:14.123 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-633cad94-fa90-4a9e-954d-792589315797.xml'.
2023-11-15 17:10:14.139 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-7edd1a55-c347-4e06-a5ce-5e73f5d971a3.xml'.
2023-11-15 17:10:14.156 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-854d5304-df7c-41fc-9d54-e1caa9a637b9.xml'.
2023-11-15 17:10:14.173 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-8d98bb62-c769-4856-9198-eef25028fe8d.xml'.
2023-11-15 17:10:14.191 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-d5a9f251-bf7f-4c67-9da9-b2e38f201e90.xml'.
2023-11-15 17:10:14.208 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-eab573a4-e062-40d3-b382-e8c766138a75.xml'.
2023-11-15 17:10:14.235 -06:00 [DBG] Found key {1b69dbee-3805-4a74-a08c-90a9e74fbb0d}.
2023-11-15 17:10:14.243 -06:00 [DBG] Found key {2bfce52a-9b47-457a-9795-8a3304f5b5da}.
2023-11-15 17:10:14.246 -06:00 [DBG] Found key {3993c40a-16c0-4071-8e7e-5978b8943164}.
2023-11-15 17:10:14.248 -06:00 [DBG] Found key {633cad94-fa90-4a9e-954d-792589315797}.
2023-11-15 17:10:14.249 -06:00 [DBG] Found key {7edd1a55-c347-4e06-a5ce-5e73f5d971a3}.
2023-11-15 17:10:14.250 -06:00 [DBG] Found key {854d5304-df7c-41fc-9d54-e1caa9a637b9}.
2023-11-15 17:10:14.252 -06:00 [DBG] Found key {8d98bb62-c769-4856-9198-eef25028fe8d}.
2023-11-15 17:10:14.253 -06:00 [DBG] Found key {d5a9f251-bf7f-4c67-9da9-b2e38f201e90}.
2023-11-15 17:10:14.254 -06:00 [DBG] Found key {eab573a4-e062-40d3-b382-e8c766138a75}.
2023-11-15 17:10:14.268 -06:00 [DBG] Considering key {854d5304-df7c-41fc-9d54-e1caa9a637b9} with expiration date 2024-02-02 17:06:28Z as default key.
2023-11-15 17:10:14.272 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 17:10:14.277 -06:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-11-15 17:10:14.282 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 17:10:14.290 -06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-11-15 17:10:14.297 -06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-11-15 17:10:14.303 -06:00 [DBG] Using key {854d5304-df7c-41fc-9d54-e1caa9a637b9} as the default key.
2023-11-15 17:10:14.306 -06:00 [DBG] Key ring with default key {854d5304-df7c-41fc-9d54-e1caa9a637b9} was loaded during application startup.
2023-11-15 17:10:14.487 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 17:10:14.574 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 17:10:14.576 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 17:10:14.578 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 17:10:14.580 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 17:10:14.581 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 17:10:14.583 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 17:10:14.584 -06:00 [INF] Hosting environment: Development
2023-11-15 17:10:14.585 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 17:10:14.586 -06:00 [DBG] Hosting started
2023-11-15 17:10:48.548 -06:00 [DBG] Connection id "0HMV660DCOPTI" received FIN.
2023-11-15 17:10:48.572 -06:00 [DBG] Connection id "0HMV660DCOPTI" accepted.
2023-11-15 17:10:48.579 -06:00 [DBG] Connection id "0HMV660DCOPTI" started.
2023-11-15 17:10:48.580 -06:00 [DBG] Connection id "0HMV660DCOPTJ" accepted.
2023-11-15 17:10:48.583 -06:00 [DBG] Connection id "0HMV660DCOPTJ" started.
2023-11-15 17:10:48.601 -06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-15 17:10:48.653 -06:00 [DBG] Connection id "0HMV660DCOPTI" stopped.
2023-11-15 17:10:48.663 -06:00 [DBG] Connection id "0HMV660DCOPTI" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 17:10:48.673 -06:00 [DBG] Connection 0HMV660DCOPTJ established using the following protocol: "Tls13"
2023-11-15 17:10:48.712 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities - -
2023-11-15 17:10:48.727 -06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-15 17:10:48.771 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 17:10:48.804 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-11-15 17:10:48.810 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/Cities' is valid for the request path '/api/cities'
2023-11-15 17:10:48.813 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 17:10:48.908 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-15 17:10:48.919 -06:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-11-15 17:10:48.930 -06:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-11-15 17:10:48.934 -06:00 [DBG] Connection id "0HMV660DCOPTJ" completed keep alive response.
2023-11-15 17:10:48.938 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities - - - 401 0 - 229.2453ms
2023-11-15 17:10:52.793 -06:00 [INF] Request starting HTTP/1.1 POST https://localhost:7169/api/authentication/authenticate application/json 114
2023-11-15 17:10:52.796 -06:00 [DBG] POST requests are not supported
2023-11-15 17:10:52.797 -06:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-11-15 17:10:52.799 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/Authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-11-15 17:10:52.801 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 17:10:52.804 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-15 17:10:52.806 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 17:10:52.828 -06:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-11-15 17:10:52.832 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 17:10:52.833 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 17:10:52.835 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 17:10:52.837 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 17:10:52.840 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 17:10:52.842 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 17:10:52.844 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 17:10:52.850 -06:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 17:10:52.853 -06:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-11-15 17:10:52.856 -06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-15 17:10:52.858 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-15 17:10:52.868 -06:00 [DBG] Connection id "0HMV660DCOPTJ", Request id "0HMV660DCOPTJ:00000003": started reading request body.
2023-11-15 17:10:52.871 -06:00 [DBG] Connection id "0HMV660DCOPTJ", Request id "0HMV660DCOPTJ:00000003": done reading request body.
2023-11-15 17:10:53.020 -06:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 17:10:53.021 -06:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 17:10:53.023 -06:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 17:10:53.032 -06:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 17:10:53.161 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 17:10:53.166 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 17:10:53.167 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 17:10:53.168 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 17:10:53.170 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-11-15 17:10:53.172 -06:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-11-15 17:10:53.180 -06:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 333.3239ms
2023-11-15 17:10:53.184 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 17:10:53.185 -06:00 [DBG] Connection id "0HMV660DCOPTJ" completed keep alive response.
2023-11-15 17:10:53.187 -06:00 [INF] Request finished HTTP/1.1 POST https://localhost:7169/api/authentication/authenticate application/json 114 - 200 - text/plain;+charset=utf-8 393.6819ms
2023-11-15 17:11:05.654 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities - -
2023-11-15 17:11:05.656 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 17:11:05.658 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-11-15 17:11:05.659 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/Cities' is valid for the request path '/api/cities'
2023-11-15 17:11:05.661 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 17:11:05.750 -06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-11-15 17:11:05.757 -06:00 [INF] Bearer was not authenticated. Failure message: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
2023-11-15 17:11:05.759 -06:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-11-15 17:11:05.763 -06:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-11-15 17:11:05.765 -06:00 [DBG] Connection id "0HMV660DCOPTJ" completed keep alive response.
2023-11-15 17:11:05.766 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities - - - 401 0 - 112.0434ms
2023-11-15 17:11:27.525 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities - -
2023-11-15 17:11:27.528 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 17:11:27.531 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-11-15 17:11:27.533 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/Cities' is valid for the request path '/api/cities'
2023-11-15 17:11:27.536 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 17:11:27.537 -06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-11-15 17:11:27.541 -06:00 [INF] Bearer was not authenticated. Failure message: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
2023-11-15 17:11:27.543 -06:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-11-15 17:11:27.544 -06:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-11-15 17:11:27.546 -06:00 [DBG] Connection id "0HMV660DCOPTJ" completed keep alive response.
2023-11-15 17:11:27.548 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities - - - 401 0 - 24.2960ms
2023-11-15 17:14:53.596 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities - -
2023-11-15 17:14:53.604 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 17:14:53.607 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-11-15 17:14:53.610 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/Cities' is valid for the request path '/api/cities'
2023-11-15 17:14:53.611 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 17:14:53.613 -06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-11-15 17:14:53.617 -06:00 [INF] Bearer was not authenticated. Failure message: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
2023-11-15 17:14:53.619 -06:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-11-15 17:14:53.623 -06:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-11-15 17:14:53.626 -06:00 [DBG] Connection id "0HMV660DCOPTJ" completed keep alive response.
2023-11-15 17:14:53.627 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities - - - 401 0 - 31.1977ms
2023-11-15 17:14:58.332 -06:00 [INF] Request starting HTTP/1.1 POST https://localhost:7169/api/authentication/authenticate application/json 114
2023-11-15 17:14:58.334 -06:00 [DBG] POST requests are not supported
2023-11-15 17:14:58.336 -06:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-11-15 17:14:58.339 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/Authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-11-15 17:14:58.341 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 17:14:58.343 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-15 17:14:58.345 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 17:14:58.347 -06:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-11-15 17:14:58.349 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 17:14:58.352 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 17:14:58.357 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 17:14:58.359 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 17:14:58.361 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 17:14:58.363 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 17:14:58.364 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 17:14:58.367 -06:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 17:14:58.370 -06:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-11-15 17:14:58.373 -06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-15 17:14:58.374 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-15 17:14:58.376 -06:00 [DBG] Connection id "0HMV660DCOPTJ", Request id "0HMV660DCOPTJ:00000007": started reading request body.
2023-11-15 17:14:58.377 -06:00 [DBG] Connection id "0HMV660DCOPTJ", Request id "0HMV660DCOPTJ:00000007": done reading request body.
2023-11-15 17:14:58.379 -06:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 17:14:58.381 -06:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 17:14:58.383 -06:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 17:14:58.388 -06:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 17:15:20.023 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 17:15:20.188 -06:00 [DBG] Hosting starting
2023-11-15 17:15:20.239 -06:00 [INF] User profile is available. Using 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-15 17:15:20.245 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-1b69dbee-3805-4a74-a08c-90a9e74fbb0d.xml'.
2023-11-15 17:15:20.253 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-2bfce52a-9b47-457a-9795-8a3304f5b5da.xml'.
2023-11-15 17:15:20.255 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-3993c40a-16c0-4071-8e7e-5978b8943164.xml'.
2023-11-15 17:15:20.256 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-633cad94-fa90-4a9e-954d-792589315797.xml'.
2023-11-15 17:15:20.258 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-7edd1a55-c347-4e06-a5ce-5e73f5d971a3.xml'.
2023-11-15 17:15:20.259 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-854d5304-df7c-41fc-9d54-e1caa9a637b9.xml'.
2023-11-15 17:15:20.260 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-8d98bb62-c769-4856-9198-eef25028fe8d.xml'.
2023-11-15 17:15:20.262 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-d5a9f251-bf7f-4c67-9da9-b2e38f201e90.xml'.
2023-11-15 17:15:20.264 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-eab573a4-e062-40d3-b382-e8c766138a75.xml'.
2023-11-15 17:15:20.275 -06:00 [DBG] Found key {1b69dbee-3805-4a74-a08c-90a9e74fbb0d}.
2023-11-15 17:15:20.285 -06:00 [DBG] Found key {2bfce52a-9b47-457a-9795-8a3304f5b5da}.
2023-11-15 17:15:20.287 -06:00 [DBG] Found key {3993c40a-16c0-4071-8e7e-5978b8943164}.
2023-11-15 17:15:20.289 -06:00 [DBG] Found key {633cad94-fa90-4a9e-954d-792589315797}.
2023-11-15 17:15:20.290 -06:00 [DBG] Found key {7edd1a55-c347-4e06-a5ce-5e73f5d971a3}.
2023-11-15 17:15:20.292 -06:00 [DBG] Found key {854d5304-df7c-41fc-9d54-e1caa9a637b9}.
2023-11-15 17:15:20.293 -06:00 [DBG] Found key {8d98bb62-c769-4856-9198-eef25028fe8d}.
2023-11-15 17:15:20.294 -06:00 [DBG] Found key {d5a9f251-bf7f-4c67-9da9-b2e38f201e90}.
2023-11-15 17:15:20.296 -06:00 [DBG] Found key {eab573a4-e062-40d3-b382-e8c766138a75}.
2023-11-15 17:15:20.308 -06:00 [DBG] Considering key {854d5304-df7c-41fc-9d54-e1caa9a637b9} with expiration date 2024-02-02 17:06:28Z as default key.
2023-11-15 17:15:20.312 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 17:15:20.319 -06:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-11-15 17:15:20.322 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 17:15:20.328 -06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-11-15 17:15:20.334 -06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-11-15 17:15:20.341 -06:00 [DBG] Using key {854d5304-df7c-41fc-9d54-e1caa9a637b9} as the default key.
2023-11-15 17:15:20.343 -06:00 [DBG] Key ring with default key {854d5304-df7c-41fc-9d54-e1caa9a637b9} was loaded during application startup.
2023-11-15 17:15:20.655 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 17:15:21.005 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 17:15:21.007 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 17:15:21.009 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 17:15:21.010 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 17:15:21.011 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 17:15:21.013 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 17:15:21.015 -06:00 [INF] Hosting environment: Development
2023-11-15 17:15:21.016 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 17:15:21.019 -06:00 [DBG] Hosting started
2023-11-15 17:16:29.343 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 17:16:29.458 -06:00 [DBG] Hosting starting
2023-11-15 17:16:29.493 -06:00 [INF] User profile is available. Using 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-15 17:16:29.498 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-1b69dbee-3805-4a74-a08c-90a9e74fbb0d.xml'.
2023-11-15 17:16:29.503 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-2bfce52a-9b47-457a-9795-8a3304f5b5da.xml'.
2023-11-15 17:16:29.506 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-3993c40a-16c0-4071-8e7e-5978b8943164.xml'.
2023-11-15 17:16:29.508 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-633cad94-fa90-4a9e-954d-792589315797.xml'.
2023-11-15 17:16:29.509 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-7edd1a55-c347-4e06-a5ce-5e73f5d971a3.xml'.
2023-11-15 17:16:29.510 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-854d5304-df7c-41fc-9d54-e1caa9a637b9.xml'.
2023-11-15 17:16:29.511 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-8d98bb62-c769-4856-9198-eef25028fe8d.xml'.
2023-11-15 17:16:29.513 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-d5a9f251-bf7f-4c67-9da9-b2e38f201e90.xml'.
2023-11-15 17:16:29.515 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-eab573a4-e062-40d3-b382-e8c766138a75.xml'.
2023-11-15 17:16:29.522 -06:00 [DBG] Found key {1b69dbee-3805-4a74-a08c-90a9e74fbb0d}.
2023-11-15 17:16:29.529 -06:00 [DBG] Found key {2bfce52a-9b47-457a-9795-8a3304f5b5da}.
2023-11-15 17:16:29.531 -06:00 [DBG] Found key {3993c40a-16c0-4071-8e7e-5978b8943164}.
2023-11-15 17:16:29.533 -06:00 [DBG] Found key {633cad94-fa90-4a9e-954d-792589315797}.
2023-11-15 17:16:29.534 -06:00 [DBG] Found key {7edd1a55-c347-4e06-a5ce-5e73f5d971a3}.
2023-11-15 17:16:29.535 -06:00 [DBG] Found key {854d5304-df7c-41fc-9d54-e1caa9a637b9}.
2023-11-15 17:16:29.537 -06:00 [DBG] Found key {8d98bb62-c769-4856-9198-eef25028fe8d}.
2023-11-15 17:16:29.538 -06:00 [DBG] Found key {d5a9f251-bf7f-4c67-9da9-b2e38f201e90}.
2023-11-15 17:16:29.540 -06:00 [DBG] Found key {eab573a4-e062-40d3-b382-e8c766138a75}.
2023-11-15 17:16:29.549 -06:00 [DBG] Considering key {854d5304-df7c-41fc-9d54-e1caa9a637b9} with expiration date 2024-02-02 17:06:28Z as default key.
2023-11-15 17:16:29.553 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 17:16:29.558 -06:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-11-15 17:16:29.561 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 17:16:29.567 -06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-11-15 17:16:29.572 -06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-11-15 17:16:29.576 -06:00 [DBG] Using key {854d5304-df7c-41fc-9d54-e1caa9a637b9} as the default key.
2023-11-15 17:16:29.580 -06:00 [DBG] Key ring with default key {854d5304-df7c-41fc-9d54-e1caa9a637b9} was loaded during application startup.
2023-11-15 17:16:29.719 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 17:16:29.780 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 17:16:29.782 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 17:16:29.784 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 17:16:29.786 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 17:16:29.787 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 17:16:29.788 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 17:16:29.789 -06:00 [INF] Hosting environment: Development
2023-11-15 17:16:29.790 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 17:16:29.791 -06:00 [DBG] Hosting started
2023-11-15 17:16:34.067 -06:00 [DBG] Connection id "0HMV663KBT13K" received FIN.
2023-11-15 17:16:34.090 -06:00 [DBG] Connection id "0HMV663KBT13K" accepted.
2023-11-15 17:16:34.097 -06:00 [DBG] Connection id "0HMV663KBT13K" started.
2023-11-15 17:16:34.101 -06:00 [DBG] Connection id "0HMV663KBT13L" accepted.
2023-11-15 17:16:34.103 -06:00 [DBG] Connection id "0HMV663KBT13L" started.
2023-11-15 17:16:34.118 -06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-15 17:16:34.183 -06:00 [DBG] Connection id "0HMV663KBT13K" stopped.
2023-11-15 17:16:34.187 -06:00 [DBG] Connection id "0HMV663KBT13K" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 17:16:34.202 -06:00 [DBG] Connection 0HMV663KBT13L established using the following protocol: "Tls13"
2023-11-15 17:16:34.252 -06:00 [INF] Request starting HTTP/1.1 POST https://localhost:7169/api/authentication/authenticate application/json 114
2023-11-15 17:16:34.266 -06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-15 17:16:34.287 -06:00 [DBG] POST requests are not supported
2023-11-15 17:16:34.317 -06:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-11-15 17:16:34.324 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/Authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-11-15 17:16:34.326 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 17:16:34.410 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-15 17:16:34.415 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 17:16:34.445 -06:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-11-15 17:16:34.449 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 17:16:34.451 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 17:16:34.453 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 17:16:34.455 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 17:16:34.456 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 17:16:34.459 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 17:16:34.460 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 17:16:34.467 -06:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 17:16:34.471 -06:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-11-15 17:16:34.474 -06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-15 17:16:34.476 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-15 17:16:34.487 -06:00 [DBG] Connection id "0HMV663KBT13L", Request id "0HMV663KBT13L:00000002": started reading request body.
2023-11-15 17:16:34.489 -06:00 [DBG] Connection id "0HMV663KBT13L", Request id "0HMV663KBT13L:00000002": done reading request body.
2023-11-15 17:16:34.669 -06:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 17:16:34.671 -06:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 17:16:34.672 -06:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 17:16:34.682 -06:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 17:16:53.439 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 17:16:53.445 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 17:16:53.447 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 17:16:53.448 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 17:16:53.450 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-11-15 17:16:53.452 -06:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-11-15 17:16:53.462 -06:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 18998.7795ms
2023-11-15 17:16:53.467 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 17:16:53.468 -06:00 [DBG] Connection id "0HMV663KBT13L" completed keep alive response.
2023-11-15 17:16:53.472 -06:00 [INF] Request finished HTTP/1.1 POST https://localhost:7169/api/authentication/authenticate application/json 114 - 200 - text/plain;+charset=utf-8 19223.6006ms
2023-11-15 17:17:07.748 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities - -
2023-11-15 17:17:07.765 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 17:17:07.769 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-11-15 17:17:07.770 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/Cities' is valid for the request path '/api/cities'
2023-11-15 17:17:07.772 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 17:17:07.850 -06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-11-15 17:17:07.855 -06:00 [INF] Bearer was not authenticated. Failure message: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
2023-11-15 17:17:07.862 -06:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-11-15 17:17:07.874 -06:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-11-15 17:17:07.877 -06:00 [DBG] Connection id "0HMV663KBT13L" completed keep alive response.
2023-11-15 17:17:07.878 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities - - - 401 0 - 130.5130ms
2023-11-15 17:17:13.831 -06:00 [DBG] Connection id "0HMV663KBT13L" received FIN.
2023-11-15 17:17:13.835 -06:00 [DBG] Connection id "0HMV663KBT13L" sending FIN because: "The client closed the connection."
2023-11-15 17:17:13.837 -06:00 [DBG] Connection id "0HMV663KBT13L" disconnecting.
2023-11-15 17:17:13.842 -06:00 [DBG] Connection id "0HMV663KBT13L" stopped.
2023-11-15 23:23:19.828 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 23:23:19.948 -06:00 [DBG] Hosting starting
2023-11-15 23:23:19.993 -06:00 [INF] User profile is available. Using 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-15 23:23:19.998 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-1b69dbee-3805-4a74-a08c-90a9e74fbb0d.xml'.
2023-11-15 23:23:20.023 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-2bfce52a-9b47-457a-9795-8a3304f5b5da.xml'.
2023-11-15 23:23:20.037 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-3993c40a-16c0-4071-8e7e-5978b8943164.xml'.
2023-11-15 23:23:20.049 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-633cad94-fa90-4a9e-954d-792589315797.xml'.
2023-11-15 23:23:20.063 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-7edd1a55-c347-4e06-a5ce-5e73f5d971a3.xml'.
2023-11-15 23:23:20.074 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-854d5304-df7c-41fc-9d54-e1caa9a637b9.xml'.
2023-11-15 23:23:20.088 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-8d98bb62-c769-4856-9198-eef25028fe8d.xml'.
2023-11-15 23:23:20.101 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-d5a9f251-bf7f-4c67-9da9-b2e38f201e90.xml'.
2023-11-15 23:23:20.117 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-eab573a4-e062-40d3-b382-e8c766138a75.xml'.
2023-11-15 23:23:20.139 -06:00 [DBG] Found key {1b69dbee-3805-4a74-a08c-90a9e74fbb0d}.
2023-11-15 23:23:20.147 -06:00 [DBG] Found key {2bfce52a-9b47-457a-9795-8a3304f5b5da}.
2023-11-15 23:23:20.149 -06:00 [DBG] Found key {3993c40a-16c0-4071-8e7e-5978b8943164}.
2023-11-15 23:23:20.151 -06:00 [DBG] Found key {633cad94-fa90-4a9e-954d-792589315797}.
2023-11-15 23:23:20.152 -06:00 [DBG] Found key {7edd1a55-c347-4e06-a5ce-5e73f5d971a3}.
2023-11-15 23:23:20.153 -06:00 [DBG] Found key {854d5304-df7c-41fc-9d54-e1caa9a637b9}.
2023-11-15 23:23:20.155 -06:00 [DBG] Found key {8d98bb62-c769-4856-9198-eef25028fe8d}.
2023-11-15 23:23:20.156 -06:00 [DBG] Found key {d5a9f251-bf7f-4c67-9da9-b2e38f201e90}.
2023-11-15 23:23:20.158 -06:00 [DBG] Found key {eab573a4-e062-40d3-b382-e8c766138a75}.
2023-11-15 23:23:20.167 -06:00 [DBG] Considering key {854d5304-df7c-41fc-9d54-e1caa9a637b9} with expiration date 2024-02-02 17:06:28Z as default key.
2023-11-15 23:23:20.171 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 23:23:20.176 -06:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-11-15 23:23:20.178 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 23:23:20.184 -06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-11-15 23:23:20.188 -06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-11-15 23:23:20.193 -06:00 [DBG] Using key {854d5304-df7c-41fc-9d54-e1caa9a637b9} as the default key.
2023-11-15 23:23:20.195 -06:00 [DBG] Key ring with default key {854d5304-df7c-41fc-9d54-e1caa9a637b9} was loaded during application startup.
2023-11-15 23:23:20.374 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 23:23:20.455 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 23:23:20.457 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 23:23:20.459 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 23:23:20.460 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 23:23:20.462 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 23:23:20.463 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 23:23:20.464 -06:00 [INF] Hosting environment: Development
2023-11-15 23:23:20.465 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 23:23:20.466 -06:00 [DBG] Hosting started
2023-11-15 23:26:01.778 -06:00 [DBG] Connection id "0HMV6CI2RLIBU" received FIN.
2023-11-15 23:26:01.799 -06:00 [DBG] Connection id "0HMV6CI2RLIBU" accepted.
2023-11-15 23:26:01.807 -06:00 [DBG] Connection id "0HMV6CI2RLIBU" started.
2023-11-15 23:26:01.809 -06:00 [DBG] Connection id "0HMV6CI2RLIBV" accepted.
2023-11-15 23:26:01.811 -06:00 [DBG] Connection id "0HMV6CI2RLIBV" started.
2023-11-15 23:26:01.833 -06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-15 23:26:01.909 -06:00 [DBG] Connection id "0HMV6CI2RLIBU" stopped.
2023-11-15 23:26:01.916 -06:00 [DBG] Connection id "0HMV6CI2RLIBU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 23:26:01.927 -06:00 [DBG] Connection 0HMV6CI2RLIBV established using the following protocol: "Tls13"
2023-11-15 23:26:01.979 -06:00 [INF] Request starting HTTP/1.1 POST https://localhost:7169/api/authentication/authenticate application/json 114
2023-11-15 23:26:01.997 -06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-15 23:26:02.022 -06:00 [DBG] POST requests are not supported
2023-11-15 23:26:02.059 -06:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-11-15 23:26:02.065 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/Authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-11-15 23:26:02.069 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:26:02.177 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-15 23:26:02.182 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:26:02.205 -06:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-11-15 23:26:02.210 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 23:26:02.212 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 23:26:02.213 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 23:26:02.215 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 23:26:02.217 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 23:26:02.219 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 23:26:02.222 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 23:26:02.231 -06:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 23:26:02.235 -06:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-11-15 23:26:02.240 -06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-15 23:26:02.241 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-15 23:26:02.254 -06:00 [DBG] Connection id "0HMV6CI2RLIBV", Request id "0HMV6CI2RLIBV:00000002": started reading request body.
2023-11-15 23:26:02.257 -06:00 [DBG] Connection id "0HMV6CI2RLIBV", Request id "0HMV6CI2RLIBV:00000002": done reading request body.
2023-11-15 23:26:02.427 -06:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:26:02.430 -06:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:26:02.431 -06:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 23:26:02.441 -06:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:26:06.814 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 23:26:06.820 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 23:26:06.821 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 23:26:06.822 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 23:26:06.824 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-11-15 23:26:06.826 -06:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-11-15 23:26:06.839 -06:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 4614.6282ms
2023-11-15 23:26:06.843 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:26:06.844 -06:00 [DBG] Connection id "0HMV6CI2RLIBV" completed keep alive response.
2023-11-15 23:26:06.849 -06:00 [INF] Request finished HTTP/1.1 POST https://localhost:7169/api/authentication/authenticate application/json 114 - 200 - text/plain;+charset=utf-8 4874.1088ms
2023-11-15 23:26:18.033 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities - -
2023-11-15 23:26:18.051 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 23:26:18.054 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-11-15 23:26:18.056 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/Cities' is valid for the request path '/api/cities'
2023-11-15 23:26:18.058 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 23:26:18.139 -06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '16/11/2023 00:16:53', Current time (UTC): '16/11/2023 05:26:18'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-11-15 23:26:18.145 -06:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '16/11/2023 00:16:53', Current time (UTC): '16/11/2023 05:26:18'.
2023-11-15 23:26:18.151 -06:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-11-15 23:26:18.164 -06:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-11-15 23:26:18.166 -06:00 [DBG] Connection id "0HMV6CI2RLIBV" completed keep alive response.
2023-11-15 23:26:18.168 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities - - - 401 0 - 135.1786ms
2023-11-15 23:26:26.601 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities - -
2023-11-15 23:26:26.603 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 23:26:26.604 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-11-15 23:26:26.606 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/Cities' is valid for the request path '/api/cities'
2023-11-15 23:26:26.610 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 23:26:26.618 -06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-11-15 23:26:26.623 -06:00 [INF] Bearer was not authenticated. Failure message: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
2023-11-15 23:26:26.625 -06:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-11-15 23:26:26.628 -06:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-11-15 23:26:26.630 -06:00 [DBG] Connection id "0HMV6CI2RLIBV" completed keep alive response.
2023-11-15 23:26:26.632 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities - - - 401 0 - 31.1905ms
2023-11-15 23:26:27.921 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities - -
2023-11-15 23:26:27.926 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 23:26:27.932 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-11-15 23:26:27.940 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/Cities' is valid for the request path '/api/cities'
2023-11-15 23:26:27.952 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 23:26:27.961 -06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-11-15 23:26:27.974 -06:00 [INF] Bearer was not authenticated. Failure message: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
2023-11-15 23:26:27.976 -06:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-11-15 23:26:27.978 -06:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-11-15 23:26:27.979 -06:00 [DBG] Connection id "0HMV6CI2RLIBV" completed keep alive response.
2023-11-15 23:26:27.981 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities - - - 401 0 - 60.3393ms
2023-11-15 23:33:14.771 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 23:33:14.880 -06:00 [DBG] Hosting starting
2023-11-15 23:33:14.917 -06:00 [INF] User profile is available. Using 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-15 23:33:14.923 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-1b69dbee-3805-4a74-a08c-90a9e74fbb0d.xml'.
2023-11-15 23:33:14.930 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-2bfce52a-9b47-457a-9795-8a3304f5b5da.xml'.
2023-11-15 23:33:14.933 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-3993c40a-16c0-4071-8e7e-5978b8943164.xml'.
2023-11-15 23:33:14.935 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-633cad94-fa90-4a9e-954d-792589315797.xml'.
2023-11-15 23:33:14.937 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-7edd1a55-c347-4e06-a5ce-5e73f5d971a3.xml'.
2023-11-15 23:33:14.939 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-854d5304-df7c-41fc-9d54-e1caa9a637b9.xml'.
2023-11-15 23:33:14.940 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-8d98bb62-c769-4856-9198-eef25028fe8d.xml'.
2023-11-15 23:33:14.941 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-d5a9f251-bf7f-4c67-9da9-b2e38f201e90.xml'.
2023-11-15 23:33:14.942 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-eab573a4-e062-40d3-b382-e8c766138a75.xml'.
2023-11-15 23:33:14.949 -06:00 [DBG] Found key {1b69dbee-3805-4a74-a08c-90a9e74fbb0d}.
2023-11-15 23:33:14.958 -06:00 [DBG] Found key {2bfce52a-9b47-457a-9795-8a3304f5b5da}.
2023-11-15 23:33:14.961 -06:00 [DBG] Found key {3993c40a-16c0-4071-8e7e-5978b8943164}.
2023-11-15 23:33:14.962 -06:00 [DBG] Found key {633cad94-fa90-4a9e-954d-792589315797}.
2023-11-15 23:33:14.963 -06:00 [DBG] Found key {7edd1a55-c347-4e06-a5ce-5e73f5d971a3}.
2023-11-15 23:33:14.964 -06:00 [DBG] Found key {854d5304-df7c-41fc-9d54-e1caa9a637b9}.
2023-11-15 23:33:14.966 -06:00 [DBG] Found key {8d98bb62-c769-4856-9198-eef25028fe8d}.
2023-11-15 23:33:14.969 -06:00 [DBG] Found key {d5a9f251-bf7f-4c67-9da9-b2e38f201e90}.
2023-11-15 23:33:14.970 -06:00 [DBG] Found key {eab573a4-e062-40d3-b382-e8c766138a75}.
2023-11-15 23:33:14.979 -06:00 [DBG] Considering key {854d5304-df7c-41fc-9d54-e1caa9a637b9} with expiration date 2024-02-02 17:06:28Z as default key.
2023-11-15 23:33:14.984 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 23:33:14.989 -06:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-11-15 23:33:14.992 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 23:33:14.997 -06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-11-15 23:33:15.004 -06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-11-15 23:33:15.008 -06:00 [DBG] Using key {854d5304-df7c-41fc-9d54-e1caa9a637b9} as the default key.
2023-11-15 23:33:15.010 -06:00 [DBG] Key ring with default key {854d5304-df7c-41fc-9d54-e1caa9a637b9} was loaded during application startup.
2023-11-15 23:33:15.171 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 23:33:15.238 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 23:33:15.239 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 23:33:15.241 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 23:33:15.242 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 23:33:15.243 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 23:33:15.245 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 23:33:15.246 -06:00 [INF] Hosting environment: Development
2023-11-15 23:33:15.248 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 23:33:15.250 -06:00 [DBG] Hosting started
2023-11-15 23:33:57.699 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 23:33:57.808 -06:00 [DBG] Hosting starting
2023-11-15 23:33:57.845 -06:00 [INF] User profile is available. Using 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-15 23:33:57.849 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-1b69dbee-3805-4a74-a08c-90a9e74fbb0d.xml'.
2023-11-15 23:33:57.855 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-2bfce52a-9b47-457a-9795-8a3304f5b5da.xml'.
2023-11-15 23:33:57.858 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-3993c40a-16c0-4071-8e7e-5978b8943164.xml'.
2023-11-15 23:33:57.859 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-633cad94-fa90-4a9e-954d-792589315797.xml'.
2023-11-15 23:33:57.861 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-7edd1a55-c347-4e06-a5ce-5e73f5d971a3.xml'.
2023-11-15 23:33:57.862 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-854d5304-df7c-41fc-9d54-e1caa9a637b9.xml'.
2023-11-15 23:33:57.863 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-8d98bb62-c769-4856-9198-eef25028fe8d.xml'.
2023-11-15 23:33:57.864 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-d5a9f251-bf7f-4c67-9da9-b2e38f201e90.xml'.
2023-11-15 23:33:57.866 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-eab573a4-e062-40d3-b382-e8c766138a75.xml'.
2023-11-15 23:33:57.872 -06:00 [DBG] Found key {1b69dbee-3805-4a74-a08c-90a9e74fbb0d}.
2023-11-15 23:33:57.879 -06:00 [DBG] Found key {2bfce52a-9b47-457a-9795-8a3304f5b5da}.
2023-11-15 23:33:57.880 -06:00 [DBG] Found key {3993c40a-16c0-4071-8e7e-5978b8943164}.
2023-11-15 23:33:57.882 -06:00 [DBG] Found key {633cad94-fa90-4a9e-954d-792589315797}.
2023-11-15 23:33:57.884 -06:00 [DBG] Found key {7edd1a55-c347-4e06-a5ce-5e73f5d971a3}.
2023-11-15 23:33:57.886 -06:00 [DBG] Found key {854d5304-df7c-41fc-9d54-e1caa9a637b9}.
2023-11-15 23:33:57.887 -06:00 [DBG] Found key {8d98bb62-c769-4856-9198-eef25028fe8d}.
2023-11-15 23:33:57.889 -06:00 [DBG] Found key {d5a9f251-bf7f-4c67-9da9-b2e38f201e90}.
2023-11-15 23:33:57.890 -06:00 [DBG] Found key {eab573a4-e062-40d3-b382-e8c766138a75}.
2023-11-15 23:33:57.900 -06:00 [DBG] Considering key {854d5304-df7c-41fc-9d54-e1caa9a637b9} with expiration date 2024-02-02 17:06:28Z as default key.
2023-11-15 23:33:57.905 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 23:33:57.911 -06:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-11-15 23:33:57.914 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 23:33:57.922 -06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-11-15 23:33:57.927 -06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-11-15 23:33:57.934 -06:00 [DBG] Using key {854d5304-df7c-41fc-9d54-e1caa9a637b9} as the default key.
2023-11-15 23:33:57.937 -06:00 [DBG] Key ring with default key {854d5304-df7c-41fc-9d54-e1caa9a637b9} was loaded during application startup.
2023-11-15 23:33:58.076 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 23:33:58.142 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 23:33:58.144 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 23:33:58.145 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 23:33:58.146 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 23:33:58.148 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 23:33:58.149 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 23:33:58.150 -06:00 [INF] Hosting environment: Development
2023-11-15 23:33:58.151 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 23:33:58.152 -06:00 [DBG] Hosting started
2023-11-15 23:34:09.006 -06:00 [DBG] Connection id "0HMV6CMK27NK2" received FIN.
2023-11-15 23:34:09.017 -06:00 [DBG] Connection id "0HMV6CMK27NK2" accepted.
2023-11-15 23:34:09.021 -06:00 [DBG] Connection id "0HMV6CMK27NK2" started.
2023-11-15 23:34:09.024 -06:00 [DBG] Connection id "0HMV6CMK27NK3" accepted.
2023-11-15 23:34:09.027 -06:00 [DBG] Connection id "0HMV6CMK27NK3" started.
2023-11-15 23:34:09.041 -06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-15 23:34:09.084 -06:00 [DBG] Connection id "0HMV6CMK27NK2" stopped.
2023-11-15 23:34:09.087 -06:00 [DBG] Connection id "0HMV6CMK27NK2" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 23:34:09.114 -06:00 [DBG] Connection 0HMV6CMK27NK3 established using the following protocol: "Tls13"
2023-11-15 23:34:09.161 -06:00 [INF] Request starting HTTP/1.1 POST https://localhost:7169/api/authentication/authenticate application/json 114
2023-11-15 23:34:09.179 -06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-15 23:34:09.205 -06:00 [DBG] POST requests are not supported
2023-11-15 23:34:09.246 -06:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-11-15 23:34:09.252 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/Authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-11-15 23:34:09.256 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:34:09.354 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-15 23:34:09.359 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:34:09.391 -06:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-11-15 23:34:09.396 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 23:34:09.398 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 23:34:09.401 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 23:34:09.403 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 23:34:09.407 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 23:34:09.410 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 23:34:09.413 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 23:34:09.419 -06:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 23:34:09.424 -06:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-11-15 23:34:09.429 -06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-15 23:34:09.431 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-15 23:34:09.446 -06:00 [DBG] Connection id "0HMV6CMK27NK3", Request id "0HMV6CMK27NK3:00000002": started reading request body.
2023-11-15 23:34:09.452 -06:00 [DBG] Connection id "0HMV6CMK27NK3", Request id "0HMV6CMK27NK3:00000002": done reading request body.
2023-11-15 23:34:09.622 -06:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:34:09.624 -06:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:34:09.626 -06:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 23:34:09.634 -06:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:34:09.782 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 23:34:09.788 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 23:34:09.789 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 23:34:09.790 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 23:34:09.792 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-11-15 23:34:09.794 -06:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-11-15 23:34:09.812 -06:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 393.7205ms
2023-11-15 23:34:09.815 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:34:09.818 -06:00 [DBG] Connection id "0HMV6CMK27NK3" completed keep alive response.
2023-11-15 23:34:09.821 -06:00 [INF] Request finished HTTP/1.1 POST https://localhost:7169/api/authentication/authenticate application/json 114 - 200 - text/plain;+charset=utf-8 664.2366ms
2023-11-15 23:34:23.615 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities - -
2023-11-15 23:34:23.630 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 23:34:23.633 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-11-15 23:34:23.634 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/Cities' is valid for the request path '/api/cities'
2023-11-15 23:34:23.636 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 23:34:23.723 -06:00 [DBG] Successfully validated the token.
2023-11-15 23:34:23.727 -06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-11-15 23:34:23.733 -06:00 [DBG] Authorization was successful.
2023-11-15 23:34:23.736 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 23:34:23.750 -06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-11-15 23:34:23.754 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 23:34:23.756 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 23:34:23.758 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 23:34:23.760 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 23:34:23.761 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 23:34:23.763 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 23:34:23.936 -06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-15 23:34:24.138 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 23:34:24.143 -06:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-11-15 23:34:24.145 -06:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-11-15 23:34:24.147 -06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-11-15 23:34:24.148 -06:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-11-15 23:34:24.150 -06:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-11-15 23:34:24.151 -06:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-11-15 23:34:24.153 -06:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-11-15 23:34:24.154 -06:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-11-15 23:34:24.156 -06:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-11-15 23:34:24.160 -06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-11-15 23:34:24.161 -06:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-11-15 23:34:24.163 -06:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-11-15 23:34:24.164 -06:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-11-15 23:34:24.165 -06:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-11-15 23:34:24.167 -06:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-11-15 23:34:24.168 -06:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-11-15 23:34:24.171 -06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-11-15 23:34:24.173 -06:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-11-15 23:34:24.176 -06:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-11-15 23:34:24.178 -06:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-11-15 23:34:24.179 -06:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-11-15 23:34:24.181 -06:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-11-15 23:34:24.182 -06:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-11-15 23:34:24.184 -06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-11-15 23:34:24.186 -06:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-11-15 23:34:24.188 -06:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-11-15 23:34:24.190 -06:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-11-15 23:34:24.193 -06:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-11-15 23:34:25.156 -06:00 [INF] Entity Framework Core 6.0.24 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.24' with options: None
2023-11-15 23:34:25.207 -06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2023-11-15 23:34:25.492 -06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-15 23:34:25.562 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 23:34:25.820 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (254ms).
2023-11-15 23:34:25.836 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 23:34:25.873 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 23:34:25.893 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-11-15 23:34:25.930 -06:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-11-15 23:34:25.950 -06:00 [DBG] A data reader was disposed.
2023-11-15 23:34:25.966 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 23:34:25.978 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 23:34:25.998 -06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2023-11-15 23:34:26.087 -06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-11-15 23:34:26.101 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 23:34:26.103 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-11-15 23:34:26.108 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 23:34:26.110 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 23:34:26.119 -06:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-11-15 23:34:26.131 -06:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-11-15 23:34:26.154 -06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 23:34:26.194 -06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 23:34:26.197 -06:00 [DBG] A data reader was disposed.
2023-11-15 23:34:26.199 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 23:34:26.201 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 23:34:26.248 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 23:34:26.255 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 23:34:26.257 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 23:34:26.259 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 23:34:26.261 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-15 23:34:26.263 -06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-15 23:34:26.345 -06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 2581.5227ms
2023-11-15 23:34:26.347 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 23:34:26.348 -06:00 [DBG] Connection id "0HMV6CMK27NK3" completed keep alive response.
2023-11-15 23:34:26.357 -06:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 23:34:26.369 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities - - - 200 103 application/json;+charset=utf-8 2753.8901ms
2023-11-15 23:34:33.653 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities - -
2023-11-15 23:34:33.656 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 23:34:33.657 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-11-15 23:34:33.658 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/Cities' is valid for the request path '/api/cities'
2023-11-15 23:34:33.660 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 23:34:33.662 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-15 23:34:33.665 -06:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-11-15 23:34:33.673 -06:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-11-15 23:34:33.675 -06:00 [DBG] Connection id "0HMV6CMK27NK3" completed keep alive response.
2023-11-15 23:34:33.677 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities - - - 401 0 - 23.8594ms
2023-11-15 23:35:09.517 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 23:35:09.631 -06:00 [DBG] Hosting starting
2023-11-15 23:35:09.669 -06:00 [INF] User profile is available. Using 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-15 23:35:09.674 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-1b69dbee-3805-4a74-a08c-90a9e74fbb0d.xml'.
2023-11-15 23:35:09.680 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-2bfce52a-9b47-457a-9795-8a3304f5b5da.xml'.
2023-11-15 23:35:09.682 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-3993c40a-16c0-4071-8e7e-5978b8943164.xml'.
2023-11-15 23:35:09.683 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-633cad94-fa90-4a9e-954d-792589315797.xml'.
2023-11-15 23:35:09.685 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-7edd1a55-c347-4e06-a5ce-5e73f5d971a3.xml'.
2023-11-15 23:35:09.686 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-854d5304-df7c-41fc-9d54-e1caa9a637b9.xml'.
2023-11-15 23:35:09.687 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-8d98bb62-c769-4856-9198-eef25028fe8d.xml'.
2023-11-15 23:35:09.690 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-d5a9f251-bf7f-4c67-9da9-b2e38f201e90.xml'.
2023-11-15 23:35:09.691 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-eab573a4-e062-40d3-b382-e8c766138a75.xml'.
2023-11-15 23:35:09.697 -06:00 [DBG] Found key {1b69dbee-3805-4a74-a08c-90a9e74fbb0d}.
2023-11-15 23:35:09.704 -06:00 [DBG] Found key {2bfce52a-9b47-457a-9795-8a3304f5b5da}.
2023-11-15 23:35:09.706 -06:00 [DBG] Found key {3993c40a-16c0-4071-8e7e-5978b8943164}.
2023-11-15 23:35:09.708 -06:00 [DBG] Found key {633cad94-fa90-4a9e-954d-792589315797}.
2023-11-15 23:35:09.709 -06:00 [DBG] Found key {7edd1a55-c347-4e06-a5ce-5e73f5d971a3}.
2023-11-15 23:35:09.710 -06:00 [DBG] Found key {854d5304-df7c-41fc-9d54-e1caa9a637b9}.
2023-11-15 23:35:09.711 -06:00 [DBG] Found key {8d98bb62-c769-4856-9198-eef25028fe8d}.
2023-11-15 23:35:09.712 -06:00 [DBG] Found key {d5a9f251-bf7f-4c67-9da9-b2e38f201e90}.
2023-11-15 23:35:09.714 -06:00 [DBG] Found key {eab573a4-e062-40d3-b382-e8c766138a75}.
2023-11-15 23:35:09.724 -06:00 [DBG] Considering key {854d5304-df7c-41fc-9d54-e1caa9a637b9} with expiration date 2024-02-02 17:06:28Z as default key.
2023-11-15 23:35:09.728 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 23:35:09.732 -06:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-11-15 23:35:09.734 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 23:35:09.742 -06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-11-15 23:35:09.746 -06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-11-15 23:35:09.750 -06:00 [DBG] Using key {854d5304-df7c-41fc-9d54-e1caa9a637b9} as the default key.
2023-11-15 23:35:09.753 -06:00 [DBG] Key ring with default key {854d5304-df7c-41fc-9d54-e1caa9a637b9} was loaded during application startup.
2023-11-15 23:35:09.894 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 23:35:09.946 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 23:35:09.948 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 23:35:09.949 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 23:35:09.951 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 23:35:09.952 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 23:35:09.953 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 23:35:09.955 -06:00 [INF] Hosting environment: Development
2023-11-15 23:35:09.956 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 23:35:09.957 -06:00 [DBG] Hosting started
2023-11-15 23:35:19.981 -06:00 [DBG] Connection id "0HMV6CN973GM6" received FIN.
2023-11-15 23:35:19.992 -06:00 [DBG] Connection id "0HMV6CN973GM6" accepted.
2023-11-15 23:35:19.996 -06:00 [DBG] Connection id "0HMV6CN973GM6" started.
2023-11-15 23:35:19.997 -06:00 [DBG] Connection id "0HMV6CN973GM7" accepted.
2023-11-15 23:35:19.999 -06:00 [DBG] Connection id "0HMV6CN973GM7" started.
2023-11-15 23:35:20.011 -06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-15 23:35:20.050 -06:00 [DBG] Connection id "0HMV6CN973GM6" stopped.
2023-11-15 23:35:20.055 -06:00 [DBG] Connection id "0HMV6CN973GM6" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 23:35:20.070 -06:00 [DBG] Connection 0HMV6CN973GM7 established using the following protocol: "Tls13"
2023-11-15 23:35:20.108 -06:00 [INF] Request starting HTTP/1.1 POST https://localhost:7169/api/authentication/authenticate application/json 114
2023-11-15 23:35:20.122 -06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-15 23:35:20.145 -06:00 [DBG] POST requests are not supported
2023-11-15 23:35:20.175 -06:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-11-15 23:35:20.184 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/Authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-11-15 23:35:20.188 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:35:20.272 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-15 23:35:20.276 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:35:20.298 -06:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-11-15 23:35:20.303 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 23:35:20.304 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 23:35:20.306 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 23:35:20.308 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 23:35:20.309 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 23:35:20.312 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 23:35:20.314 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 23:35:20.320 -06:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 23:35:20.324 -06:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-11-15 23:35:20.327 -06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-15 23:35:20.329 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-15 23:35:20.339 -06:00 [DBG] Connection id "0HMV6CN973GM7", Request id "0HMV6CN973GM7:00000002": started reading request body.
2023-11-15 23:35:20.342 -06:00 [DBG] Connection id "0HMV6CN973GM7", Request id "0HMV6CN973GM7:00000002": done reading request body.
2023-11-15 23:35:20.502 -06:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:35:20.505 -06:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:35:20.507 -06:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 23:35:20.516 -06:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:35:20.648 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 23:35:20.653 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 23:35:20.654 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 23:35:20.655 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 23:35:20.656 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-11-15 23:35:20.658 -06:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-11-15 23:35:20.669 -06:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 352.4607ms
2023-11-15 23:35:20.673 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:35:20.674 -06:00 [DBG] Connection id "0HMV6CN973GM7" completed keep alive response.
2023-11-15 23:35:20.679 -06:00 [INF] Request finished HTTP/1.1 POST https://localhost:7169/api/authentication/authenticate application/json 114 - 200 - text/plain;+charset=utf-8 574.9253ms
2023-11-15 23:35:34.789 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities - -
2023-11-15 23:35:34.802 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 23:35:34.805 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-11-15 23:35:34.807 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/Cities' is valid for the request path '/api/cities'
2023-11-15 23:35:34.809 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 23:35:34.884 -06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-11-15 23:35:34.891 -06:00 [INF] Bearer was not authenticated. Failure message: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
2023-11-15 23:35:34.897 -06:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-11-15 23:35:34.910 -06:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-11-15 23:35:34.912 -06:00 [DBG] Connection id "0HMV6CN973GM7" completed keep alive response.
2023-11-15 23:35:34.914 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities - - - 401 0 - 125.1494ms
2023-11-15 23:39:06.621 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities - -
2023-11-15 23:39:06.624 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 23:39:06.625 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-11-15 23:39:06.627 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/Cities' is valid for the request path '/api/cities'
2023-11-15 23:39:06.629 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 23:39:06.632 -06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-11-15 23:39:06.635 -06:00 [INF] Bearer was not authenticated. Failure message: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
2023-11-15 23:39:06.637 -06:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-11-15 23:39:06.638 -06:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-11-15 23:39:06.640 -06:00 [DBG] Connection id "0HMV6CN973GM7" completed keep alive response.
2023-11-15 23:39:06.642 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities - - - 401 0 - 22.9009ms
2023-11-15 23:39:09.475 -06:00 [INF] Request starting HTTP/1.1 POST https://localhost:7169/api/authentication/authenticate application/json 114
2023-11-15 23:39:09.477 -06:00 [DBG] POST requests are not supported
2023-11-15 23:39:09.478 -06:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-11-15 23:39:09.480 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/Authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-11-15 23:39:09.482 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:39:09.483 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-15 23:39:09.484 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:39:09.486 -06:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-11-15 23:39:09.488 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 23:39:09.489 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 23:39:09.491 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 23:39:09.493 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 23:39:09.495 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 23:39:09.497 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 23:39:09.499 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 23:39:09.501 -06:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 23:39:09.502 -06:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-11-15 23:39:09.504 -06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-15 23:39:09.506 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-15 23:39:09.508 -06:00 [DBG] Connection id "0HMV6CN973GM7", Request id "0HMV6CN973GM7:00000005": started reading request body.
2023-11-15 23:39:09.509 -06:00 [DBG] Connection id "0HMV6CN973GM7", Request id "0HMV6CN973GM7:00000005": done reading request body.
2023-11-15 23:39:09.511 -06:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:39:09.513 -06:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:39:09.515 -06:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 23:39:09.517 -06:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:39:29.792 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 23:39:29.805 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 23:39:29.806 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 23:39:29.807 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 23:39:29.809 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-11-15 23:39:29.811 -06:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-11-15 23:39:29.813 -06:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 20315.6503ms
2023-11-15 23:39:29.865 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:39:29.868 -06:00 [DBG] Connection id "0HMV6CN973GM7" completed keep alive response.
2023-11-15 23:39:29.869 -06:00 [INF] Request finished HTTP/1.1 POST https://localhost:7169/api/authentication/authenticate application/json 114 - 200 - text/plain;+charset=utf-8 20394.2202ms
2023-11-15 23:39:39.654 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities - -
2023-11-15 23:39:39.656 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 23:39:39.658 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-11-15 23:39:39.659 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/Cities' is valid for the request path '/api/cities'
2023-11-15 23:39:39.661 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 23:39:39.663 -06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-11-15 23:39:39.666 -06:00 [INF] Bearer was not authenticated. Failure message: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
2023-11-15 23:39:39.668 -06:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-11-15 23:39:39.669 -06:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-11-15 23:39:39.670 -06:00 [DBG] Connection id "0HMV6CN973GM7" completed keep alive response.
2023-11-15 23:39:39.671 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities - - - 401 0 - 17.0694ms
2023-11-15 23:42:34.704 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 23:42:34.816 -06:00 [DBG] Hosting starting
2023-11-15 23:42:34.853 -06:00 [INF] User profile is available. Using 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-15 23:42:34.857 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-1b69dbee-3805-4a74-a08c-90a9e74fbb0d.xml'.
2023-11-15 23:42:34.863 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-2bfce52a-9b47-457a-9795-8a3304f5b5da.xml'.
2023-11-15 23:42:34.868 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-3993c40a-16c0-4071-8e7e-5978b8943164.xml'.
2023-11-15 23:42:34.871 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-633cad94-fa90-4a9e-954d-792589315797.xml'.
2023-11-15 23:42:34.872 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-7edd1a55-c347-4e06-a5ce-5e73f5d971a3.xml'.
2023-11-15 23:42:34.874 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-854d5304-df7c-41fc-9d54-e1caa9a637b9.xml'.
2023-11-15 23:42:34.876 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-8d98bb62-c769-4856-9198-eef25028fe8d.xml'.
2023-11-15 23:42:34.878 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-d5a9f251-bf7f-4c67-9da9-b2e38f201e90.xml'.
2023-11-15 23:42:34.880 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-eab573a4-e062-40d3-b382-e8c766138a75.xml'.
2023-11-15 23:42:34.888 -06:00 [DBG] Found key {1b69dbee-3805-4a74-a08c-90a9e74fbb0d}.
2023-11-15 23:42:34.895 -06:00 [DBG] Found key {2bfce52a-9b47-457a-9795-8a3304f5b5da}.
2023-11-15 23:42:34.898 -06:00 [DBG] Found key {3993c40a-16c0-4071-8e7e-5978b8943164}.
2023-11-15 23:42:34.899 -06:00 [DBG] Found key {633cad94-fa90-4a9e-954d-792589315797}.
2023-11-15 23:42:34.901 -06:00 [DBG] Found key {7edd1a55-c347-4e06-a5ce-5e73f5d971a3}.
2023-11-15 23:42:34.902 -06:00 [DBG] Found key {854d5304-df7c-41fc-9d54-e1caa9a637b9}.
2023-11-15 23:42:34.903 -06:00 [DBG] Found key {8d98bb62-c769-4856-9198-eef25028fe8d}.
2023-11-15 23:42:34.904 -06:00 [DBG] Found key {d5a9f251-bf7f-4c67-9da9-b2e38f201e90}.
2023-11-15 23:42:34.905 -06:00 [DBG] Found key {eab573a4-e062-40d3-b382-e8c766138a75}.
2023-11-15 23:42:34.916 -06:00 [DBG] Considering key {854d5304-df7c-41fc-9d54-e1caa9a637b9} with expiration date 2024-02-02 17:06:28Z as default key.
2023-11-15 23:42:34.920 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 23:42:34.924 -06:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-11-15 23:42:34.926 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 23:42:34.932 -06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-11-15 23:42:34.937 -06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-11-15 23:42:34.940 -06:00 [DBG] Using key {854d5304-df7c-41fc-9d54-e1caa9a637b9} as the default key.
2023-11-15 23:42:34.943 -06:00 [DBG] Key ring with default key {854d5304-df7c-41fc-9d54-e1caa9a637b9} was loaded during application startup.
2023-11-15 23:42:35.081 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 23:42:35.140 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 23:42:35.142 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 23:42:35.143 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 23:42:35.145 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 23:42:35.147 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 23:42:35.149 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 23:42:35.150 -06:00 [INF] Hosting environment: Development
2023-11-15 23:42:35.151 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 23:42:35.152 -06:00 [DBG] Hosting started
2023-11-15 23:42:41.519 -06:00 [DBG] Connection id "0HMV6CRCPU70Q" received FIN.
2023-11-15 23:42:41.530 -06:00 [DBG] Connection id "0HMV6CRCPU70Q" accepted.
2023-11-15 23:42:41.533 -06:00 [DBG] Connection id "0HMV6CRCPU70Q" started.
2023-11-15 23:42:41.535 -06:00 [DBG] Connection id "0HMV6CRCPU70R" accepted.
2023-11-15 23:42:41.536 -06:00 [DBG] Connection id "0HMV6CRCPU70R" started.
2023-11-15 23:42:41.549 -06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-15 23:42:41.597 -06:00 [DBG] Connection id "0HMV6CRCPU70Q" stopped.
2023-11-15 23:42:41.601 -06:00 [DBG] Connection id "0HMV6CRCPU70Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 23:42:41.610 -06:00 [DBG] Connection 0HMV6CRCPU70R established using the following protocol: "Tls13"
2023-11-15 23:42:41.648 -06:00 [INF] Request starting HTTP/1.1 POST https://localhost:7169/api/authentication/authenticate application/json 114
2023-11-15 23:42:41.665 -06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-15 23:42:41.695 -06:00 [DBG] POST requests are not supported
2023-11-15 23:42:41.724 -06:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-11-15 23:42:41.731 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/Authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-11-15 23:42:41.735 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:42:41.827 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-15 23:42:41.831 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:42:41.854 -06:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-11-15 23:42:41.858 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 23:42:41.861 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 23:42:41.863 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 23:42:41.865 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 23:42:41.867 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 23:42:41.868 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 23:42:41.870 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 23:42:41.879 -06:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 23:42:41.884 -06:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-11-15 23:42:41.887 -06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-15 23:42:41.891 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-15 23:42:41.901 -06:00 [DBG] Connection id "0HMV6CRCPU70R", Request id "0HMV6CRCPU70R:00000002": started reading request body.
2023-11-15 23:42:41.905 -06:00 [DBG] Connection id "0HMV6CRCPU70R", Request id "0HMV6CRCPU70R:00000002": done reading request body.
2023-11-15 23:42:42.064 -06:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:42:42.067 -06:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:42:42.068 -06:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 23:42:42.076 -06:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:42:42.208 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 23:42:42.214 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 23:42:42.215 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 23:42:42.216 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 23:42:42.217 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-11-15 23:42:42.219 -06:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-11-15 23:42:42.230 -06:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 356.834ms
2023-11-15 23:42:42.233 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:42:42.235 -06:00 [DBG] Connection id "0HMV6CRCPU70R" completed keep alive response.
2023-11-15 23:42:42.240 -06:00 [INF] Request finished HTTP/1.1 POST https://localhost:7169/api/authentication/authenticate application/json 114 - 200 - text/plain;+charset=utf-8 594.9479ms
2023-11-15 23:43:03.848 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 23:43:03.983 -06:00 [DBG] Hosting starting
2023-11-15 23:43:04.028 -06:00 [INF] User profile is available. Using 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-15 23:43:04.033 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-1b69dbee-3805-4a74-a08c-90a9e74fbb0d.xml'.
2023-11-15 23:43:04.040 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-2bfce52a-9b47-457a-9795-8a3304f5b5da.xml'.
2023-11-15 23:43:04.042 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-3993c40a-16c0-4071-8e7e-5978b8943164.xml'.
2023-11-15 23:43:04.043 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-633cad94-fa90-4a9e-954d-792589315797.xml'.
2023-11-15 23:43:04.045 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-7edd1a55-c347-4e06-a5ce-5e73f5d971a3.xml'.
2023-11-15 23:43:04.046 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-854d5304-df7c-41fc-9d54-e1caa9a637b9.xml'.
2023-11-15 23:43:04.047 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-8d98bb62-c769-4856-9198-eef25028fe8d.xml'.
2023-11-15 23:43:04.049 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-d5a9f251-bf7f-4c67-9da9-b2e38f201e90.xml'.
2023-11-15 23:43:04.050 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-eab573a4-e062-40d3-b382-e8c766138a75.xml'.
2023-11-15 23:43:04.057 -06:00 [DBG] Found key {1b69dbee-3805-4a74-a08c-90a9e74fbb0d}.
2023-11-15 23:43:04.063 -06:00 [DBG] Found key {2bfce52a-9b47-457a-9795-8a3304f5b5da}.
2023-11-15 23:43:04.065 -06:00 [DBG] Found key {3993c40a-16c0-4071-8e7e-5978b8943164}.
2023-11-15 23:43:04.066 -06:00 [DBG] Found key {633cad94-fa90-4a9e-954d-792589315797}.
2023-11-15 23:43:04.068 -06:00 [DBG] Found key {7edd1a55-c347-4e06-a5ce-5e73f5d971a3}.
2023-11-15 23:43:04.069 -06:00 [DBG] Found key {854d5304-df7c-41fc-9d54-e1caa9a637b9}.
2023-11-15 23:43:04.071 -06:00 [DBG] Found key {8d98bb62-c769-4856-9198-eef25028fe8d}.
2023-11-15 23:43:04.072 -06:00 [DBG] Found key {d5a9f251-bf7f-4c67-9da9-b2e38f201e90}.
2023-11-15 23:43:04.074 -06:00 [DBG] Found key {eab573a4-e062-40d3-b382-e8c766138a75}.
2023-11-15 23:43:04.083 -06:00 [DBG] Considering key {854d5304-df7c-41fc-9d54-e1caa9a637b9} with expiration date 2024-02-02 17:06:28Z as default key.
2023-11-15 23:43:04.089 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 23:43:04.095 -06:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-11-15 23:43:04.097 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 23:43:04.104 -06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-11-15 23:43:04.109 -06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-11-15 23:43:04.113 -06:00 [DBG] Using key {854d5304-df7c-41fc-9d54-e1caa9a637b9} as the default key.
2023-11-15 23:43:04.116 -06:00 [DBG] Key ring with default key {854d5304-df7c-41fc-9d54-e1caa9a637b9} was loaded during application startup.
2023-11-15 23:43:04.257 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 23:43:04.324 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 23:43:04.326 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 23:43:04.327 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 23:43:04.328 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 23:43:04.330 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 23:43:04.331 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 23:43:04.332 -06:00 [INF] Hosting environment: Development
2023-11-15 23:43:04.333 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 23:43:04.334 -06:00 [DBG] Hosting started
2023-11-15 23:43:18.464 -06:00 [DBG] Connection id "0HMV6CRNQ8VF5" received FIN.
2023-11-15 23:43:18.477 -06:00 [DBG] Connection id "0HMV6CRNQ8VF5" accepted.
2023-11-15 23:43:18.483 -06:00 [DBG] Connection id "0HMV6CRNQ8VF5" started.
2023-11-15 23:43:18.488 -06:00 [DBG] Connection id "0HMV6CRNQ8VF6" accepted.
2023-11-15 23:43:18.490 -06:00 [DBG] Connection id "0HMV6CRNQ8VF6" started.
2023-11-15 23:43:18.503 -06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-15 23:43:18.546 -06:00 [DBG] Connection id "0HMV6CRNQ8VF5" stopped.
2023-11-15 23:43:18.549 -06:00 [DBG] Connection id "0HMV6CRNQ8VF5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 23:43:18.559 -06:00 [DBG] Connection 0HMV6CRNQ8VF6 established using the following protocol: "Tls13"
2023-11-15 23:43:18.606 -06:00 [INF] Request starting HTTP/1.1 POST https://localhost:7169/api/authentication/authenticate application/json 114
2023-11-15 23:43:18.620 -06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-15 23:43:18.646 -06:00 [DBG] POST requests are not supported
2023-11-15 23:43:18.682 -06:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-11-15 23:43:18.689 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/Authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-11-15 23:43:18.692 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:43:18.771 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-15 23:43:18.775 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:43:18.798 -06:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-11-15 23:43:18.802 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 23:43:18.804 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 23:43:18.806 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 23:43:18.809 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 23:43:18.811 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 23:43:18.816 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 23:43:18.819 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 23:43:18.828 -06:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 23:43:18.833 -06:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-11-15 23:43:18.835 -06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-15 23:43:18.837 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-15 23:43:18.850 -06:00 [DBG] Connection id "0HMV6CRNQ8VF6", Request id "0HMV6CRNQ8VF6:00000002": started reading request body.
2023-11-15 23:43:18.852 -06:00 [DBG] Connection id "0HMV6CRNQ8VF6", Request id "0HMV6CRNQ8VF6:00000002": done reading request body.
2023-11-15 23:43:19.023 -06:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:43:19.026 -06:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:43:19.028 -06:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 23:43:19.036 -06:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:43:19.162 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 23:43:19.167 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 23:43:19.168 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 23:43:19.169 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 23:43:19.170 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-11-15 23:43:19.172 -06:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-11-15 23:43:19.183 -06:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 363.288ms
2023-11-15 23:43:19.187 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:43:19.188 -06:00 [DBG] Connection id "0HMV6CRNQ8VF6" completed keep alive response.
2023-11-15 23:43:19.193 -06:00 [INF] Request finished HTTP/1.1 POST https://localhost:7169/api/authentication/authenticate application/json 114 - 200 - text/plain;+charset=utf-8 591.2754ms
2023-11-15 23:48:31.281 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 23:48:31.391 -06:00 [DBG] Hosting starting
2023-11-15 23:48:31.425 -06:00 [INF] User profile is available. Using 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-15 23:48:31.430 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-1b69dbee-3805-4a74-a08c-90a9e74fbb0d.xml'.
2023-11-15 23:48:31.437 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-2bfce52a-9b47-457a-9795-8a3304f5b5da.xml'.
2023-11-15 23:48:31.439 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-3993c40a-16c0-4071-8e7e-5978b8943164.xml'.
2023-11-15 23:48:31.442 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-633cad94-fa90-4a9e-954d-792589315797.xml'.
2023-11-15 23:48:31.445 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-7edd1a55-c347-4e06-a5ce-5e73f5d971a3.xml'.
2023-11-15 23:48:31.447 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-854d5304-df7c-41fc-9d54-e1caa9a637b9.xml'.
2023-11-15 23:48:31.449 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-8d98bb62-c769-4856-9198-eef25028fe8d.xml'.
2023-11-15 23:48:31.451 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-d5a9f251-bf7f-4c67-9da9-b2e38f201e90.xml'.
2023-11-15 23:48:31.453 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-eab573a4-e062-40d3-b382-e8c766138a75.xml'.
2023-11-15 23:48:31.460 -06:00 [DBG] Found key {1b69dbee-3805-4a74-a08c-90a9e74fbb0d}.
2023-11-15 23:48:31.471 -06:00 [DBG] Found key {2bfce52a-9b47-457a-9795-8a3304f5b5da}.
2023-11-15 23:48:31.474 -06:00 [DBG] Found key {3993c40a-16c0-4071-8e7e-5978b8943164}.
2023-11-15 23:48:31.475 -06:00 [DBG] Found key {633cad94-fa90-4a9e-954d-792589315797}.
2023-11-15 23:48:31.476 -06:00 [DBG] Found key {7edd1a55-c347-4e06-a5ce-5e73f5d971a3}.
2023-11-15 23:48:31.477 -06:00 [DBG] Found key {854d5304-df7c-41fc-9d54-e1caa9a637b9}.
2023-11-15 23:48:31.479 -06:00 [DBG] Found key {8d98bb62-c769-4856-9198-eef25028fe8d}.
2023-11-15 23:48:31.481 -06:00 [DBG] Found key {d5a9f251-bf7f-4c67-9da9-b2e38f201e90}.
2023-11-15 23:48:31.483 -06:00 [DBG] Found key {eab573a4-e062-40d3-b382-e8c766138a75}.
2023-11-15 23:48:31.492 -06:00 [DBG] Considering key {854d5304-df7c-41fc-9d54-e1caa9a637b9} with expiration date 2024-02-02 17:06:28Z as default key.
2023-11-15 23:48:31.498 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 23:48:31.502 -06:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-11-15 23:48:31.505 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 23:48:31.511 -06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-11-15 23:48:31.516 -06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-11-15 23:48:31.520 -06:00 [DBG] Using key {854d5304-df7c-41fc-9d54-e1caa9a637b9} as the default key.
2023-11-15 23:48:31.523 -06:00 [DBG] Key ring with default key {854d5304-df7c-41fc-9d54-e1caa9a637b9} was loaded during application startup.
2023-11-15 23:48:31.658 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 23:48:31.722 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 23:48:31.723 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 23:48:31.725 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 23:48:31.726 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 23:48:31.728 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 23:48:31.729 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 23:48:31.730 -06:00 [INF] Hosting environment: Development
2023-11-15 23:48:31.731 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 23:48:31.732 -06:00 [DBG] Hosting started
2023-11-15 23:48:34.201 -06:00 [DBG] Connection id "0HMV6CULTC8EL" received FIN.
2023-11-15 23:48:34.212 -06:00 [DBG] Connection id "0HMV6CULTC8EL" accepted.
2023-11-15 23:48:34.216 -06:00 [DBG] Connection id "0HMV6CULTC8EL" started.
2023-11-15 23:48:34.218 -06:00 [DBG] Connection id "0HMV6CULTC8EM" accepted.
2023-11-15 23:48:34.220 -06:00 [DBG] Connection id "0HMV6CULTC8EM" started.
2023-11-15 23:48:34.232 -06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-15 23:48:34.271 -06:00 [DBG] Connection id "0HMV6CULTC8EL" stopped.
2023-11-15 23:48:34.275 -06:00 [DBG] Connection id "0HMV6CULTC8EL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 23:48:34.284 -06:00 [DBG] Connection 0HMV6CULTC8EM established using the following protocol: "Tls13"
2023-11-15 23:48:34.324 -06:00 [INF] Request starting HTTP/1.1 POST https://localhost:7169/api/authentication/authenticate application/json 114
2023-11-15 23:48:34.339 -06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-15 23:48:34.361 -06:00 [DBG] POST requests are not supported
2023-11-15 23:48:34.395 -06:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-11-15 23:48:34.402 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/Authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-11-15 23:48:34.406 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:48:34.487 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-15 23:48:34.493 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:48:34.514 -06:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-11-15 23:48:34.519 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 23:48:34.520 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 23:48:34.522 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 23:48:34.525 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 23:48:34.527 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 23:48:34.529 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 23:48:34.530 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 23:48:34.536 -06:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 23:48:34.543 -06:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-11-15 23:48:34.547 -06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-15 23:48:34.550 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-15 23:48:34.560 -06:00 [DBG] Connection id "0HMV6CULTC8EM", Request id "0HMV6CULTC8EM:00000002": started reading request body.
2023-11-15 23:48:34.563 -06:00 [DBG] Connection id "0HMV6CULTC8EM", Request id "0HMV6CULTC8EM:00000002": done reading request body.
2023-11-15 23:48:34.744 -06:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:48:34.746 -06:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:48:34.748 -06:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 23:48:34.757 -06:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:48:34.884 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 23:48:34.890 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 23:48:34.891 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 23:48:34.892 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 23:48:34.893 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-11-15 23:48:34.894 -06:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-11-15 23:48:34.905 -06:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 372.0552ms
2023-11-15 23:48:34.909 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:48:34.910 -06:00 [DBG] Connection id "0HMV6CULTC8EM" completed keep alive response.
2023-11-15 23:48:34.914 -06:00 [INF] Request finished HTTP/1.1 POST https://localhost:7169/api/authentication/authenticate application/json 114 - 200 - text/plain;+charset=utf-8 593.8394ms
2023-11-15 23:49:04.435 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 23:49:04.551 -06:00 [DBG] Hosting starting
2023-11-15 23:49:04.587 -06:00 [INF] User profile is available. Using 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-15 23:49:04.593 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-1b69dbee-3805-4a74-a08c-90a9e74fbb0d.xml'.
2023-11-15 23:49:04.599 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-2bfce52a-9b47-457a-9795-8a3304f5b5da.xml'.
2023-11-15 23:49:04.601 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-3993c40a-16c0-4071-8e7e-5978b8943164.xml'.
2023-11-15 23:49:04.603 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-633cad94-fa90-4a9e-954d-792589315797.xml'.
2023-11-15 23:49:04.604 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-7edd1a55-c347-4e06-a5ce-5e73f5d971a3.xml'.
2023-11-15 23:49:04.606 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-854d5304-df7c-41fc-9d54-e1caa9a637b9.xml'.
2023-11-15 23:49:04.608 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-8d98bb62-c769-4856-9198-eef25028fe8d.xml'.
2023-11-15 23:49:04.609 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-d5a9f251-bf7f-4c67-9da9-b2e38f201e90.xml'.
2023-11-15 23:49:04.610 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-eab573a4-e062-40d3-b382-e8c766138a75.xml'.
2023-11-15 23:49:04.617 -06:00 [DBG] Found key {1b69dbee-3805-4a74-a08c-90a9e74fbb0d}.
2023-11-15 23:49:04.626 -06:00 [DBG] Found key {2bfce52a-9b47-457a-9795-8a3304f5b5da}.
2023-11-15 23:49:04.628 -06:00 [DBG] Found key {3993c40a-16c0-4071-8e7e-5978b8943164}.
2023-11-15 23:49:04.630 -06:00 [DBG] Found key {633cad94-fa90-4a9e-954d-792589315797}.
2023-11-15 23:49:04.631 -06:00 [DBG] Found key {7edd1a55-c347-4e06-a5ce-5e73f5d971a3}.
2023-11-15 23:49:04.633 -06:00 [DBG] Found key {854d5304-df7c-41fc-9d54-e1caa9a637b9}.
2023-11-15 23:49:04.634 -06:00 [DBG] Found key {8d98bb62-c769-4856-9198-eef25028fe8d}.
2023-11-15 23:49:04.635 -06:00 [DBG] Found key {d5a9f251-bf7f-4c67-9da9-b2e38f201e90}.
2023-11-15 23:49:04.636 -06:00 [DBG] Found key {eab573a4-e062-40d3-b382-e8c766138a75}.
2023-11-15 23:49:04.648 -06:00 [DBG] Considering key {854d5304-df7c-41fc-9d54-e1caa9a637b9} with expiration date 2024-02-02 17:06:28Z as default key.
2023-11-15 23:49:04.653 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 23:49:04.660 -06:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-11-15 23:49:04.663 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 23:49:04.670 -06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-11-15 23:49:04.675 -06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-11-15 23:49:04.679 -06:00 [DBG] Using key {854d5304-df7c-41fc-9d54-e1caa9a637b9} as the default key.
2023-11-15 23:49:04.681 -06:00 [DBG] Key ring with default key {854d5304-df7c-41fc-9d54-e1caa9a637b9} was loaded during application startup.
2023-11-15 23:49:04.816 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 23:49:04.884 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 23:49:04.886 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 23:49:04.888 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 23:49:04.890 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 23:49:04.891 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 23:49:04.892 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 23:49:04.893 -06:00 [INF] Hosting environment: Development
2023-11-15 23:49:04.894 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 23:49:04.896 -06:00 [DBG] Hosting started
2023-11-15 23:49:09.339 -06:00 [DBG] Connection id "0HMV6CV0CFCJC" received FIN.
2023-11-15 23:49:09.350 -06:00 [DBG] Connection id "0HMV6CV0CFCJC" accepted.
2023-11-15 23:49:09.354 -06:00 [DBG] Connection id "0HMV6CV0CFCJC" started.
2023-11-15 23:49:09.355 -06:00 [DBG] Connection id "0HMV6CV0CFCJD" accepted.
2023-11-15 23:49:09.357 -06:00 [DBG] Connection id "0HMV6CV0CFCJD" started.
2023-11-15 23:49:09.370 -06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-15 23:49:09.412 -06:00 [DBG] Connection id "0HMV6CV0CFCJC" stopped.
2023-11-15 23:49:09.415 -06:00 [DBG] Connection id "0HMV6CV0CFCJC" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 23:49:09.424 -06:00 [DBG] Connection 0HMV6CV0CFCJD established using the following protocol: "Tls13"
2023-11-15 23:49:09.462 -06:00 [INF] Request starting HTTP/1.1 POST https://localhost:7169/api/authentication/authenticate application/json 114
2023-11-15 23:49:09.479 -06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-15 23:49:09.501 -06:00 [DBG] POST requests are not supported
2023-11-15 23:49:09.535 -06:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-11-15 23:49:09.541 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/Authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-11-15 23:49:09.545 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:49:09.629 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-15 23:49:09.634 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:49:09.656 -06:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-11-15 23:49:09.661 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 23:49:09.662 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 23:49:09.665 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 23:49:09.667 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 23:49:09.668 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 23:49:09.670 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 23:49:09.672 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 23:49:09.679 -06:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 23:49:09.684 -06:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-11-15 23:49:09.687 -06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-15 23:49:09.689 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-15 23:49:09.699 -06:00 [DBG] Connection id "0HMV6CV0CFCJD", Request id "0HMV6CV0CFCJD:00000002": started reading request body.
2023-11-15 23:49:09.702 -06:00 [DBG] Connection id "0HMV6CV0CFCJD", Request id "0HMV6CV0CFCJD:00000002": done reading request body.
2023-11-15 23:49:09.860 -06:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:49:09.862 -06:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:49:09.864 -06:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 23:49:09.872 -06:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:49:09.997 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 23:49:10.003 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 23:49:10.004 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 23:49:10.005 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 23:49:10.007 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-11-15 23:49:10.008 -06:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-11-15 23:49:10.018 -06:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 342.302ms
2023-11-15 23:49:10.022 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:49:10.023 -06:00 [DBG] Connection id "0HMV6CV0CFCJD" completed keep alive response.
2023-11-15 23:49:10.027 -06:00 [INF] Request finished HTTP/1.1 POST https://localhost:7169/api/authentication/authenticate application/json 114 - 200 - text/plain;+charset=utf-8 568.1191ms
2023-11-15 23:49:11.941 -06:00 [INF] Request starting HTTP/1.1 POST https://localhost:7169/api/authentication/authenticate application/json 114
2023-11-15 23:49:11.943 -06:00 [DBG] POST requests are not supported
2023-11-15 23:49:11.944 -06:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-11-15 23:49:11.946 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/Authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-11-15 23:49:11.947 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:49:11.949 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-15 23:49:11.950 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:49:11.951 -06:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-11-15 23:49:11.953 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 23:49:11.956 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 23:49:11.959 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 23:49:11.961 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 23:49:11.963 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 23:49:11.964 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 23:49:11.966 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 23:49:11.968 -06:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 23:49:11.970 -06:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-11-15 23:49:11.974 -06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-15 23:49:11.976 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-15 23:49:11.978 -06:00 [DBG] Connection id "0HMV6CV0CFCJD", Request id "0HMV6CV0CFCJD:00000003": started reading request body.
2023-11-15 23:49:11.979 -06:00 [DBG] Connection id "0HMV6CV0CFCJD", Request id "0HMV6CV0CFCJD:00000003": done reading request body.
2023-11-15 23:49:11.981 -06:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:49:11.982 -06:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:49:11.984 -06:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 23:49:11.986 -06:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:49:11.989 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 23:49:11.993 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 23:49:11.994 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 23:49:11.995 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 23:49:11.995 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-11-15 23:49:11.997 -06:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-11-15 23:49:11.999 -06:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 34.1767ms
2023-11-15 23:49:12.001 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:49:12.002 -06:00 [DBG] Connection id "0HMV6CV0CFCJD" completed keep alive response.
2023-11-15 23:49:12.004 -06:00 [INF] Request finished HTTP/1.1 POST https://localhost:7169/api/authentication/authenticate application/json 114 - 200 - text/plain;+charset=utf-8 63.4948ms
2023-11-15 23:49:23.329 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities - -
2023-11-15 23:49:23.344 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 23:49:23.346 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-11-15 23:49:23.347 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/Cities' is valid for the request path '/api/cities'
2023-11-15 23:49:23.349 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 23:49:23.433 -06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-11-15 23:49:23.439 -06:00 [INF] Bearer was not authenticated. Failure message: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
2023-11-15 23:49:23.447 -06:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-11-15 23:49:23.460 -06:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-11-15 23:49:23.462 -06:00 [DBG] Connection id "0HMV6CV0CFCJD" completed keep alive response.
2023-11-15 23:49:23.464 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities - - - 401 0 - 134.9407ms
2023-11-15 23:49:45.010 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 23:49:45.117 -06:00 [DBG] Hosting starting
2023-11-15 23:49:45.152 -06:00 [INF] User profile is available. Using 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-15 23:49:45.157 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-1b69dbee-3805-4a74-a08c-90a9e74fbb0d.xml'.
2023-11-15 23:49:45.164 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-2bfce52a-9b47-457a-9795-8a3304f5b5da.xml'.
2023-11-15 23:49:45.166 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-3993c40a-16c0-4071-8e7e-5978b8943164.xml'.
2023-11-15 23:49:45.167 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-633cad94-fa90-4a9e-954d-792589315797.xml'.
2023-11-15 23:49:45.169 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-7edd1a55-c347-4e06-a5ce-5e73f5d971a3.xml'.
2023-11-15 23:49:45.170 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-854d5304-df7c-41fc-9d54-e1caa9a637b9.xml'.
2023-11-15 23:49:45.172 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-8d98bb62-c769-4856-9198-eef25028fe8d.xml'.
2023-11-15 23:49:45.174 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-d5a9f251-bf7f-4c67-9da9-b2e38f201e90.xml'.
2023-11-15 23:49:45.175 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-eab573a4-e062-40d3-b382-e8c766138a75.xml'.
2023-11-15 23:49:45.182 -06:00 [DBG] Found key {1b69dbee-3805-4a74-a08c-90a9e74fbb0d}.
2023-11-15 23:49:45.188 -06:00 [DBG] Found key {2bfce52a-9b47-457a-9795-8a3304f5b5da}.
2023-11-15 23:49:45.191 -06:00 [DBG] Found key {3993c40a-16c0-4071-8e7e-5978b8943164}.
2023-11-15 23:49:45.192 -06:00 [DBG] Found key {633cad94-fa90-4a9e-954d-792589315797}.
2023-11-15 23:49:45.193 -06:00 [DBG] Found key {7edd1a55-c347-4e06-a5ce-5e73f5d971a3}.
2023-11-15 23:49:45.195 -06:00 [DBG] Found key {854d5304-df7c-41fc-9d54-e1caa9a637b9}.
2023-11-15 23:49:45.196 -06:00 [DBG] Found key {8d98bb62-c769-4856-9198-eef25028fe8d}.
2023-11-15 23:49:45.197 -06:00 [DBG] Found key {d5a9f251-bf7f-4c67-9da9-b2e38f201e90}.
2023-11-15 23:49:45.198 -06:00 [DBG] Found key {eab573a4-e062-40d3-b382-e8c766138a75}.
2023-11-15 23:49:45.208 -06:00 [DBG] Considering key {854d5304-df7c-41fc-9d54-e1caa9a637b9} with expiration date 2024-02-02 17:06:28Z as default key.
2023-11-15 23:49:45.212 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 23:49:45.216 -06:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-11-15 23:49:45.219 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 23:49:45.225 -06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-11-15 23:49:45.229 -06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-11-15 23:49:45.233 -06:00 [DBG] Using key {854d5304-df7c-41fc-9d54-e1caa9a637b9} as the default key.
2023-11-15 23:49:45.236 -06:00 [DBG] Key ring with default key {854d5304-df7c-41fc-9d54-e1caa9a637b9} was loaded during application startup.
2023-11-15 23:49:45.372 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 23:49:45.435 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 23:49:45.437 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 23:49:45.438 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 23:49:45.440 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 23:49:45.442 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 23:49:45.444 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 23:49:45.445 -06:00 [INF] Hosting environment: Development
2023-11-15 23:49:45.446 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 23:49:45.447 -06:00 [DBG] Hosting started
2023-11-15 23:49:49.201 -06:00 [DBG] Connection id "0HMV6CVC8KCAM" received FIN.
2023-11-15 23:49:49.211 -06:00 [DBG] Connection id "0HMV6CVC8KCAM" accepted.
2023-11-15 23:49:49.215 -06:00 [DBG] Connection id "0HMV6CVC8KCAM" started.
2023-11-15 23:49:49.217 -06:00 [DBG] Connection id "0HMV6CVC8KCAN" accepted.
2023-11-15 23:49:49.218 -06:00 [DBG] Connection id "0HMV6CVC8KCAN" started.
2023-11-15 23:49:49.230 -06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-15 23:49:49.271 -06:00 [DBG] Connection id "0HMV6CVC8KCAM" stopped.
2023-11-15 23:49:49.275 -06:00 [DBG] Connection id "0HMV6CVC8KCAM" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 23:49:49.285 -06:00 [DBG] Connection 0HMV6CVC8KCAN established using the following protocol: "Tls13"
2023-11-15 23:49:49.322 -06:00 [INF] Request starting HTTP/1.1 POST https://localhost:7169/api/authentication/authenticate application/json 114
2023-11-15 23:49:49.339 -06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-15 23:49:49.363 -06:00 [DBG] POST requests are not supported
2023-11-15 23:49:49.395 -06:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-11-15 23:49:49.402 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/Authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-11-15 23:49:49.405 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:49:49.489 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-15 23:49:49.494 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:49:49.517 -06:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-11-15 23:49:49.520 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 23:49:49.522 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 23:49:49.523 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 23:49:49.526 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 23:49:49.527 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 23:49:49.530 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 23:49:49.533 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 23:49:49.538 -06:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 23:49:49.543 -06:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-11-15 23:49:49.548 -06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-15 23:49:49.552 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-15 23:49:49.562 -06:00 [DBG] Connection id "0HMV6CVC8KCAN", Request id "0HMV6CVC8KCAN:00000002": started reading request body.
2023-11-15 23:49:49.567 -06:00 [DBG] Connection id "0HMV6CVC8KCAN", Request id "0HMV6CVC8KCAN:00000002": done reading request body.
2023-11-15 23:49:49.720 -06:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:49:49.722 -06:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:49:49.724 -06:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 23:49:49.732 -06:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:49:49.862 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 23:49:49.868 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 23:49:49.869 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 23:49:49.870 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 23:49:49.872 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-11-15 23:49:49.874 -06:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-11-15 23:49:49.886 -06:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 349.8598ms
2023-11-15 23:49:49.890 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:49:49.891 -06:00 [DBG] Connection id "0HMV6CVC8KCAN" completed keep alive response.
2023-11-15 23:49:49.895 -06:00 [INF] Request finished HTTP/1.1 POST https://localhost:7169/api/authentication/authenticate application/json 114 - 200 - text/plain;+charset=utf-8 575.4389ms
2023-11-15 23:51:11.240 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 23:51:11.347 -06:00 [DBG] Hosting starting
2023-11-15 23:51:11.381 -06:00 [INF] User profile is available. Using 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-15 23:51:11.385 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-1b69dbee-3805-4a74-a08c-90a9e74fbb0d.xml'.
2023-11-15 23:51:11.392 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-2bfce52a-9b47-457a-9795-8a3304f5b5da.xml'.
2023-11-15 23:51:11.395 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-3993c40a-16c0-4071-8e7e-5978b8943164.xml'.
2023-11-15 23:51:11.398 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-633cad94-fa90-4a9e-954d-792589315797.xml'.
2023-11-15 23:51:11.400 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-7edd1a55-c347-4e06-a5ce-5e73f5d971a3.xml'.
2023-11-15 23:51:11.401 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-854d5304-df7c-41fc-9d54-e1caa9a637b9.xml'.
2023-11-15 23:51:11.402 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-8d98bb62-c769-4856-9198-eef25028fe8d.xml'.
2023-11-15 23:51:11.404 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-d5a9f251-bf7f-4c67-9da9-b2e38f201e90.xml'.
2023-11-15 23:51:11.406 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-eab573a4-e062-40d3-b382-e8c766138a75.xml'.
2023-11-15 23:51:11.412 -06:00 [DBG] Found key {1b69dbee-3805-4a74-a08c-90a9e74fbb0d}.
2023-11-15 23:51:11.419 -06:00 [DBG] Found key {2bfce52a-9b47-457a-9795-8a3304f5b5da}.
2023-11-15 23:51:11.421 -06:00 [DBG] Found key {3993c40a-16c0-4071-8e7e-5978b8943164}.
2023-11-15 23:51:11.424 -06:00 [DBG] Found key {633cad94-fa90-4a9e-954d-792589315797}.
2023-11-15 23:51:11.426 -06:00 [DBG] Found key {7edd1a55-c347-4e06-a5ce-5e73f5d971a3}.
2023-11-15 23:51:11.427 -06:00 [DBG] Found key {854d5304-df7c-41fc-9d54-e1caa9a637b9}.
2023-11-15 23:51:11.429 -06:00 [DBG] Found key {8d98bb62-c769-4856-9198-eef25028fe8d}.
2023-11-15 23:51:11.430 -06:00 [DBG] Found key {d5a9f251-bf7f-4c67-9da9-b2e38f201e90}.
2023-11-15 23:51:11.431 -06:00 [DBG] Found key {eab573a4-e062-40d3-b382-e8c766138a75}.
2023-11-15 23:51:11.442 -06:00 [DBG] Considering key {854d5304-df7c-41fc-9d54-e1caa9a637b9} with expiration date 2024-02-02 17:06:28Z as default key.
2023-11-15 23:51:11.446 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 23:51:11.451 -06:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-11-15 23:51:11.455 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 23:51:11.462 -06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-11-15 23:51:11.467 -06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-11-15 23:51:11.474 -06:00 [DBG] Using key {854d5304-df7c-41fc-9d54-e1caa9a637b9} as the default key.
2023-11-15 23:51:11.477 -06:00 [DBG] Key ring with default key {854d5304-df7c-41fc-9d54-e1caa9a637b9} was loaded during application startup.
2023-11-15 23:51:11.623 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 23:51:11.692 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 23:51:11.693 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 23:51:11.694 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 23:51:11.695 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 23:51:11.696 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 23:51:11.698 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 23:51:11.699 -06:00 [INF] Hosting environment: Development
2023-11-15 23:51:11.700 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 23:51:11.701 -06:00 [DBG] Hosting started
2023-11-15 23:51:13.049 -06:00 [DBG] Connection id "0HMV6D0588OEH" received FIN.
2023-11-15 23:51:13.061 -06:00 [DBG] Connection id "0HMV6D0588OEH" accepted.
2023-11-15 23:51:13.064 -06:00 [DBG] Connection id "0HMV6D0588OEH" started.
2023-11-15 23:51:13.066 -06:00 [DBG] Connection id "0HMV6D0588OEI" accepted.
2023-11-15 23:51:13.068 -06:00 [DBG] Connection id "0HMV6D0588OEI" started.
2023-11-15 23:51:13.081 -06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-15 23:51:13.131 -06:00 [DBG] Connection id "0HMV6D0588OEH" stopped.
2023-11-15 23:51:13.135 -06:00 [DBG] Connection id "0HMV6D0588OEH" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 23:51:13.144 -06:00 [DBG] Connection 0HMV6D0588OEI established using the following protocol: "Tls13"
2023-11-15 23:51:13.182 -06:00 [INF] Request starting HTTP/1.1 POST https://localhost:7169/api/authentication/authenticate application/json 114
2023-11-15 23:51:13.197 -06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-15 23:51:13.224 -06:00 [DBG] POST requests are not supported
2023-11-15 23:51:13.262 -06:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-11-15 23:51:13.269 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/Authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-11-15 23:51:13.273 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:51:13.366 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-15 23:51:13.371 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:51:13.394 -06:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-11-15 23:51:13.399 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 23:51:13.401 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 23:51:13.403 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 23:51:13.405 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 23:51:13.407 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 23:51:13.409 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 23:51:13.411 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 23:51:13.417 -06:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 23:51:13.422 -06:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-11-15 23:51:13.425 -06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-15 23:51:13.426 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-15 23:51:13.436 -06:00 [DBG] Connection id "0HMV6D0588OEI", Request id "0HMV6D0588OEI:00000002": started reading request body.
2023-11-15 23:51:13.440 -06:00 [DBG] Connection id "0HMV6D0588OEI", Request id "0HMV6D0588OEI:00000002": done reading request body.
2023-11-15 23:51:13.597 -06:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:51:13.600 -06:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:51:13.601 -06:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 23:51:13.610 -06:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:51:13.734 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 23:51:13.740 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 23:51:13.742 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 23:51:13.743 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 23:51:13.744 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-11-15 23:51:13.747 -06:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-11-15 23:51:13.759 -06:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 344.9711ms
2023-11-15 23:51:13.765 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:51:13.767 -06:00 [DBG] Connection id "0HMV6D0588OEI" completed keep alive response.
2023-11-15 23:51:13.771 -06:00 [INF] Request finished HTTP/1.1 POST https://localhost:7169/api/authentication/authenticate application/json 114 - 200 - text/plain;+charset=utf-8 592.8199ms
2023-11-15 23:51:31.914 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 23:51:32.027 -06:00 [DBG] Hosting starting
2023-11-15 23:51:32.062 -06:00 [INF] User profile is available. Using 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-15 23:51:32.068 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-1b69dbee-3805-4a74-a08c-90a9e74fbb0d.xml'.
2023-11-15 23:51:32.073 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-2bfce52a-9b47-457a-9795-8a3304f5b5da.xml'.
2023-11-15 23:51:32.076 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-3993c40a-16c0-4071-8e7e-5978b8943164.xml'.
2023-11-15 23:51:32.077 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-633cad94-fa90-4a9e-954d-792589315797.xml'.
2023-11-15 23:51:32.078 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-7edd1a55-c347-4e06-a5ce-5e73f5d971a3.xml'.
2023-11-15 23:51:32.080 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-854d5304-df7c-41fc-9d54-e1caa9a637b9.xml'.
2023-11-15 23:51:32.082 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-8d98bb62-c769-4856-9198-eef25028fe8d.xml'.
2023-11-15 23:51:32.083 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-d5a9f251-bf7f-4c67-9da9-b2e38f201e90.xml'.
2023-11-15 23:51:32.084 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-eab573a4-e062-40d3-b382-e8c766138a75.xml'.
2023-11-15 23:51:32.090 -06:00 [DBG] Found key {1b69dbee-3805-4a74-a08c-90a9e74fbb0d}.
2023-11-15 23:51:32.098 -06:00 [DBG] Found key {2bfce52a-9b47-457a-9795-8a3304f5b5da}.
2023-11-15 23:51:32.101 -06:00 [DBG] Found key {3993c40a-16c0-4071-8e7e-5978b8943164}.
2023-11-15 23:51:32.102 -06:00 [DBG] Found key {633cad94-fa90-4a9e-954d-792589315797}.
2023-11-15 23:51:32.104 -06:00 [DBG] Found key {7edd1a55-c347-4e06-a5ce-5e73f5d971a3}.
2023-11-15 23:51:32.105 -06:00 [DBG] Found key {854d5304-df7c-41fc-9d54-e1caa9a637b9}.
2023-11-15 23:51:32.106 -06:00 [DBG] Found key {8d98bb62-c769-4856-9198-eef25028fe8d}.
2023-11-15 23:51:32.108 -06:00 [DBG] Found key {d5a9f251-bf7f-4c67-9da9-b2e38f201e90}.
2023-11-15 23:51:32.109 -06:00 [DBG] Found key {eab573a4-e062-40d3-b382-e8c766138a75}.
2023-11-15 23:51:32.121 -06:00 [DBG] Considering key {854d5304-df7c-41fc-9d54-e1caa9a637b9} with expiration date 2024-02-02 17:06:28Z as default key.
2023-11-15 23:51:32.126 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 23:51:32.131 -06:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-11-15 23:51:32.135 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 23:51:32.140 -06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-11-15 23:51:32.145 -06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-11-15 23:51:32.150 -06:00 [DBG] Using key {854d5304-df7c-41fc-9d54-e1caa9a637b9} as the default key.
2023-11-15 23:51:32.153 -06:00 [DBG] Key ring with default key {854d5304-df7c-41fc-9d54-e1caa9a637b9} was loaded during application startup.
2023-11-15 23:51:32.291 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 23:51:32.362 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 23:51:32.363 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 23:51:32.365 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 23:51:32.366 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 23:51:32.367 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 23:51:32.368 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 23:51:32.369 -06:00 [INF] Hosting environment: Development
2023-11-15 23:51:32.370 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 23:51:32.371 -06:00 [DBG] Hosting started
2023-11-15 23:51:33.410 -06:00 [DBG] Connection id "0HMV6D0BAEFNN" received FIN.
2023-11-15 23:51:33.423 -06:00 [DBG] Connection id "0HMV6D0BAEFNN" accepted.
2023-11-15 23:51:33.427 -06:00 [DBG] Connection id "0HMV6D0BAEFNN" started.
2023-11-15 23:51:33.429 -06:00 [DBG] Connection id "0HMV6D0BAEFNO" accepted.
2023-11-15 23:51:33.431 -06:00 [DBG] Connection id "0HMV6D0BAEFNO" started.
2023-11-15 23:51:33.443 -06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-15 23:51:33.488 -06:00 [DBG] Connection id "0HMV6D0BAEFNN" stopped.
2023-11-15 23:51:33.493 -06:00 [DBG] Connection id "0HMV6D0BAEFNN" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 23:51:33.511 -06:00 [DBG] Connection 0HMV6D0BAEFNO established using the following protocol: "Tls13"
2023-11-15 23:51:33.551 -06:00 [INF] Request starting HTTP/1.1 POST https://localhost:7169/api/authentication/authenticate application/json 114
2023-11-15 23:51:33.567 -06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-15 23:51:33.588 -06:00 [DBG] POST requests are not supported
2023-11-15 23:51:33.625 -06:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-11-15 23:51:33.632 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/Authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-11-15 23:51:33.636 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:51:33.719 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-15 23:51:33.724 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:51:33.746 -06:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-11-15 23:51:33.750 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 23:51:33.752 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 23:51:33.755 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 23:51:33.757 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 23:51:33.759 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 23:51:33.761 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 23:51:33.763 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 23:51:33.769 -06:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 23:51:33.773 -06:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-11-15 23:51:33.776 -06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-15 23:51:33.778 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-15 23:51:33.789 -06:00 [DBG] Connection id "0HMV6D0BAEFNO", Request id "0HMV6D0BAEFNO:00000002": started reading request body.
2023-11-15 23:51:33.793 -06:00 [DBG] Connection id "0HMV6D0BAEFNO", Request id "0HMV6D0BAEFNO:00000002": done reading request body.
2023-11-15 23:51:33.947 -06:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:51:33.950 -06:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:51:33.951 -06:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 23:51:33.959 -06:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 23:51:34.090 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 23:51:34.096 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 23:51:34.097 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 23:51:34.098 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 23:51:34.100 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-11-15 23:51:34.101 -06:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-11-15 23:51:34.110 -06:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 345.1375ms
2023-11-15 23:51:34.116 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 23:51:34.117 -06:00 [DBG] Connection id "0HMV6D0BAEFNO" completed keep alive response.
2023-11-15 23:51:34.121 -06:00 [INF] Request finished HTTP/1.1 POST https://localhost:7169/api/authentication/authenticate application/json 114 - 200 - text/plain;+charset=utf-8 572.9505ms
2023-11-15 23:51:50.389 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities - -
2023-11-15 23:51:50.405 -06:00 [DBG] The request path  does not match the path filter
2023-11-15 23:51:50.409 -06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-11-15 23:51:50.412 -06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/Cities' is valid for the request path '/api/cities'
2023-11-15 23:51:50.414 -06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 23:51:50.509 -06:00 [DBG] Successfully validated the token.
2023-11-15 23:51:50.513 -06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-11-15 23:51:50.518 -06:00 [DBG] Authorization was successful.
2023-11-15 23:51:50.521 -06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 23:51:50.536 -06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-11-15 23:51:50.541 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 23:51:50.543 -06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 23:51:50.544 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 23:51:50.546 -06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 23:51:50.548 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 23:51:50.549 -06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 23:51:50.739 -06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-15 23:51:50.942 -06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 23:51:50.944 -06:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-11-15 23:51:50.947 -06:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-11-15 23:51:50.949 -06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-11-15 23:51:50.951 -06:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-11-15 23:51:50.952 -06:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-11-15 23:51:50.954 -06:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-11-15 23:51:50.956 -06:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-11-15 23:51:50.959 -06:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-11-15 23:51:50.961 -06:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-11-15 23:51:50.963 -06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-11-15 23:51:50.965 -06:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-11-15 23:51:50.967 -06:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-11-15 23:51:50.968 -06:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-11-15 23:51:50.970 -06:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-11-15 23:51:50.972 -06:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-11-15 23:51:50.976 -06:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-11-15 23:51:50.978 -06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-11-15 23:51:50.980 -06:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-11-15 23:51:50.981 -06:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-11-15 23:51:50.983 -06:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-11-15 23:51:50.984 -06:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-11-15 23:51:50.986 -06:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-11-15 23:51:50.987 -06:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-11-15 23:51:50.991 -06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-11-15 23:51:50.994 -06:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-11-15 23:51:50.996 -06:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-11-15 23:51:50.998 -06:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-11-15 23:51:51.000 -06:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-11-15 23:51:51.953 -06:00 [INF] Entity Framework Core 6.0.24 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.24' with options: None
2023-11-15 23:51:52.004 -06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2023-11-15 23:51:52.281 -06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-15 23:51:52.341 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 23:51:52.428 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (83ms).
2023-11-15 23:51:52.441 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 23:51:52.478 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 23:51:52.492 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-11-15 23:51:52.528 -06:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-11-15 23:51:52.543 -06:00 [DBG] A data reader was disposed.
2023-11-15 23:51:52.554 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 23:51:52.565 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 23:51:52.580 -06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2023-11-15 23:51:52.670 -06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-11-15 23:51:52.684 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 23:51:52.686 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-11-15 23:51:52.693 -06:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 23:51:52.696 -06:00 [DBG] Opened connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 23:51:52.704 -06:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-11-15 23:51:52.714 -06:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-11-15 23:51:52.735 -06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 23:51:52.765 -06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 23:51:52.768 -06:00 [DBG] A data reader was disposed.
2023-11-15 23:51:52.769 -06:00 [DBG] Closing connection to database 'main' on server 'C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\CityInfo.db'.
2023-11-15 23:51:52.771 -06:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 23:51:52.816 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-15 23:51:52.819 -06:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 23:51:52.820 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 23:51:52.821 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 23:51:52.823 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-15 23:51:52.824 -06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-15 23:51:52.887 -06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 2337.6413ms
2023-11-15 23:51:52.890 -06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 23:51:52.892 -06:00 [DBG] Connection id "0HMV6D0BAEFNO" completed keep alive response.
2023-11-15 23:51:52.898 -06:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 23:51:52.903 -06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities - - - 200 103 application/json;+charset=utf-8 2514.7999ms
2023-11-15 23:52:43.782 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 23:52:43.894 -06:00 [DBG] Hosting starting
2023-11-15 23:52:43.930 -06:00 [INF] User profile is available. Using 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-15 23:52:43.934 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-1b69dbee-3805-4a74-a08c-90a9e74fbb0d.xml'.
2023-11-15 23:52:43.940 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-2bfce52a-9b47-457a-9795-8a3304f5b5da.xml'.
2023-11-15 23:52:43.942 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-3993c40a-16c0-4071-8e7e-5978b8943164.xml'.
2023-11-15 23:52:43.944 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-633cad94-fa90-4a9e-954d-792589315797.xml'.
2023-11-15 23:52:43.945 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-7edd1a55-c347-4e06-a5ce-5e73f5d971a3.xml'.
2023-11-15 23:52:43.947 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-854d5304-df7c-41fc-9d54-e1caa9a637b9.xml'.
2023-11-15 23:52:43.948 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-8d98bb62-c769-4856-9198-eef25028fe8d.xml'.
2023-11-15 23:52:43.950 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-d5a9f251-bf7f-4c67-9da9-b2e38f201e90.xml'.
2023-11-15 23:52:43.951 -06:00 [DBG] Reading data from file 'C:\Users\usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-eab573a4-e062-40d3-b382-e8c766138a75.xml'.
2023-11-15 23:52:43.957 -06:00 [DBG] Found key {1b69dbee-3805-4a74-a08c-90a9e74fbb0d}.
2023-11-15 23:52:43.966 -06:00 [DBG] Found key {2bfce52a-9b47-457a-9795-8a3304f5b5da}.
2023-11-15 23:52:43.968 -06:00 [DBG] Found key {3993c40a-16c0-4071-8e7e-5978b8943164}.
2023-11-15 23:52:43.970 -06:00 [DBG] Found key {633cad94-fa90-4a9e-954d-792589315797}.
2023-11-15 23:52:43.972 -06:00 [DBG] Found key {7edd1a55-c347-4e06-a5ce-5e73f5d971a3}.
2023-11-15 23:52:43.973 -06:00 [DBG] Found key {854d5304-df7c-41fc-9d54-e1caa9a637b9}.
2023-11-15 23:52:43.975 -06:00 [DBG] Found key {8d98bb62-c769-4856-9198-eef25028fe8d}.
2023-11-15 23:52:43.977 -06:00 [DBG] Found key {d5a9f251-bf7f-4c67-9da9-b2e38f201e90}.
2023-11-15 23:52:43.978 -06:00 [DBG] Found key {eab573a4-e062-40d3-b382-e8c766138a75}.
2023-11-15 23:52:43.987 -06:00 [DBG] Considering key {854d5304-df7c-41fc-9d54-e1caa9a637b9} with expiration date 2024-02-02 17:06:28Z as default key.
2023-11-15 23:52:43.994 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 23:52:44.000 -06:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-11-15 23:52:44.003 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 23:52:44.010 -06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-11-15 23:52:44.014 -06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-11-15 23:52:44.020 -06:00 [DBG] Using key {854d5304-df7c-41fc-9d54-e1caa9a637b9} as the default key.
2023-11-15 23:52:44.025 -06:00 [DBG] Key ring with default key {854d5304-df7c-41fc-9d54-e1caa9a637b9} was loaded during application startup.
2023-11-15 23:52:44.158 -06:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 68DD1E22834647AC0D2A925FDBE1E0E628A1BE4C)
2023-11-15 23:52:44.213 -06:00 [INF] Now listening on: https://localhost:7169
2023-11-15 23:52:44.214 -06:00 [INF] Now listening on: http://localhost:5169
2023-11-15 23:52:44.216 -06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 23:52:44.218 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 23:52:44.220 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 23:52:44.222 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 23:52:44.224 -06:00 [INF] Hosting environment: Development
2023-11-15 23:52:44.225 -06:00 [INF] Content root path: C:\Users\usuario\Downloads\asp-dot-net-core-6-web-api-fundamentals\02\demos\end\CityInfo.API\
2023-11-15 23:52:44.227 -06:00 [DBG] Hosting started
